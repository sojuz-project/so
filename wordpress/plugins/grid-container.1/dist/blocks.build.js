/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!************************!*\
  !*** external "React" ***!
  \************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

module.exports = React;

/***/ }),
/* 1 */
/*!***********************!*\
  !*** ./src/blocks.js ***!
  \***********************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__block_block_js__ = __webpack_require__(/*! ./block/block.js */ 2);\n/**\n * Gutenberg Blocks\n *\n * All blocks related JavaScript files should be imported here.\n * You can create a new block folder in this dir and include code\n * for that block here as well.\n *\n * All blocks should be included here since this is the file that\n * Webpack is compiling as the input file.\n */\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9ja3MuanM/N2I1YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEd1dGVuYmVyZyBCbG9ja3NcbiAqXG4gKiBBbGwgYmxvY2tzIHJlbGF0ZWQgSmF2YVNjcmlwdCBmaWxlcyBzaG91bGQgYmUgaW1wb3J0ZWQgaGVyZS5cbiAqIFlvdSBjYW4gY3JlYXRlIGEgbmV3IGJsb2NrIGZvbGRlciBpbiB0aGlzIGRpciBhbmQgaW5jbHVkZSBjb2RlXG4gKiBmb3IgdGhhdCBibG9jayBoZXJlIGFzIHdlbGwuXG4gKlxuICogQWxsIGJsb2NrcyBzaG91bGQgYmUgaW5jbHVkZWQgaGVyZSBzaW5jZSB0aGlzIGlzIHRoZSBmaWxlIHRoYXRcbiAqIFdlYnBhY2sgaXMgY29tcGlsaW5nIGFzIHRoZSBpbnB1dCBmaWxlLlxuICovXG5cbmltcG9ydCAnLi9ibG9jay9ibG9jay5qcyc7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2tzLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!****************************!*\
  !*** ./src/block/block.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__style_scss__ = __webpack_require__(/*! ./style.scss */ 3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__style_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__editor_scss__ = __webpack_require__(/*! ./editor.scss */ 4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__editor_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__editor_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_components_DragGrid__ = __webpack_require__(/*! ../../../common-components/DragGrid */ 5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common_components_Paragraph__ = __webpack_require__(/*! ../../../common-components/Paragraph */ 12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__common_components_Image__ = __webpack_require__(/*! ../../../common-components/Image */ 13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__common_components_CustomImage__ = __webpack_require__(/*! ../../../common-components/CustomImage */ 14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__common_components_Heading__ = __webpack_require__(/*! ../../../common-components/Heading */ 15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__common_components_ComponentWrapper__ = __webpack_require__(/*! ../../../common-components/ComponentWrapper */ 16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__common_components_Action__ = __webpack_require__(/*! ../../../common-components/Action */ 17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__componentsSchema__ = __webpack_require__(/*! ./componentsSchema */ 18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__controlls_Block_GridOn__ = __webpack_require__(/*! ./controlls/Block_GridOn */ 19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__controlls_Block_PickComponent__ = __webpack_require__(/*! ./controlls/Block_PickComponent */ 20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__controlls_columnsPicker__ = __webpack_require__(/*! ./controlls/columnsPicker */ 21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__controlls_component_fontSize__ = __webpack_require__(/*! ./controlls/component_fontSize */ 22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__controlls_component_tagName__ = __webpack_require__(/*! ./controlls/component_tagName */ 23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__controlls_component_textColor__ = __webpack_require__(/*! ./controlls/component_textColor */ 24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__controlls_component_textWeight__ = __webpack_require__(/*! ./controlls/component_textWeight */ 25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__controlls_component_BgColor__ = __webpack_require__(/*! ./controlls/component_BgColor */ 26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__controlls_component_zIndex__ = __webpack_require__(/*! ./controlls/component_zIndex */ 27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__controlls_verticalalignPicker__ = __webpack_require__(/*! ./controlls/verticalalignPicker */ 28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__controlls_section_horizontalPaddings__ = __webpack_require__(/*! ./controlls/section_horizontalPaddings */ 29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__controlls_section_gridGap__ = __webpack_require__(/*! ./controlls/section_gridGap */ 30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__controlls_isSlideChecker__ = __webpack_require__(/*! ./controlls/isSlideChecker */ 31);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/**\n * BLOCK: grid-container\n *\n * Registering a basic block with Gutenberg.\n * Simple block, renders and saves the same content without any interactivity.\n */\n\n/**\n * docs\n * https://developer.wordpress.org/block-editor/components/toggle-control/\n\tHERO BLOCK\n\thttps://jschof.com/gutenberg-blocks/wordpress-gutenberg-blocks-example-creating-a-hero-image-block-with-inspector-controls-color-palette-and-media-upload-part-2/\n*/\n\n//  Import CSS.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Block controlls */\n\n\n/* Inspector componsnts controlls */\n\n\n\n\n\n\n\n/* Inspector sections controlls */\n\n\n\n\n\nvar _wp$editor = wp.editor,\n    InspectorControls = _wp$editor.InspectorControls,\n    ColorPalette = _wp$editor.ColorPalette,\n    BlockControls = _wp$editor.BlockControls,\n    AlignmentToolbar = _wp$editor.AlignmentToolbar;\nvar __ = wp.i18n.__; // Import __() from wp.i18n\n\nvar registerBlockType = wp.blocks.registerBlockType;\nvar useState = wp.element.useState;\nvar _wp$components = wp.components,\n    PanelBody = _wp$components.PanelBody,\n    Button = _wp$components.Button,\n    Dropdown = _wp$components.Dropdown,\n    ToggleControl = _wp$components.ToggleControl,\n    TextControl = _wp$components.TextControl,\n    SelectControl = _wp$components.SelectControl,\n    RangeControl = _wp$components.RangeControl,\n    ButtonGroup = _wp$components.ButtonGroup;\n\n\nvar componentMap = {\n\tcoreparagraph: __WEBPACK_IMPORTED_MODULE_4__common_components_Paragraph__[\"a\" /* coreparagraph */],\n\tcoreimage: __WEBPACK_IMPORTED_MODULE_5__common_components_Image__[\"a\" /* coreimage */],\n\tcustomimage: __WEBPACK_IMPORTED_MODULE_6__common_components_CustomImage__[\"a\" /* customimage */],\n\tcoreheading: __WEBPACK_IMPORTED_MODULE_7__common_components_Heading__[\"a\" /* coreheading */],\n\tcomponentwrapper: __WEBPACK_IMPORTED_MODULE_8__common_components_ComponentWrapper__[\"a\" /* componentwrapper */],\n\tcustomaction: __WEBPACK_IMPORTED_MODULE_9__common_components_Action__[\"a\" /* customaction */]\n};\n\nvar cellI = 0;\nvar addGridCell = function addGridCell(prev, defaultValues) {\n\treturn [].concat(_toConsumableArray(prev), [Object.assign({\n\t\ti: 'n' + ++cellI,\n\t\tx: 0,\n\t\ty: 4,\n\t\tzIndex: 1,\n\t\tw: 30,\n\t\th: 4,\n\t\tgh: undefined,\n\t\tpadding: undefined,\n\t\talign: undefined,\n\t\tverticalAlign: undefined,\n\t\tfontSize: undefined,\n\t\ttagName: undefined,\n\t\tfontWeight: undefined,\n\t\ttextColor: undefined,\n\t\tbackgroundColor: undefined,\n\t\tbackgroundOpacity: undefined,\n\t\treasignTo: undefined,\n\t\tmapQL: undefined\n\t}, defaultValues)]);\n};\n\nvar updateAttrs = function updateAttrs(sectionI, componentI, attrs) {\n\treturn function (section, sectionIndex) {\n\t\treturn sectionIndex === sectionI ? section.map(function (comp, compI) {\n\t\t\treturn compI === componentI ? Object.assign({}, comp, { attrs: attrs }) : comp;\n\t\t}) : section;\n\t};\n};\n\n/**\n * Register: aa Gutenberg Block.\n *\n *\n * @link https://wordpress.org/gutenberg/handbook/block-api/\n * @param  {string}   name     Block name.\n * @param  {Object}   settings Block settings.\n * @return {?WPBlock}          The block, if it has been successfully\n *                             registered; otherwise `undefined`.\n */\nvar block = registerBlockType('sojuz/block-grid-container', {\n\ttitle: __('Grid Container'), // Block title.\n\tdescription: __('Main SOJUZ project Block, dedicated to build multipropose sections'),\n\ticon: 'screenoptions', // Block icon from Dashicons → https://developer.wordpress.org/resource/dashicons/.\n\tcategory: 'common', // Block category — Group blocks together based on common traits E.g. common, formatting, layout widgets, embed.\n\tkeywords: [__('grid-container — SOJUZ Block'), __('SOJUZ Example'), __('create-guten-block')],\n\tsupports: {\n\t\talign: ['full']\n\t},\n\tattributes: {\n\t\talign: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"full\"\n\t\t},\n\t\tgridSections: {\n\t\t\ttype: 'object',\n\t\t\tdefault: {\n\t\t\t\tgridTemplateColumns: 'repeat(1, 1fr)', // gridTemplateColumns: `repeat(1, 1fr)`,\n\t\t\t\tisSlider: false, // ... \n\t\t\t\tgridType: 'fr',\n\t\t\t\tgridGap: '0vw', // gridGap\n\t\t\t\tpadding: '0 0vw 0 0vw', //  paddingLeft,  paddingRight\n\t\t\t\tbackgroundColor: ''\n\t\t\t}\n\t\t},\n\t\ttemplate: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [[]]\n\t\t},\n\t\tgridLayout: {\n\t\t\ttype: 'array',\n\t\t\tdefault: []\n\t\t},\n\t\tselectedElement: {\n\t\t\ttype: 'object',\n\t\t\tdefault: {\n\t\t\t\tcomponent: {},\n\t\t\t\tcomponentI: null\n\t\t\t}\n\t\t},\n\t\tclientId: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"\"\n\t\t},\n\t\tquery: {\n\t\t\ttype: 'string',\n\t\t\tdefault: \"\"\n\t\t}\n\t},\n\n\t// eslint-disable-next-line react/display-name\n\tedit: function edit(props) {\n\t\tvar _useState = useState(true),\n\t\t    _useState2 = _slicedToArray(_useState, 2),\n\t\t    gridMode = _useState2[0],\n\t\t    setGridMode = _useState2[1]; // is inverselogic\n\n\t\t// eslint-disable-next-line react/prop-types\n\n\n\t\tvar _props$attributes = props.attributes,\n\t\t    contentStyle = _props$attributes.contentStyle,\n\t\t    template = _props$attributes.template,\n\t\t    gridLayout = _props$attributes.gridLayout,\n\t\t    selectedElement = _props$attributes.selectedElement,\n\t\t    clientId = _props$attributes.clientId,\n\t\t    query = _props$attributes.query,\n\t\t    gridSections = _props$attributes.gridSections,\n\t\t    _props$attributes$gri = _props$attributes.gridSections,\n\t\t    isSlider = _props$attributes$gri.isSlider,\n\t\t    padding = _props$attributes$gri.padding,\n\t\t    gridType = _props$attributes$gri.gridType,\n\t\t    gridGap = _props$attributes$gri.gridGap,\n\t\t    gridTemplateColumns = _props$attributes$gri.gridTemplateColumns,\n\t\t    className = props.className,\n\t\t    setAttributes = props.setAttributes;\n\n\t\t// depreciated in dataSources\n\n\t\tsetAttributes({\n\t\t\tclientId: props.clientId\n\t\t});\n\n\t\tvar setAttributesByGrid = function setAttributesByGrid(key) {\n\t\t\treturn function (value) {\n\t\t\t\treturn setGridMode(function (prev) {\n\t\t\t\t\treturn true;\n\t\t\t\t}) || setAttributes({\n\t\t\t\t\tgridLayout: gridLayout.map(function (element, elementI) {\n\t\t\t\t\t\treturn selectedElement.componentI === elementI ? Object.assign({}, element, _defineProperty({}, key, value)) : element;\n\t\t\t\t\t})\n\t\t\t\t}) || console.log(gridLayout, value);\n\t\t\t};\n\t\t};\n\n\t\tvar setAttributesGridSections = function setAttributesGridSections(key) {\n\t\t\treturn function (value) {\n\t\t\t\treturn setGridMode(function (prev) {\n\t\t\t\t\treturn true;\n\t\t\t\t}) || setAttributes({\n\t\t\t\t\tgridSections: Object.assign({}, gridSections, _defineProperty({}, key, value))\n\t\t\t\t});\n\t\t\t};\n\t\t};\n\n\t\t// const onChangeFontClassSize = ({slug:fontSize}) => {\n\t\t// \tsetAttributes({\n\t\t// \t\tgridLayout: gridLayout.map((element, elementI) => selectedElement.componentI === elementI\n\t\t// \t\t\t? { ...element, ['fontSize']: fontSize }\n\t\t// \t\t\t: element)\n\t\t// \t});\n\t\t// };\n\n\t\tvar addSection = function addSection() {\n\t\t\tsetAttributes({ template: [].concat(_toConsumableArray(template), [template[0]]) });\n\t\t\tsetGridMode(function (prev) {\n\t\t\t\treturn true;\n\t\t\t});\n\t\t};\n\n\t\tvar removeComponent = function removeComponent(componentI) {\n\t\t\tvar copy = template.map(function (section) {\n\t\t\t\treturn section.filter(function (e, index) {\n\t\t\t\t\treturn index != componentI;\n\t\t\t\t});\n\t\t\t});\n\t\t\tvar test = gridLayout.filter(function (e, index) {\n\t\t\t\treturn index != componentI;\n\t\t\t});\n\t\t\tsetAttributes({ template: copy, gridLayout: test });\n\t\t};\n\t\t// const onRemoveItem = (i) => {\n\t\t// \tconst copy = template.map((section) =>\n\t\t// \t\tsection.filter((e, index) => (\n\t\t// \t\t\tindex != i\n\t\t// \t\t)));\n\t\t// \tconst test = gridLayout.filter((e, index) => (index != i))\n\t\t// \tsetAttributes({ template: copy, gridLayout: test});\n\t\t// };\n\t\t// const onClickItem = (i) => {\n\t\t// \tsetAttributes({selectedElement: { componentI: i }})\n\t\t// };\n\t\tvar onClickComponent = function onClickComponent(component, componentI) {\n\t\t\tsetAttributes({\n\t\t\t\tselectedElement: { component: component, componentI: componentI }\n\t\t\t});\n\t\t};\n\n\t\tvar newComponent = function newComponent(compKey) {\n\t\t\tvar _componentsSchema$com = __WEBPACK_IMPORTED_MODULE_10__componentsSchema__[\"a\" /* componentsSchema */][compKey],\n\t\t\t    defaultValues = _componentsSchema$com.defaultValues,\n\t\t\t    schemaCopmonent = _objectWithoutProperties(_componentsSchema$com, ['defaultValues']);\n\n\t\t\tvar copy = template.map(function (section, i) {\n\t\t\t\treturn [].concat(_toConsumableArray(section), [schemaCopmonent]);\n\t\t\t});\n\t\t\tsetAttributes({\n\t\t\t\ttemplate: copy,\n\t\t\t\tgridLayout: addGridCell(gridLayout, defaultValues),\n\t\t\t\tselectedElement: { component: schemaCopmonent, componentI: template[0].length }\n\t\t\t});\n\t\t\tsetGridMode(function (prev) {\n\t\t\t\treturn false;\n\t\t\t});\n\t\t};\n\n\t\treturn wp.element.createElement(\n\t\t\t__WEBPACK_IMPORTED_MODULE_2_react___default.a.Fragment,\n\t\t\tnull,\n\t\t\twp.element.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ style: gridSections, className: 'alignfull wp-block-sojuz-block-grid-container ' + (gridMode ? '' : 'grid-mode-on') },\n\t\t\t\twp.element.createElement(\n\t\t\t\t\tBlockControls,\n\t\t\t\t\tnull,\n\t\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_12__controlls_Block_PickComponent__[\"a\" /* default */], { newComponent: newComponent }),\n\t\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_11__controlls_Block_GridOn__[\"a\" /* default */], { setGridMode: setGridMode, gridMode: gridMode }),\n\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclassName: 'components-toolbar',\n\t\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\t\tsetGridMode(function (prev) {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\twp.data.select('core/edit-post').getActiveGeneralSidebarName() === 'data-sources-plugin/dataSources' ? wp.data.dispatch(\"core/edit-post\").openGeneralSidebar(\"edit-post/block\") : wp.data.dispatch(\"core/edit-post\").openGeneralSidebar(\"data-sources-plugin/dataSources\");\n\t\t\t\t\t\t\t} },\n\t\t\t\t\t\twp.element.createElement('span', { className: 'dashicons dashicons-download' })\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\twp.element.createElement(\n\t\t\t\t\tInspectorControls,\n\t\t\t\t\tnull,\n\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\tPanelBody,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: __('Block canvas propertis'),\n\t\t\t\t\t\t\tinitialOpen: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'Background color'\n\t\t\t\t\t\t),\n\t\t\t\t\t\twp.element.createElement(ColorPalette, { vslue: gridSections.backgroundColor, onChange: setAttributesGridSections('backgroundColor') }),\n\t\t\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_21__controlls_section_horizontalPaddings__[\"a\" /* default */], { marginValue: gridSections.padding, onHorizontalMargins: setAttributesGridSections('padding') }),\n\t\t\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_22__controlls_section_gridGap__[\"a\" /* default */], { gapValue: gridSections.gridGap, onGridGap: setAttributesGridSections('gridGap') })\n\t\t\t\t\t),\n\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\tPanelBody,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: __('Selected component properties'),\n\t\t\t\t\t\t\tinitialOpen: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_20__controlls_verticalalignPicker__[\"a\" /* default */], { gridMode: gridMode, selectedElement: selectedElement, gridLayout: gridLayout, onChangeVerticalAlign: setAttributesByGrid('verticalAlign') }),\n\t\t\t\t\t\twp.element.createElement('hr', null),\n\t\t\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_14__controlls_component_fontSize__[\"a\" /* default */], { gridMode: gridMode, selectedElement: selectedElement, gridLayout: gridLayout, onChangeFontClassSize: setAttributesByGrid('fontSize') }),\n\t\t\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_15__controlls_component_tagName__[\"a\" /* default */], { gridMode: gridMode, selectedElement: selectedElement, gridLayout: gridLayout, onChangeTagname: setAttributesByGrid('tagName') }),\n\t\t\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_17__controlls_component_textWeight__[\"a\" /* default */], { gridMode: gridMode, selectedElement: selectedElement, gridLayout: gridLayout, onChangeFontWeight: setAttributesByGrid('weight') }),\n\t\t\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_16__controlls_component_textColor__[\"a\" /* default */], { gridMode: gridMode, selectedElement: selectedElement, gridLayout: gridLayout, onChangeTextColor: setAttributesByGrid('textColor') }),\n\t\t\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_18__controlls_component_BgColor__[\"a\" /* default */], { gridMode: gridMode, selectedElement: selectedElement, gridLayout: gridLayout, onChangeBgColor: setAttributesByGrid('backgroundColor') }),\n\t\t\t\t\t\tgridLayout[selectedElement.componentI] && wp.element.createElement(RangeControl, {\n\t\t\t\t\t\t\tlabel: 'Background opacity',\n\t\t\t\t\t\t\tvalue: gridLayout[selectedElement.componentI].backgroundOpacity,\n\t\t\t\t\t\t\tonChange: setAttributesByGrid('backgroundOpacity'),\n\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\tmax: 1,\n\t\t\t\t\t\t\tstep: 0.1\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tgridLayout[selectedElement.componentI] && wp.element.createElement(RangeControl, {\n\t\t\t\t\t\t\tlabel: 'Inner padding',\n\t\t\t\t\t\t\tvalue: gridLayout[selectedElement.componentI].padding,\n\t\t\t\t\t\t\tonChange: setAttributesByGrid('padding'),\n\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\tmax: 2,\n\t\t\t\t\t\t\tstep: 0.1\n\t\t\t\t\t\t}),\n\t\t\t\t\t\twp.element.createElement('hr', null),\n\t\t\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_19__controlls_component_zIndex__[\"a\" /* default */], { selectedElement: selectedElement, gridLayoutObject: gridLayout[selectedElement.componentI], onZIndexChange: setAttributesByGrid('zIndex') }),\n\t\t\t\t\t\twp.element.createElement(TextControl, {\n\t\t\t\t\t\t\tlabel: 'Ressign component',\n\t\t\t\t\t\t\tvalue: gridLayout[selectedElement.componentI] ? gridLayout[selectedElement.componentI].reasignTo : null,\n\t\t\t\t\t\t\tonChange: setAttributesByGrid('reasignTo')\n\t\t\t\t\t\t}),\n\t\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ 'class': 'components-base-control' },\n\t\t\t\t\t\t\twp.element.createElement(ToggleControl, {\n\t\t\t\t\t\t\t\tlabel: 'Hidden to hover'\n\t\t\t\t\t\t\t\t// checked={isSlider}\n\t\t\t\t\t\t\t\t// onChange={() => setAttributes({ isSlider: !isSlider })}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\tPanelBody,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: __('List'),\n\t\t\t\t\t\t\tinitialOpen: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: 'list-data-elements' },\n\t\t\t\t\t\t\ttemplate.map(function (section, sectionIndex) {\n\t\t\t\t\t\t\t\treturn wp.element.createElement(\n\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t{ className: 'selector-item', key: sectionIndex },\n\t\t\t\t\t\t\t\t\t'Section list element: ',\n\t\t\t\t\t\t\t\t\tsectionIndex\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t),\n\t\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t\tButton,\n\t\t\t\t\t\t\t{ isPrimary: true, className: 'full-width', onClick: addSection },\n\t\t\t\t\t\t\t'+ Duplicate section'\n\t\t\t\t\t\t),\n\t\t\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_13__controlls_columnsPicker__[\"a\" /* default */], { gridTemplateColumns: gridSections.gridTemplateColumns, gridTemplateColumnsChange: setAttributesGridSections('gridTemplateColumns') }),\n\t\t\t\t\t\twp.element.createElement(ToggleControl, {\n\t\t\t\t\t\t\tlabel: 'Display as slider',\n\t\t\t\t\t\t\tchecked: isSlider,\n\t\t\t\t\t\t\tonChange: function onChange() {\n\t\t\t\t\t\t\t\treturn setAttributes({ isSlider: !isSlider });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\tPanelBody,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: __('Data sources'),\n\t\t\t\t\t\t\tinitialOpen: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t\tButton,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclassName: 'full-width',\n\t\t\t\t\t\t\t\tisPrimary: true,\n\t\t\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\t\t\tsetGridMode(function (prev) {\n\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\twp.data.dispatch(\"core/edit-post\").openGeneralSidebar(\"data-sources-plugin/dataSources\");\n\t\t\t\t\t\t\t\t} },\n\t\t\t\t\t\t\twp.element.createElement('span', { className: 'dashicons dashicons-download' }),\n\t\t\t\t\t\t\t' Open data sources panel'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\twp.element.createElement(\n\t\t\t\t\tBlockControls,\n\t\t\t\t\tnull,\n\t\t\t\t\twp.element.createElement(AlignmentToolbar, {\n\t\t\t\t\t\tvalue: template[0][selectedElement.componentI] ? template[0][selectedElement.componentI].attrs.align : null,\n\t\t\t\t\t\tonChange: setAttributesByGrid('align')\n\t\t\t\t\t})\n\t\t\t\t),\n\t\t\t\twp.element.createElement(\n\t\t\t\t\t__WEBPACK_IMPORTED_MODULE_2_react___default.a.Fragment,\n\t\t\t\t\tnull,\n\t\t\t\t\t(gridMode ? template : [template[0]]).\n\t\t\t\t\t//sections\n\t\t\t\t\tmap(function (section, sectionI) {\n\t\t\t\t\t\treturn wp.element.createElement(\n\t\t\t\t\t\t\t'section',\n\t\t\t\t\t\t\t{ onDoubleClick: function onDoubleClick() {\n\t\t\t\t\t\t\t\t\tsetGridMode(function (prev) {\n\t\t\t\t\t\t\t\t\t\treturn !prev;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\twp.data.dispatch(\"core/edit-post\").openGeneralSidebar(\"edit-post/block\");\n\t\t\t\t\t\t\t\t}, key: 'section-' + sectionI },\n\t\t\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t\t\t__WEBPACK_IMPORTED_MODULE_3__common_components_DragGrid__[\"a\" /* DragGrid */],\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tgridMode: gridMode,\n\t\t\t\t\t\t\t\t\tgridLayout: gridLayout,\n\t\t\t\t\t\t\t\t\tonChange: function onChange(newLayout) {\n\t\t\t\t\t\t\t\t\t\treturn setAttributes({ gridLayout: newLayout });\n\t\t\t\t\t\t\t\t\t} },\n\n\t\t\t\t\t\t\t\t//components.editor-rich-text{\n\t\t\t\t\t\t\t\tsection.map(function (component, componentI) {\n\t\t\t\t\t\t\t\t\tvar Component = componentMap[component.blockName];\n\t\t\t\t\t\t\t\t\tvar pathTo = component.attrs;\n\t\t\t\t\t\t\t\t\tvar update = function update(attrs) {\n\t\t\t\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\t\t\t\ttemplate: template.map(updateAttrs(sectionI, componentI, attrs))\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\treturn wp.element.createElement(\n\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tid: 'component-' + sectionI + '-' + componentI,\n\t\t\t\t\t\t\t\t\t\t\tkey: 'component-' + sectionI + '-' + componentI,\n\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\tgridArea: gridLayout[componentI].y + 1 + ' / ' + (gridLayout[componentI].x + 1) + ' / span ' + gridLayout[componentI].h + ' / span ' + gridLayout[componentI].w,\n\t\t\t\t\t\t\t\t\t\t\t\tzIndex: gridLayout[componentI].zIndex,\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: gridLayout[componentI].padding + 'vw',\n\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: gridLayout[componentI].align,\n\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: gridLayout[componentI].fontWeight\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tclassName: 'component ' + (component.mapQL.length ? 'edit-lock' : '') + ' \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t' + (selectedElement.componentI == componentI && newFunction()),\n\t\t\t\t\t\t\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\t\t\t\t\t\t\treturn onClickComponent(component, componentI);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\twp.element.createElement(Component, { attrs: pathTo, updateAttrs: update, gridLayoutObject: gridLayout[componentI] }),\n\t\t\t\t\t\t\t\t\t\t!component.mapQL.length && selectedElement.componentI === componentI && wp.data.select('core/edit-post').getActiveGeneralSidebarName() === 'data-sources-plugin/dataSources' ? wp.element.createElement(\n\t\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t\t{ className: 'set-data-source badge' },\n\t\t\t\t\t\t\t\t\t\t\twp.element.createElement('span', { className: 'dashicons dashicons-download' }),\n\t\t\t\t\t\t\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t'Choose source from sidebar'\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t) : false,\n\t\t\t\t\t\t\t\t\t\tcomponent.mapQL.length ? wp.element.createElement(\n\t\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t\t{ className: 'mapql badge' },\n\t\t\t\t\t\t\t\t\t\t\twp.element.createElement('span', { className: 'dashicons dashicons-admin-links' }),\n\t\t\t\t\t\t\t\t\t\t\twp.element.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent.mapQL[1]\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t) : false,\n\t\t\t\t\t\t\t\t\t\tgridMode && selectedElement.componentI === componentI ? wp.element.createElement(\n\t\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t\t{ onClick: function onClick() {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn removeComponent(selectedElement.componentI);\n\t\t\t\t\t\t\t\t\t\t\t\t}, className: 'remove-component badge' },\n\t\t\t\t\t\t\t\t\t\t\twp.element.createElement('span', { className: 'dashicons dashicons-trash' })\n\t\t\t\t\t\t\t\t\t\t) : false\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t),\n\t\t\twp.element.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'new-section-bar' },\n\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_23__controlls_isSlideChecker__[\"a\" /* default */], { isSlider: isSlider, onIsSlider: setAttributesGridSections('isSlider') }),\n\t\t\t\twp.element.createElement(__WEBPACK_IMPORTED_MODULE_13__controlls_columnsPicker__[\"a\" /* default */], { gridTemplateColumns: gridSections.gridTemplateColumns, gridTemplateColumnsChange: setAttributesGridSections('gridTemplateColumns') }),\n\t\t\t\twp.element.createElement(\n\t\t\t\t\tButton,\n\t\t\t\t\t{ isPrimary: true, onClick: addSection },\n\t\t\t\t\t'+ Duplicate section'\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t},\n\n\tsave: function save() {\n\t\treturn wp.element.createElement(\n\t\t\t'div',\n\t\t\tnull,\n\t\t\t'This is sojuz project block'\n\t\t);\n\t}\n});\n\nfunction newFunction() {\n\treturn 'component-selected';\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9ibG9jay5qcz85MjFkIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuLyoqXG4gKiBCTE9DSzogZ3JpZC1jb250YWluZXJcbiAqXG4gKiBSZWdpc3RlcmluZyBhIGJhc2ljIGJsb2NrIHdpdGggR3V0ZW5iZXJnLlxuICogU2ltcGxlIGJsb2NrLCByZW5kZXJzIGFuZCBzYXZlcyB0aGUgc2FtZSBjb250ZW50IHdpdGhvdXQgYW55IGludGVyYWN0aXZpdHkuXG4gKi9cblxuLyoqXG4gKiBkb2NzXG4gKiBodHRwczovL2RldmVsb3Blci53b3JkcHJlc3Mub3JnL2Jsb2NrLWVkaXRvci9jb21wb25lbnRzL3RvZ2dsZS1jb250cm9sL1xuXHRIRVJPIEJMT0NLXG5cdGh0dHBzOi8vanNjaG9mLmNvbS9ndXRlbmJlcmctYmxvY2tzL3dvcmRwcmVzcy1ndXRlbmJlcmctYmxvY2tzLWV4YW1wbGUtY3JlYXRpbmctYS1oZXJvLWltYWdlLWJsb2NrLXdpdGgtaW5zcGVjdG9yLWNvbnRyb2xzLWNvbG9yLXBhbGV0dGUtYW5kLW1lZGlhLXVwbG9hZC1wYXJ0LTIvXG4qL1xuXG4vLyAgSW1wb3J0IENTUy5cbmltcG9ydCAnLi9zdHlsZS5zY3NzJztcbmltcG9ydCAnLi9lZGl0b3Iuc2Nzcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBEcmFnR3JpZCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi1jb21wb25lbnRzL0RyYWdHcmlkJztcblxuaW1wb3J0IHsgY29yZXBhcmFncmFwaCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi1jb21wb25lbnRzL1BhcmFncmFwaCc7XG5pbXBvcnQgeyBjb3JlaW1hZ2UgfSBmcm9tICcuLi8uLi8uLi9jb21tb24tY29tcG9uZW50cy9JbWFnZSc7XG5pbXBvcnQgeyBjdXN0b21pbWFnZSB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi1jb21wb25lbnRzL0N1c3RvbUltYWdlJztcbmltcG9ydCB7IGNvcmVoZWFkaW5nIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uLWNvbXBvbmVudHMvSGVhZGluZyc7XG5pbXBvcnQgeyBjb21wb25lbnR3cmFwcGVyIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uLWNvbXBvbmVudHMvQ29tcG9uZW50V3JhcHBlcic7XG5pbXBvcnQgeyBjdXN0b21hY3Rpb24gfSBmcm9tICcuLi8uLi8uLi9jb21tb24tY29tcG9uZW50cy9BY3Rpb24nO1xuXG5pbXBvcnQgeyBjb21wb25lbnRzU2NoZW1hIH0gZnJvbSAnLi9jb21wb25lbnRzU2NoZW1hJztcbi8qIEJsb2NrIGNvbnRyb2xscyAqL1xuaW1wb3J0IEJsb2NrR3JpZE9uIGZyb20gJy4vY29udHJvbGxzL0Jsb2NrX0dyaWRPbic7XG5pbXBvcnQgQmxvY2tQaWNrQ29tcG9uZW50IGZyb20gJy4vY29udHJvbGxzL0Jsb2NrX1BpY2tDb21wb25lbnQnO1xuLyogSW5zcGVjdG9yIGNvbXBvbnNudHMgY29udHJvbGxzICovXG5pbXBvcnQgQ29sdW1uc1BpY2tlciBmcm9tICcuL2NvbnRyb2xscy9jb2x1bW5zUGlja2VyJztcbmltcG9ydCBTaXplQ2xhc3NQaWNrZXIgZnJvbSAnLi9jb250cm9sbHMvY29tcG9uZW50X2ZvbnRTaXplJztcbmltcG9ydCBUYWduYW1lUGlja2VyIGZyb20gJy4vY29udHJvbGxzL2NvbXBvbmVudF90YWdOYW1lJztcbmltcG9ydCBUZXh0Q29sb3JQaWNrZXIgZnJvbSAnLi9jb250cm9sbHMvY29tcG9uZW50X3RleHRDb2xvcic7XG5pbXBvcnQgVGV4dFdlaWdodFBpY2tlciBmcm9tICcuL2NvbnRyb2xscy9jb21wb25lbnRfdGV4dFdlaWdodCc7XG5pbXBvcnQgQmFja2dyb3VuZENvbG9yIGZyb20gJy4vY29udHJvbGxzL2NvbXBvbmVudF9CZ0NvbG9yJztcbmltcG9ydCBaSW5kZXhQaWNrZXIgZnJvbSAnLi9jb250cm9sbHMvY29tcG9uZW50X3pJbmRleCc7XG4vKiBJbnNwZWN0b3Igc2VjdGlvbnMgY29udHJvbGxzICovXG5pbXBvcnQgVmVydGljYWxBbGlnblBpY2tlciBmcm9tICcuL2NvbnRyb2xscy92ZXJ0aWNhbGFsaWduUGlja2VyJztcbmltcG9ydCBTZWN0aW9uSG9yaXpvbnRhbFBhZGRpbmdzIGZyb20gJy4vY29udHJvbGxzL3NlY3Rpb25faG9yaXpvbnRhbFBhZGRpbmdzJztcbmltcG9ydCBTZWN0aW9uR3JpZEdhcCBmcm9tICcuL2NvbnRyb2xscy9zZWN0aW9uX2dyaWRHYXAnO1xuaW1wb3J0IElzU2xpZGVDaGVja2VyIGZyb20gJy4vY29udHJvbGxzL2lzU2xpZGVDaGVja2VyJztcblxudmFyIF93cCRlZGl0b3IgPSB3cC5lZGl0b3IsXG4gICAgSW5zcGVjdG9yQ29udHJvbHMgPSBfd3AkZWRpdG9yLkluc3BlY3RvckNvbnRyb2xzLFxuICAgIENvbG9yUGFsZXR0ZSA9IF93cCRlZGl0b3IuQ29sb3JQYWxldHRlLFxuICAgIEJsb2NrQ29udHJvbHMgPSBfd3AkZWRpdG9yLkJsb2NrQ29udHJvbHMsXG4gICAgQWxpZ25tZW50VG9vbGJhciA9IF93cCRlZGl0b3IuQWxpZ25tZW50VG9vbGJhcjtcbnZhciBfXyA9IHdwLmkxOG4uX187IC8vIEltcG9ydCBfXygpIGZyb20gd3AuaTE4blxuXG52YXIgcmVnaXN0ZXJCbG9ja1R5cGUgPSB3cC5ibG9ja3MucmVnaXN0ZXJCbG9ja1R5cGU7XG52YXIgdXNlU3RhdGUgPSB3cC5lbGVtZW50LnVzZVN0YXRlO1xudmFyIF93cCRjb21wb25lbnRzID0gd3AuY29tcG9uZW50cyxcbiAgICBQYW5lbEJvZHkgPSBfd3AkY29tcG9uZW50cy5QYW5lbEJvZHksXG4gICAgQnV0dG9uID0gX3dwJGNvbXBvbmVudHMuQnV0dG9uLFxuICAgIERyb3Bkb3duID0gX3dwJGNvbXBvbmVudHMuRHJvcGRvd24sXG4gICAgVG9nZ2xlQ29udHJvbCA9IF93cCRjb21wb25lbnRzLlRvZ2dsZUNvbnRyb2wsXG4gICAgVGV4dENvbnRyb2wgPSBfd3AkY29tcG9uZW50cy5UZXh0Q29udHJvbCxcbiAgICBTZWxlY3RDb250cm9sID0gX3dwJGNvbXBvbmVudHMuU2VsZWN0Q29udHJvbCxcbiAgICBSYW5nZUNvbnRyb2wgPSBfd3AkY29tcG9uZW50cy5SYW5nZUNvbnRyb2wsXG4gICAgQnV0dG9uR3JvdXAgPSBfd3AkY29tcG9uZW50cy5CdXR0b25Hcm91cDtcblxuXG52YXIgY29tcG9uZW50TWFwID0ge1xuXHRjb3JlcGFyYWdyYXBoOiBjb3JlcGFyYWdyYXBoLFxuXHRjb3JlaW1hZ2U6IGNvcmVpbWFnZSxcblx0Y3VzdG9taW1hZ2U6IGN1c3RvbWltYWdlLFxuXHRjb3JlaGVhZGluZzogY29yZWhlYWRpbmcsXG5cdGNvbXBvbmVudHdyYXBwZXI6IGNvbXBvbmVudHdyYXBwZXIsXG5cdGN1c3RvbWFjdGlvbjogY3VzdG9tYWN0aW9uXG59O1xuXG52YXIgY2VsbEkgPSAwO1xudmFyIGFkZEdyaWRDZWxsID0gZnVuY3Rpb24gYWRkR3JpZENlbGwocHJldiwgZGVmYXVsdFZhbHVlcykge1xuXHRyZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcmV2KSwgW09iamVjdC5hc3NpZ24oe1xuXHRcdGk6ICduJyArICsrY2VsbEksXG5cdFx0eDogMCxcblx0XHR5OiA0LFxuXHRcdHpJbmRleDogMSxcblx0XHR3OiAzMCxcblx0XHRoOiA0LFxuXHRcdGdoOiB1bmRlZmluZWQsXG5cdFx0cGFkZGluZzogdW5kZWZpbmVkLFxuXHRcdGFsaWduOiB1bmRlZmluZWQsXG5cdFx0dmVydGljYWxBbGlnbjogdW5kZWZpbmVkLFxuXHRcdGZvbnRTaXplOiB1bmRlZmluZWQsXG5cdFx0dGFnTmFtZTogdW5kZWZpbmVkLFxuXHRcdGZvbnRXZWlnaHQ6IHVuZGVmaW5lZCxcblx0XHR0ZXh0Q29sb3I6IHVuZGVmaW5lZCxcblx0XHRiYWNrZ3JvdW5kQ29sb3I6IHVuZGVmaW5lZCxcblx0XHRiYWNrZ3JvdW5kT3BhY2l0eTogdW5kZWZpbmVkLFxuXHRcdHJlYXNpZ25UbzogdW5kZWZpbmVkLFxuXHRcdG1hcFFMOiB1bmRlZmluZWRcblx0fSwgZGVmYXVsdFZhbHVlcyldKTtcbn07XG5cbnZhciB1cGRhdGVBdHRycyA9IGZ1bmN0aW9uIHVwZGF0ZUF0dHJzKHNlY3Rpb25JLCBjb21wb25lbnRJLCBhdHRycykge1xuXHRyZXR1cm4gZnVuY3Rpb24gKHNlY3Rpb24sIHNlY3Rpb25JbmRleCkge1xuXHRcdHJldHVybiBzZWN0aW9uSW5kZXggPT09IHNlY3Rpb25JID8gc2VjdGlvbi5tYXAoZnVuY3Rpb24gKGNvbXAsIGNvbXBJKSB7XG5cdFx0XHRyZXR1cm4gY29tcEkgPT09IGNvbXBvbmVudEkgPyBPYmplY3QuYXNzaWduKHt9LCBjb21wLCB7IGF0dHJzOiBhdHRycyB9KSA6IGNvbXA7XG5cdFx0fSkgOiBzZWN0aW9uO1xuXHR9O1xufTtcblxuLyoqXG4gKiBSZWdpc3RlcjogYWEgR3V0ZW5iZXJnIEJsb2NrLlxuICpcbiAqXG4gKiBAbGluayBodHRwczovL3dvcmRwcmVzcy5vcmcvZ3V0ZW5iZXJnL2hhbmRib29rL2Jsb2NrLWFwaS9cbiAqIEBwYXJhbSAge3N0cmluZ30gICBuYW1lICAgICBCbG9jayBuYW1lLlxuICogQHBhcmFtICB7T2JqZWN0fSAgIHNldHRpbmdzIEJsb2NrIHNldHRpbmdzLlxuICogQHJldHVybiB7P1dQQmxvY2t9ICAgICAgICAgIFRoZSBibG9jaywgaWYgaXQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJlZDsgb3RoZXJ3aXNlIGB1bmRlZmluZWRgLlxuICovXG52YXIgYmxvY2sgPSByZWdpc3RlckJsb2NrVHlwZSgnc29qdXovYmxvY2stZ3JpZC1jb250YWluZXInLCB7XG5cdHRpdGxlOiBfXygnR3JpZCBDb250YWluZXInKSwgLy8gQmxvY2sgdGl0bGUuXG5cdGRlc2NyaXB0aW9uOiBfXygnTWFpbiBTT0pVWiBwcm9qZWN0IEJsb2NrLCBkZWRpY2F0ZWQgdG8gYnVpbGQgbXVsdGlwcm9wb3NlIHNlY3Rpb25zJyksXG5cdGljb246ICdzY3JlZW5vcHRpb25zJywgLy8gQmxvY2sgaWNvbiBmcm9tIERhc2hpY29ucyDihpIgaHR0cHM6Ly9kZXZlbG9wZXIud29yZHByZXNzLm9yZy9yZXNvdXJjZS9kYXNoaWNvbnMvLlxuXHRjYXRlZ29yeTogJ2NvbW1vbicsIC8vIEJsb2NrIGNhdGVnb3J5IOKAlCBHcm91cCBibG9ja3MgdG9nZXRoZXIgYmFzZWQgb24gY29tbW9uIHRyYWl0cyBFLmcuIGNvbW1vbiwgZm9ybWF0dGluZywgbGF5b3V0IHdpZGdldHMsIGVtYmVkLlxuXHRrZXl3b3JkczogW19fKCdncmlkLWNvbnRhaW5lciDigJQgU09KVVogQmxvY2snKSwgX18oJ1NPSlVaIEV4YW1wbGUnKSwgX18oJ2NyZWF0ZS1ndXRlbi1ibG9jaycpXSxcblx0c3VwcG9ydHM6IHtcblx0XHRhbGlnbjogWydmdWxsJ11cblx0fSxcblx0YXR0cmlidXRlczoge1xuXHRcdGFsaWduOiB7XG5cdFx0XHR0eXBlOiAnc3RyaW5nJyxcblx0XHRcdGRlZmF1bHQ6IFwiZnVsbFwiXG5cdFx0fSxcblx0XHRncmlkU2VjdGlvbnM6IHtcblx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0ZGVmYXVsdDoge1xuXHRcdFx0XHRncmlkVGVtcGxhdGVDb2x1bW5zOiAncmVwZWF0KDEsIDFmciknLCAvLyBncmlkVGVtcGxhdGVDb2x1bW5zOiBgcmVwZWF0KDEsIDFmcilgLFxuXHRcdFx0XHRpc1NsaWRlcjogZmFsc2UsIC8vIC4uLiBcblx0XHRcdFx0Z3JpZFR5cGU6ICdmcicsXG5cdFx0XHRcdGdyaWRHYXA6ICcwdncnLCAvLyBncmlkR2FwXG5cdFx0XHRcdHBhZGRpbmc6ICcwIDB2dyAwIDB2dycsIC8vICBwYWRkaW5nTGVmdCwgIHBhZGRpbmdSaWdodFxuXHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICcnXG5cdFx0XHR9XG5cdFx0fSxcblx0XHR0ZW1wbGF0ZToge1xuXHRcdFx0dHlwZTogJ2FycmF5Jyxcblx0XHRcdGRlZmF1bHQ6IFtbXV1cblx0XHR9LFxuXHRcdGdyaWRMYXlvdXQ6IHtcblx0XHRcdHR5cGU6ICdhcnJheScsXG5cdFx0XHRkZWZhdWx0OiBbXVxuXHRcdH0sXG5cdFx0c2VsZWN0ZWRFbGVtZW50OiB7XG5cdFx0XHR0eXBlOiAnb2JqZWN0Jyxcblx0XHRcdGRlZmF1bHQ6IHtcblx0XHRcdFx0Y29tcG9uZW50OiB7fSxcblx0XHRcdFx0Y29tcG9uZW50STogbnVsbFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Y2xpZW50SWQ6IHtcblx0XHRcdHR5cGU6ICdzdHJpbmcnLFxuXHRcdFx0ZGVmYXVsdDogXCJcIlxuXHRcdH0sXG5cdFx0cXVlcnk6IHtcblx0XHRcdHR5cGU6ICdzdHJpbmcnLFxuXHRcdFx0ZGVmYXVsdDogXCJcIlxuXHRcdH1cblx0fSxcblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvZGlzcGxheS1uYW1lXG5cdGVkaXQ6IGZ1bmN0aW9uIGVkaXQocHJvcHMpIHtcblx0XHR2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUodHJ1ZSksXG5cdFx0ICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuXHRcdCAgICBncmlkTW9kZSA9IF91c2VTdGF0ZTJbMF0sXG5cdFx0ICAgIHNldEdyaWRNb2RlID0gX3VzZVN0YXRlMlsxXTsgLy8gaXMgaW52ZXJzZWxvZ2ljXG5cblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvcHJvcC10eXBlc1xuXG5cblx0XHR2YXIgX3Byb3BzJGF0dHJpYnV0ZXMgPSBwcm9wcy5hdHRyaWJ1dGVzLFxuXHRcdCAgICBjb250ZW50U3R5bGUgPSBfcHJvcHMkYXR0cmlidXRlcy5jb250ZW50U3R5bGUsXG5cdFx0ICAgIHRlbXBsYXRlID0gX3Byb3BzJGF0dHJpYnV0ZXMudGVtcGxhdGUsXG5cdFx0ICAgIGdyaWRMYXlvdXQgPSBfcHJvcHMkYXR0cmlidXRlcy5ncmlkTGF5b3V0LFxuXHRcdCAgICBzZWxlY3RlZEVsZW1lbnQgPSBfcHJvcHMkYXR0cmlidXRlcy5zZWxlY3RlZEVsZW1lbnQsXG5cdFx0ICAgIGNsaWVudElkID0gX3Byb3BzJGF0dHJpYnV0ZXMuY2xpZW50SWQsXG5cdFx0ICAgIHF1ZXJ5ID0gX3Byb3BzJGF0dHJpYnV0ZXMucXVlcnksXG5cdFx0ICAgIGdyaWRTZWN0aW9ucyA9IF9wcm9wcyRhdHRyaWJ1dGVzLmdyaWRTZWN0aW9ucyxcblx0XHQgICAgX3Byb3BzJGF0dHJpYnV0ZXMkZ3JpID0gX3Byb3BzJGF0dHJpYnV0ZXMuZ3JpZFNlY3Rpb25zLFxuXHRcdCAgICBpc1NsaWRlciA9IF9wcm9wcyRhdHRyaWJ1dGVzJGdyaS5pc1NsaWRlcixcblx0XHQgICAgcGFkZGluZyA9IF9wcm9wcyRhdHRyaWJ1dGVzJGdyaS5wYWRkaW5nLFxuXHRcdCAgICBncmlkVHlwZSA9IF9wcm9wcyRhdHRyaWJ1dGVzJGdyaS5ncmlkVHlwZSxcblx0XHQgICAgZ3JpZEdhcCA9IF9wcm9wcyRhdHRyaWJ1dGVzJGdyaS5ncmlkR2FwLFxuXHRcdCAgICBncmlkVGVtcGxhdGVDb2x1bW5zID0gX3Byb3BzJGF0dHJpYnV0ZXMkZ3JpLmdyaWRUZW1wbGF0ZUNvbHVtbnMsXG5cdFx0ICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcblx0XHQgICAgc2V0QXR0cmlidXRlcyA9IHByb3BzLnNldEF0dHJpYnV0ZXM7XG5cblx0XHQvLyBkZXByZWNpYXRlZCBpbiBkYXRhU291cmNlc1xuXG5cdFx0c2V0QXR0cmlidXRlcyh7XG5cdFx0XHRjbGllbnRJZDogcHJvcHMuY2xpZW50SWRcblx0XHR9KTtcblxuXHRcdHZhciBzZXRBdHRyaWJ1dGVzQnlHcmlkID0gZnVuY3Rpb24gc2V0QXR0cmlidXRlc0J5R3JpZChrZXkpIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIHNldEdyaWRNb2RlKGZ1bmN0aW9uIChwcmV2KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH0pIHx8IHNldEF0dHJpYnV0ZXMoe1xuXHRcdFx0XHRcdGdyaWRMYXlvdXQ6IGdyaWRMYXlvdXQubWFwKGZ1bmN0aW9uIChlbGVtZW50LCBlbGVtZW50SSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHNlbGVjdGVkRWxlbWVudC5jb21wb25lbnRJID09PSBlbGVtZW50SSA/IE9iamVjdC5hc3NpZ24oe30sIGVsZW1lbnQsIF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5LCB2YWx1ZSkpIDogZWxlbWVudDtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9KSB8fCBjb25zb2xlLmxvZyhncmlkTGF5b3V0LCB2YWx1ZSk7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHR2YXIgc2V0QXR0cmlidXRlc0dyaWRTZWN0aW9ucyA9IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNHcmlkU2VjdGlvbnMoa2V5KSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdHJldHVybiBzZXRHcmlkTW9kZShmdW5jdGlvbiAocHJldikge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9KSB8fCBzZXRBdHRyaWJ1dGVzKHtcblx0XHRcdFx0XHRncmlkU2VjdGlvbnM6IE9iamVjdC5hc3NpZ24oe30sIGdyaWRTZWN0aW9ucywgX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIHZhbHVlKSlcblx0XHRcdFx0fSk7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQvLyBjb25zdCBvbkNoYW5nZUZvbnRDbGFzc1NpemUgPSAoe3NsdWc6Zm9udFNpemV9KSA9PiB7XG5cdFx0Ly8gXHRzZXRBdHRyaWJ1dGVzKHtcblx0XHQvLyBcdFx0Z3JpZExheW91dDogZ3JpZExheW91dC5tYXAoKGVsZW1lbnQsIGVsZW1lbnRJKSA9PiBzZWxlY3RlZEVsZW1lbnQuY29tcG9uZW50SSA9PT0gZWxlbWVudElcblx0XHQvLyBcdFx0XHQ/IHsgLi4uZWxlbWVudCwgWydmb250U2l6ZSddOiBmb250U2l6ZSB9XG5cdFx0Ly8gXHRcdFx0OiBlbGVtZW50KVxuXHRcdC8vIFx0fSk7XG5cdFx0Ly8gfTtcblxuXHRcdHZhciBhZGRTZWN0aW9uID0gZnVuY3Rpb24gYWRkU2VjdGlvbigpIHtcblx0XHRcdHNldEF0dHJpYnV0ZXMoeyB0ZW1wbGF0ZTogW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0ZW1wbGF0ZSksIFt0ZW1wbGF0ZVswXV0pIH0pO1xuXHRcdFx0c2V0R3JpZE1vZGUoZnVuY3Rpb24gKHByZXYpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0dmFyIHJlbW92ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIHJlbW92ZUNvbXBvbmVudChjb21wb25lbnRJKSB7XG5cdFx0XHR2YXIgY29weSA9IHRlbXBsYXRlLm1hcChmdW5jdGlvbiAoc2VjdGlvbikge1xuXHRcdFx0XHRyZXR1cm4gc2VjdGlvbi5maWx0ZXIoZnVuY3Rpb24gKGUsIGluZGV4KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGluZGV4ICE9IGNvbXBvbmVudEk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0XHR2YXIgdGVzdCA9IGdyaWRMYXlvdXQuZmlsdGVyKGZ1bmN0aW9uIChlLCBpbmRleCkge1xuXHRcdFx0XHRyZXR1cm4gaW5kZXggIT0gY29tcG9uZW50STtcblx0XHRcdH0pO1xuXHRcdFx0c2V0QXR0cmlidXRlcyh7IHRlbXBsYXRlOiBjb3B5LCBncmlkTGF5b3V0OiB0ZXN0IH0pO1xuXHRcdH07XG5cdFx0Ly8gY29uc3Qgb25SZW1vdmVJdGVtID0gKGkpID0+IHtcblx0XHQvLyBcdGNvbnN0IGNvcHkgPSB0ZW1wbGF0ZS5tYXAoKHNlY3Rpb24pID0+XG5cdFx0Ly8gXHRcdHNlY3Rpb24uZmlsdGVyKChlLCBpbmRleCkgPT4gKFxuXHRcdC8vIFx0XHRcdGluZGV4ICE9IGlcblx0XHQvLyBcdFx0KSkpO1xuXHRcdC8vIFx0Y29uc3QgdGVzdCA9IGdyaWRMYXlvdXQuZmlsdGVyKChlLCBpbmRleCkgPT4gKGluZGV4ICE9IGkpKVxuXHRcdC8vIFx0c2V0QXR0cmlidXRlcyh7IHRlbXBsYXRlOiBjb3B5LCBncmlkTGF5b3V0OiB0ZXN0fSk7XG5cdFx0Ly8gfTtcblx0XHQvLyBjb25zdCBvbkNsaWNrSXRlbSA9IChpKSA9PiB7XG5cdFx0Ly8gXHRzZXRBdHRyaWJ1dGVzKHtzZWxlY3RlZEVsZW1lbnQ6IHsgY29tcG9uZW50STogaSB9fSlcblx0XHQvLyB9O1xuXHRcdHZhciBvbkNsaWNrQ29tcG9uZW50ID0gZnVuY3Rpb24gb25DbGlja0NvbXBvbmVudChjb21wb25lbnQsIGNvbXBvbmVudEkpIHtcblx0XHRcdHNldEF0dHJpYnV0ZXMoe1xuXHRcdFx0XHRzZWxlY3RlZEVsZW1lbnQ6IHsgY29tcG9uZW50OiBjb21wb25lbnQsIGNvbXBvbmVudEk6IGNvbXBvbmVudEkgfVxuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdHZhciBuZXdDb21wb25lbnQgPSBmdW5jdGlvbiBuZXdDb21wb25lbnQoY29tcEtleSkge1xuXHRcdFx0dmFyIF9jb21wb25lbnRzU2NoZW1hJGNvbSA9IGNvbXBvbmVudHNTY2hlbWFbY29tcEtleV0sXG5cdFx0XHQgICAgZGVmYXVsdFZhbHVlcyA9IF9jb21wb25lbnRzU2NoZW1hJGNvbS5kZWZhdWx0VmFsdWVzLFxuXHRcdFx0ICAgIHNjaGVtYUNvcG1vbmVudCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfY29tcG9uZW50c1NjaGVtYSRjb20sIFsnZGVmYXVsdFZhbHVlcyddKTtcblxuXHRcdFx0dmFyIGNvcHkgPSB0ZW1wbGF0ZS5tYXAoZnVuY3Rpb24gKHNlY3Rpb24sIGkpIHtcblx0XHRcdFx0cmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc2VjdGlvbiksIFtzY2hlbWFDb3Btb25lbnRdKTtcblx0XHRcdH0pO1xuXHRcdFx0c2V0QXR0cmlidXRlcyh7XG5cdFx0XHRcdHRlbXBsYXRlOiBjb3B5LFxuXHRcdFx0XHRncmlkTGF5b3V0OiBhZGRHcmlkQ2VsbChncmlkTGF5b3V0LCBkZWZhdWx0VmFsdWVzKSxcblx0XHRcdFx0c2VsZWN0ZWRFbGVtZW50OiB7IGNvbXBvbmVudDogc2NoZW1hQ29wbW9uZW50LCBjb21wb25lbnRJOiB0ZW1wbGF0ZVswXS5sZW5ndGggfVxuXHRcdFx0fSk7XG5cdFx0XHRzZXRHcmlkTW9kZShmdW5jdGlvbiAocHJldikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFJlYWN0LkZyYWdtZW50LFxuXHRcdFx0bnVsbCxcblx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgc3R5bGU6IGdyaWRTZWN0aW9ucywgY2xhc3NOYW1lOiAnYWxpZ25mdWxsIHdwLWJsb2NrLXNvanV6LWJsb2NrLWdyaWQtY29udGFpbmVyICcgKyAoZ3JpZE1vZGUgPyAnJyA6ICdncmlkLW1vZGUtb24nKSB9LFxuXHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0QmxvY2tDb250cm9scyxcblx0XHRcdFx0XHRudWxsLFxuXHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChCbG9ja1BpY2tDb21wb25lbnQsIHsgbmV3Q29tcG9uZW50OiBuZXdDb21wb25lbnQgfSksXG5cdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KEJsb2NrR3JpZE9uLCB7IHNldEdyaWRNb2RlOiBzZXRHcmlkTW9kZSwgZ3JpZE1vZGU6IGdyaWRNb2RlIH0pLFxuXHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6ICdjb21wb25lbnRzLXRvb2xiYXInLFxuXHRcdFx0XHRcdFx0XHRvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuXHRcdFx0XHRcdFx0XHRcdHNldEdyaWRNb2RlKGZ1bmN0aW9uIChwcmV2KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR3cC5kYXRhLnNlbGVjdCgnY29yZS9lZGl0LXBvc3QnKS5nZXRBY3RpdmVHZW5lcmFsU2lkZWJhck5hbWUoKSA9PT0gJ2RhdGEtc291cmNlcy1wbHVnaW4vZGF0YVNvdXJjZXMnID8gd3AuZGF0YS5kaXNwYXRjaChcImNvcmUvZWRpdC1wb3N0XCIpLm9wZW5HZW5lcmFsU2lkZWJhcihcImVkaXQtcG9zdC9ibG9ja1wiKSA6IHdwLmRhdGEuZGlzcGF0Y2goXCJjb3JlL2VkaXQtcG9zdFwiKS5vcGVuR2VuZXJhbFNpZGViYXIoXCJkYXRhLXNvdXJjZXMtcGx1Z2luL2RhdGFTb3VyY2VzXCIpO1xuXHRcdFx0XHRcdFx0XHR9IH0sXG5cdFx0XHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2Rhc2hpY29ucyBkYXNoaWNvbnMtZG93bmxvYWQnIH0pXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLFxuXHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0SW5zcGVjdG9yQ29udHJvbHMsXG5cdFx0XHRcdFx0bnVsbCxcblx0XHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHRQYW5lbEJvZHksXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHRpdGxlOiBfXygnQmxvY2sgY2FudmFzIHByb3BlcnRpcycpLFxuXHRcdFx0XHRcdFx0XHRpbml0aWFsT3BlbjogZmFsc2Vcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHRcdCdsYWJlbCcsXG5cdFx0XHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0XHRcdCdCYWNrZ3JvdW5kIGNvbG9yJ1xuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChDb2xvclBhbGV0dGUsIHsgdnNsdWU6IGdyaWRTZWN0aW9ucy5iYWNrZ3JvdW5kQ29sb3IsIG9uQ2hhbmdlOiBzZXRBdHRyaWJ1dGVzR3JpZFNlY3Rpb25zKCdiYWNrZ3JvdW5kQ29sb3InKSB9KSxcblx0XHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChTZWN0aW9uSG9yaXpvbnRhbFBhZGRpbmdzLCB7IG1hcmdpblZhbHVlOiBncmlkU2VjdGlvbnMucGFkZGluZywgb25Ib3Jpem9udGFsTWFyZ2luczogc2V0QXR0cmlidXRlc0dyaWRTZWN0aW9ucygncGFkZGluZycpIH0pLFxuXHRcdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFNlY3Rpb25HcmlkR2FwLCB7IGdhcFZhbHVlOiBncmlkU2VjdGlvbnMuZ3JpZEdhcCwgb25HcmlkR2FwOiBzZXRBdHRyaWJ1dGVzR3JpZFNlY3Rpb25zKCdncmlkR2FwJykgfSlcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdFBhbmVsQm9keSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0dGl0bGU6IF9fKCdTZWxlY3RlZCBjb21wb25lbnQgcHJvcGVydGllcycpLFxuXHRcdFx0XHRcdFx0XHRpbml0aWFsT3BlbjogdHJ1ZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChWZXJ0aWNhbEFsaWduUGlja2VyLCB7IGdyaWRNb2RlOiBncmlkTW9kZSwgc2VsZWN0ZWRFbGVtZW50OiBzZWxlY3RlZEVsZW1lbnQsIGdyaWRMYXlvdXQ6IGdyaWRMYXlvdXQsIG9uQ2hhbmdlVmVydGljYWxBbGlnbjogc2V0QXR0cmlidXRlc0J5R3JpZCgndmVydGljYWxBbGlnbicpIH0pLFxuXHRcdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdocicsIG51bGwpLFxuXHRcdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFNpemVDbGFzc1BpY2tlciwgeyBncmlkTW9kZTogZ3JpZE1vZGUsIHNlbGVjdGVkRWxlbWVudDogc2VsZWN0ZWRFbGVtZW50LCBncmlkTGF5b3V0OiBncmlkTGF5b3V0LCBvbkNoYW5nZUZvbnRDbGFzc1NpemU6IHNldEF0dHJpYnV0ZXNCeUdyaWQoJ2ZvbnRTaXplJykgfSksXG5cdFx0XHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoVGFnbmFtZVBpY2tlciwgeyBncmlkTW9kZTogZ3JpZE1vZGUsIHNlbGVjdGVkRWxlbWVudDogc2VsZWN0ZWRFbGVtZW50LCBncmlkTGF5b3V0OiBncmlkTGF5b3V0LCBvbkNoYW5nZVRhZ25hbWU6IHNldEF0dHJpYnV0ZXNCeUdyaWQoJ3RhZ05hbWUnKSB9KSxcblx0XHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChUZXh0V2VpZ2h0UGlja2VyLCB7IGdyaWRNb2RlOiBncmlkTW9kZSwgc2VsZWN0ZWRFbGVtZW50OiBzZWxlY3RlZEVsZW1lbnQsIGdyaWRMYXlvdXQ6IGdyaWRMYXlvdXQsIG9uQ2hhbmdlRm9udFdlaWdodDogc2V0QXR0cmlidXRlc0J5R3JpZCgnd2VpZ2h0JykgfSksXG5cdFx0XHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoVGV4dENvbG9yUGlja2VyLCB7IGdyaWRNb2RlOiBncmlkTW9kZSwgc2VsZWN0ZWRFbGVtZW50OiBzZWxlY3RlZEVsZW1lbnQsIGdyaWRMYXlvdXQ6IGdyaWRMYXlvdXQsIG9uQ2hhbmdlVGV4dENvbG9yOiBzZXRBdHRyaWJ1dGVzQnlHcmlkKCd0ZXh0Q29sb3InKSB9KSxcblx0XHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChCYWNrZ3JvdW5kQ29sb3IsIHsgZ3JpZE1vZGU6IGdyaWRNb2RlLCBzZWxlY3RlZEVsZW1lbnQ6IHNlbGVjdGVkRWxlbWVudCwgZ3JpZExheW91dDogZ3JpZExheW91dCwgb25DaGFuZ2VCZ0NvbG9yOiBzZXRBdHRyaWJ1dGVzQnlHcmlkKCdiYWNrZ3JvdW5kQ29sb3InKSB9KSxcblx0XHRcdFx0XHRcdGdyaWRMYXlvdXRbc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudEldICYmIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChSYW5nZUNvbnRyb2wsIHtcblx0XHRcdFx0XHRcdFx0bGFiZWw6ICdCYWNrZ3JvdW5kIG9wYWNpdHknLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogZ3JpZExheW91dFtzZWxlY3RlZEVsZW1lbnQuY29tcG9uZW50SV0uYmFja2dyb3VuZE9wYWNpdHksXG5cdFx0XHRcdFx0XHRcdG9uQ2hhbmdlOiBzZXRBdHRyaWJ1dGVzQnlHcmlkKCdiYWNrZ3JvdW5kT3BhY2l0eScpLFxuXHRcdFx0XHRcdFx0XHRtaW46IDAsXG5cdFx0XHRcdFx0XHRcdG1heDogMSxcblx0XHRcdFx0XHRcdFx0c3RlcDogMC4xXG5cdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdGdyaWRMYXlvdXRbc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudEldICYmIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChSYW5nZUNvbnRyb2wsIHtcblx0XHRcdFx0XHRcdFx0bGFiZWw6ICdJbm5lciBwYWRkaW5nJyxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGdyaWRMYXlvdXRbc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudEldLnBhZGRpbmcsXG5cdFx0XHRcdFx0XHRcdG9uQ2hhbmdlOiBzZXRBdHRyaWJ1dGVzQnlHcmlkKCdwYWRkaW5nJyksXG5cdFx0XHRcdFx0XHRcdG1pbjogMCxcblx0XHRcdFx0XHRcdFx0bWF4OiAyLFxuXHRcdFx0XHRcdFx0XHRzdGVwOiAwLjFcblx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdocicsIG51bGwpLFxuXHRcdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFpJbmRleFBpY2tlciwgeyBzZWxlY3RlZEVsZW1lbnQ6IHNlbGVjdGVkRWxlbWVudCwgZ3JpZExheW91dE9iamVjdDogZ3JpZExheW91dFtzZWxlY3RlZEVsZW1lbnQuY29tcG9uZW50SV0sIG9uWkluZGV4Q2hhbmdlOiBzZXRBdHRyaWJ1dGVzQnlHcmlkKCd6SW5kZXgnKSB9KSxcblx0XHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChUZXh0Q29udHJvbCwge1xuXHRcdFx0XHRcdFx0XHRsYWJlbDogJ1Jlc3NpZ24gY29tcG9uZW50Jyxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGdyaWRMYXlvdXRbc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudEldID8gZ3JpZExheW91dFtzZWxlY3RlZEVsZW1lbnQuY29tcG9uZW50SV0ucmVhc2lnblRvIDogbnVsbCxcblx0XHRcdFx0XHRcdFx0b25DaGFuZ2U6IHNldEF0dHJpYnV0ZXNCeUdyaWQoJ3JlYXNpZ25UbycpXG5cdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdFx0XHRcdHsgJ2NsYXNzJzogJ2NvbXBvbmVudHMtYmFzZS1jb250cm9sJyB9LFxuXHRcdFx0XHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoVG9nZ2xlQ29udHJvbCwge1xuXHRcdFx0XHRcdFx0XHRcdGxhYmVsOiAnSGlkZGVuIHRvIGhvdmVyJ1xuXHRcdFx0XHRcdFx0XHRcdC8vIGNoZWNrZWQ9e2lzU2xpZGVyfVxuXHRcdFx0XHRcdFx0XHRcdC8vIG9uQ2hhbmdlPXsoKSA9PiBzZXRBdHRyaWJ1dGVzKHsgaXNTbGlkZXI6ICFpc1NsaWRlciB9KX1cblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdFBhbmVsQm9keSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0dGl0bGU6IF9fKCdMaXN0JyksXG5cdFx0XHRcdFx0XHRcdGluaXRpYWxPcGVuOiBmYWxzZVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdFx0XHRcdHsgY2xhc3NOYW1lOiAnbGlzdC1kYXRhLWVsZW1lbnRzJyB9LFxuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZS5tYXAoZnVuY3Rpb24gKHNlY3Rpb24sIHNlY3Rpb25JbmRleCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHRcdFx0XHQnZGl2Jyxcblx0XHRcdFx0XHRcdFx0XHRcdHsgY2xhc3NOYW1lOiAnc2VsZWN0b3ItaXRlbScsIGtleTogc2VjdGlvbkluZGV4IH0sXG5cdFx0XHRcdFx0XHRcdFx0XHQnU2VjdGlvbiBsaXN0IGVsZW1lbnQ6ICcsXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWN0aW9uSW5kZXhcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdFx0QnV0dG9uLFxuXHRcdFx0XHRcdFx0XHR7IGlzUHJpbWFyeTogdHJ1ZSwgY2xhc3NOYW1lOiAnZnVsbC13aWR0aCcsIG9uQ2xpY2s6IGFkZFNlY3Rpb24gfSxcblx0XHRcdFx0XHRcdFx0JysgRHVwbGljYXRlIHNlY3Rpb24nXG5cdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KENvbHVtbnNQaWNrZXIsIHsgZ3JpZFRlbXBsYXRlQ29sdW1uczogZ3JpZFNlY3Rpb25zLmdyaWRUZW1wbGF0ZUNvbHVtbnMsIGdyaWRUZW1wbGF0ZUNvbHVtbnNDaGFuZ2U6IHNldEF0dHJpYnV0ZXNHcmlkU2VjdGlvbnMoJ2dyaWRUZW1wbGF0ZUNvbHVtbnMnKSB9KSxcblx0XHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChUb2dnbGVDb250cm9sLCB7XG5cdFx0XHRcdFx0XHRcdGxhYmVsOiAnRGlzcGxheSBhcyBzbGlkZXInLFxuXHRcdFx0XHRcdFx0XHRjaGVja2VkOiBpc1NsaWRlcixcblx0XHRcdFx0XHRcdFx0b25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZXRBdHRyaWJ1dGVzKHsgaXNTbGlkZXI6ICFpc1NsaWRlciB9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdFBhbmVsQm9keSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0dGl0bGU6IF9fKCdEYXRhIHNvdXJjZXMnKSxcblx0XHRcdFx0XHRcdFx0aW5pdGlhbE9wZW46IGZhbHNlXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0XHRCdXR0b24sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6ICdmdWxsLXdpZHRoJyxcblx0XHRcdFx0XHRcdFx0XHRpc1ByaW1hcnk6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0b25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHNldEdyaWRNb2RlKGZ1bmN0aW9uIChwcmV2KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR3cC5kYXRhLmRpc3BhdGNoKFwiY29yZS9lZGl0LXBvc3RcIikub3BlbkdlbmVyYWxTaWRlYmFyKFwiZGF0YS1zb3VyY2VzLXBsdWdpbi9kYXRhU291cmNlc1wiKTtcblx0XHRcdFx0XHRcdFx0XHR9IH0sXG5cdFx0XHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZGFzaGljb25zIGRhc2hpY29ucy1kb3dubG9hZCcgfSksXG5cdFx0XHRcdFx0XHRcdCcgT3BlbiBkYXRhIHNvdXJjZXMgcGFuZWwnXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpLFxuXHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0QmxvY2tDb250cm9scyxcblx0XHRcdFx0XHRudWxsLFxuXHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChBbGlnbm1lbnRUb29sYmFyLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogdGVtcGxhdGVbMF1bc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudEldID8gdGVtcGxhdGVbMF1bc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudEldLmF0dHJzLmFsaWduIDogbnVsbCxcblx0XHRcdFx0XHRcdG9uQ2hhbmdlOiBzZXRBdHRyaWJ1dGVzQnlHcmlkKCdhbGlnbicpXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0KSxcblx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFJlYWN0LkZyYWdtZW50LFxuXHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0KGdyaWRNb2RlID8gdGVtcGxhdGUgOiBbdGVtcGxhdGVbMF1dKS5cblx0XHRcdFx0XHQvL3NlY3Rpb25zXG5cdFx0XHRcdFx0bWFwKGZ1bmN0aW9uIChzZWN0aW9uLCBzZWN0aW9uSSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdFx0J3NlY3Rpb24nLFxuXHRcdFx0XHRcdFx0XHR7IG9uRG91YmxlQ2xpY2s6IGZ1bmN0aW9uIG9uRG91YmxlQ2xpY2soKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRzZXRHcmlkTW9kZShmdW5jdGlvbiAocHJldikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gIXByZXY7XG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdHdwLmRhdGEuZGlzcGF0Y2goXCJjb3JlL2VkaXQtcG9zdFwiKS5vcGVuR2VuZXJhbFNpZGViYXIoXCJlZGl0LXBvc3QvYmxvY2tcIik7XG5cdFx0XHRcdFx0XHRcdFx0fSwga2V5OiAnc2VjdGlvbi0nICsgc2VjdGlvbkkgfSxcblx0XHRcdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0XHRcdERyYWdHcmlkLFxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdGdyaWRNb2RlOiBncmlkTW9kZSxcblx0XHRcdFx0XHRcdFx0XHRcdGdyaWRMYXlvdXQ6IGdyaWRMYXlvdXQsXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UobmV3TGF5b3V0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZXRBdHRyaWJ1dGVzKHsgZ3JpZExheW91dDogbmV3TGF5b3V0IH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSB9LFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly9jb21wb25lbnRzLmVkaXRvci1yaWNoLXRleHR7XG5cdFx0XHRcdFx0XHRcdFx0c2VjdGlvbi5tYXAoZnVuY3Rpb24gKGNvbXBvbmVudCwgY29tcG9uZW50SSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIENvbXBvbmVudCA9IGNvbXBvbmVudE1hcFtjb21wb25lbnQuYmxvY2tOYW1lXTtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBwYXRoVG8gPSBjb21wb25lbnQuYXR0cnM7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGF0dHJzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNldEF0dHJpYnV0ZXMoe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRlbXBsYXRlOiB0ZW1wbGF0ZS5tYXAodXBkYXRlQXR0cnMoc2VjdGlvbkksIGNvbXBvbmVudEksIGF0dHJzKSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0XHRcdFx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZDogJ2NvbXBvbmVudC0nICsgc2VjdGlvbkkgKyAnLScgKyBjb21wb25lbnRJLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGtleTogJ2NvbXBvbmVudC0nICsgc2VjdGlvbkkgKyAnLScgKyBjb21wb25lbnRJLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRncmlkQXJlYTogZ3JpZExheW91dFtjb21wb25lbnRJXS55ICsgMSArICcgLyAnICsgKGdyaWRMYXlvdXRbY29tcG9uZW50SV0ueCArIDEpICsgJyAvIHNwYW4gJyArIGdyaWRMYXlvdXRbY29tcG9uZW50SV0uaCArICcgLyBzcGFuICcgKyBncmlkTGF5b3V0W2NvbXBvbmVudEldLncsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR6SW5kZXg6IGdyaWRMYXlvdXRbY29tcG9uZW50SV0uekluZGV4LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGFkZGluZzogZ3JpZExheW91dFtjb21wb25lbnRJXS5wYWRkaW5nICsgJ3Z3Jyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRleHRBbGlnbjogZ3JpZExheW91dFtjb21wb25lbnRJXS5hbGlnbixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRXZWlnaHQ6IGdyaWRMYXlvdXRbY29tcG9uZW50SV0uZm9udFdlaWdodFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lOiAnY29tcG9uZW50ICcgKyAoY29tcG9uZW50Lm1hcFFMLmxlbmd0aCA/ICdlZGl0LWxvY2snIDogJycpICsgJyBcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQnICsgKHNlbGVjdGVkRWxlbWVudC5jb21wb25lbnRJID09IGNvbXBvbmVudEkgJiYgbmV3RnVuY3Rpb24oKSksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0b25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBvbkNsaWNrQ29tcG9uZW50KGNvbXBvbmVudCwgY29tcG9uZW50SSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCB7IGF0dHJzOiBwYXRoVG8sIHVwZGF0ZUF0dHJzOiB1cGRhdGUsIGdyaWRMYXlvdXRPYmplY3Q6IGdyaWRMYXlvdXRbY29tcG9uZW50SV0gfSksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCFjb21wb25lbnQubWFwUUwubGVuZ3RoICYmIHNlbGVjdGVkRWxlbWVudC5jb21wb25lbnRJID09PSBjb21wb25lbnRJICYmIHdwLmRhdGEuc2VsZWN0KCdjb3JlL2VkaXQtcG9zdCcpLmdldEFjdGl2ZUdlbmVyYWxTaWRlYmFyTmFtZSgpID09PSAnZGF0YS1zb3VyY2VzLXBsdWdpbi9kYXRhU291cmNlcycgPyB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0eyBjbGFzc05hbWU6ICdzZXQtZGF0YS1zb3VyY2UgYmFkZ2UnIH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdkYXNoaWNvbnMgZGFzaGljb25zLWRvd25sb2FkJyB9KSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnc3BhbicsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRudWxsLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0J0Nob29zZSBzb3VyY2UgZnJvbSBzaWRlYmFyJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0XHRcdFx0KSA6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb21wb25lbnQubWFwUUwubGVuZ3RoID8gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHsgY2xhc3NOYW1lOiAnbWFwcWwgYmFkZ2UnIH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdkYXNoaWNvbnMgZGFzaGljb25zLWFkbWluLWxpbmtzJyB9KSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnc3BhbicsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRudWxsLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29tcG9uZW50Lm1hcFFMWzFdXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpIDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGdyaWRNb2RlICYmIHNlbGVjdGVkRWxlbWVudC5jb21wb25lbnRJID09PSBjb21wb25lbnRJID8gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCdkaXYnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHsgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlbW92ZUNvbXBvbmVudChzZWxlY3RlZEVsZW1lbnQuY29tcG9uZW50SSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBjbGFzc05hbWU6ICdyZW1vdmUtY29tcG9uZW50IGJhZGdlJyB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZGFzaGljb25zIGRhc2hpY29ucy10cmFzaCcgfSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0KSA6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0KVxuXHRcdFx0KSxcblx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0J2RpdicsXG5cdFx0XHRcdHsgY2xhc3NOYW1lOiAnbmV3LXNlY3Rpb24tYmFyJyB9LFxuXHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoSXNTbGlkZUNoZWNrZXIsIHsgaXNTbGlkZXI6IGlzU2xpZGVyLCBvbklzU2xpZGVyOiBzZXRBdHRyaWJ1dGVzR3JpZFNlY3Rpb25zKCdpc1NsaWRlcicpIH0pLFxuXHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoQ29sdW1uc1BpY2tlciwgeyBncmlkVGVtcGxhdGVDb2x1bW5zOiBncmlkU2VjdGlvbnMuZ3JpZFRlbXBsYXRlQ29sdW1ucywgZ3JpZFRlbXBsYXRlQ29sdW1uc0NoYW5nZTogc2V0QXR0cmlidXRlc0dyaWRTZWN0aW9ucygnZ3JpZFRlbXBsYXRlQ29sdW1ucycpIH0pLFxuXHRcdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0QnV0dG9uLFxuXHRcdFx0XHRcdHsgaXNQcmltYXJ5OiB0cnVlLCBvbkNsaWNrOiBhZGRTZWN0aW9uIH0sXG5cdFx0XHRcdFx0JysgRHVwbGljYXRlIHNlY3Rpb24nXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7XG5cdFx0cmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdCdkaXYnLFxuXHRcdFx0bnVsbCxcblx0XHRcdCdUaGlzIGlzIHNvanV6IHByb2plY3QgYmxvY2snXG5cdFx0KTtcblx0fVxufSk7XG5cbmZ1bmN0aW9uIG5ld0Z1bmN0aW9uKCkge1xuXHRyZXR1cm4gJ2NvbXBvbmVudC1zZWxlY3RlZCc7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svYmxvY2suanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/*!******************************!*\
  !*** ./src/block/style.scss ***!
  \******************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9zdHlsZS5zY3NzPzgwZjMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9ibG9jay9zdHlsZS5zY3NzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/*!*******************************!*\
  !*** ./src/block/editor.scss ***!
  \*******************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9lZGl0b3Iuc2Nzcz80OWQyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svZWRpdG9yLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/*!****************************************!*\
  !*** ../common-components/DragGrid.js ***!
  \****************************************/
/*! exports provided: DragGrid */
/*! exports used: DragGrid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DragGrid; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_rnd__ = __webpack_require__(/*! react-rnd */ 6);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n// 12x12\n\nvar DragGrid = function DragGrid(_ref) {\n  var layout = _ref.layout,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === undefined ? function () {\n    return null;\n  } : _ref$onChange,\n      blocks = _ref.blocks,\n      props = _ref.props,\n      selectedElement = _ref.selectedElement,\n      onRemoveItem = _ref.onRemoveItem,\n      onClickItem = _ref.onClickItem,\n      children = _ref.children,\n      gridLayout = _ref.gridLayout,\n      gridMode = _ref.gridMode,\n      sectionClass = _ref.sectionClass,\n      rest = _objectWithoutProperties(_ref, [\"layout\", \"onChange\", \"blocks\", \"props\", \"selectedElement\", \"onRemoveItem\", \"onClickItem\", \"children\", \"gridLayout\", \"gridMode\", \"sectionClass\"]);\n\n  var ref = __WEBPACK_IMPORTED_MODULE_0_react___default.a.useRef();\n\n  var _React$useState = __WEBPACK_IMPORTED_MODULE_0_react___default.a.useState(500),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      blockHeight = _React$useState2[0],\n      setBlockHeight = _React$useState2[1];\n\n  var _React$useState3 = __WEBPACK_IMPORTED_MODULE_0_react___default.a.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      blockWidth = _React$useState4[0],\n      setBlockWidth = _React$useState4[1];\n\n  __WEBPACK_IMPORTED_MODULE_0_react___default.a.useLayoutEffect(function () {\n    if (ref.current) {\n      var setWidth = function setWidth() {\n        return setBlockWidth(ref.current.getBoundingClientRect().width - 20);\n      };\n      setWidth();\n      window.addEventListener('resize', setWidth);\n\n      return function () {\n        return window.removeEventListener('resize', setWidth);\n      };\n    }\n  }, [sectionClass]);\n\n  __WEBPACK_IMPORTED_MODULE_0_react___default.a.useEffect(function () {\n    setBlockWidth(ref.current.getBoundingClientRect().width - 20);\n  }, [gridMode]);\n\n  var breakpoints = 50; // multi 5 only\n  var scale = function scale(width) {\n    if (!width) {\n      return false;\n    }\n    var add = width % breakpoints ? breakpoints - width % breakpoints : 0;\n    return (width + add) / breakpoints;\n  };\n  var resize = function resize(width) {\n    var fromAduConst = 1;\n    var move = (blockWidth - blockWidth % breakpoints) / breakpoints + fromAduConst;\n    return width / move;\n  };\n  var drawBluePrintGrid = function drawBluePrintGrid() {\n    var res = [].concat(_toConsumableArray(Array(breakpoints + 1))).map(function (_, i) {\n      return wp.element.createElement(\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,\n        null,\n        wp.element.createElement(\"div\", { className: \"row i\" + i, style: { top: i * scale(blockWidth) + \"px\" } }),\n        wp.element.createElement(\"div\", { className: \"column i\" + i, style: { left: i * scale(blockWidth) + \"px\" } })\n      );\n    });\n    return res;\n  };\n  var resizeHeight = function resizeHeight() {\n    // const lowestChild = [...ref.current.querySelectorAll('.react-draggable.react-draggable-dragged')].reduce((acc, curr) => {\n    //   const { top, height } = curr.getBoundingClientRect();\n    //   const fromTop = top + height;\n    //   return acc > fromTop ? acc : fromTop;\n    // }, 0);\n    // console.log(lowestChild, ref.current.getBoundingClientRect().top, breakpoints)\n    // setBlockHeight(lowestChild - ref.current.getBoundingClientRect().top + breakpoints * 1)\n    var fromAduConst = 1;\n    var lowest = 0;\n    gridLayout.map(function (component) {\n      lowest = lowest < component.y + component.h ? component.y + component.h : lowest;\n      component.lowest = lowest;\n    });\n    var move = (blockWidth - blockWidth % breakpoints) / breakpoints + fromAduConst;\n    setBlockHeight((4 + lowest) * move);\n  };\n  return wp.element.createElement(\n    \"div\",\n    { ref: ref },\n    wp.element.createElement(\n      \"div\",\n      { className: \"blueprint-grid\" },\n      drawBluePrintGrid()\n    ),\n    wp.element.createElement(\n      \"div\",\n      {\n        className: \"drag-greed\",\n        style: !gridMode ? { height: blockHeight, position: 'relative' } : {}\n      },\n      children.map(function (child, childI) {\n        return gridMode ? wp.element.createElement(\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,\n          null,\n          child\n        ) : wp.element.createElement(\n          __WEBPACK_IMPORTED_MODULE_1_react_rnd__[\"a\" /* Rnd */],\n          {\n            style: { zIndex: gridLayout[childI].z },\n            key: childI,\n            enableUserSelectHack: true\n            // disableDragging={gridMode}\n            // enableResizing={{bottom: !gridMode,bottomLeft: !gridMode,bottomRight: !gridMode,\n            //   left: !gridMode,right: !gridMode,top: !gridMode,topLeft: !gridMode,topRight: !gridMode,\n            // }}\n            , size: {\n              width: gridLayout[childI].w * scale(blockWidth),\n              height: gridLayout[childI].h * scale(blockWidth)\n            },\n            position: {\n              x: gridLayout[childI].x * scale(blockWidth),\n              y: gridLayout[childI].y * scale(blockWidth)\n            },\n            dragGrid: [scale(blockWidth), scale(blockWidth)],\n            resizeGrid: [scale(blockWidth), scale(blockWidth)]\n            // bounds=\"parent\"\n            , minWidth: scale(blockWidth),\n            minHeight: scale(blockWidth),\n            resizeHandleClasses: {\n              bottom: 'resize-handler bottom',\n              left: 'resize-handler left',\n              right: 'resize-handler right',\n              top: 'resize-handler top'\n            }\n            // on\n            // onDrag={resizeHeight}\n            // onResize={resizeHeight}\n            , onDragStop: function onDragStop(_, _ref2) {\n              var lastX = _ref2.lastX,\n                  lastY = _ref2.lastY;\n              return onChange(gridLayout = gridLayout.map(function (component, componentI) {\n                return componentI === childI ? Object.assign({}, component, {\n                  x: lastX / scale(blockWidth),\n                  y: lastY / scale(blockWidth)\n                }) : component;\n              })) || console.log(gridLayout) || resizeHeight();\n            },\n\n            onResizeStop: function onResizeStop() {\n              for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n\n              return onChange(gridLayout = gridLayout.map(function (component, componentI) {\n                return componentI === childI ? Object.assign({}, component, {\n                  w: component.w + resize(args[3].width),\n                  h: component.h + resize(args[3].height)\n                }) : component;\n              })) || resizeHeight();\n            }\n          },\n          wp.element.createElement(\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,\n            null,\n            child\n          )\n        );\n      })\n    )\n  );\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9jb21tb24tY29tcG9uZW50cy9EcmFnR3JpZC5qcz8zZjFiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgUm5kIH0gZnJvbSBcInJlYWN0LXJuZFwiO1xuXG4vLyAxMngxMlxuXG52YXIgRHJhZ0dyaWQgPSBmdW5jdGlvbiBEcmFnR3JpZChfcmVmKSB7XG4gIHZhciBsYXlvdXQgPSBfcmVmLmxheW91dCxcbiAgICAgIF9yZWYkb25DaGFuZ2UgPSBfcmVmLm9uQ2hhbmdlLFxuICAgICAgb25DaGFuZ2UgPSBfcmVmJG9uQ2hhbmdlID09PSB1bmRlZmluZWQgPyBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gOiBfcmVmJG9uQ2hhbmdlLFxuICAgICAgYmxvY2tzID0gX3JlZi5ibG9ja3MsXG4gICAgICBwcm9wcyA9IF9yZWYucHJvcHMsXG4gICAgICBzZWxlY3RlZEVsZW1lbnQgPSBfcmVmLnNlbGVjdGVkRWxlbWVudCxcbiAgICAgIG9uUmVtb3ZlSXRlbSA9IF9yZWYub25SZW1vdmVJdGVtLFxuICAgICAgb25DbGlja0l0ZW0gPSBfcmVmLm9uQ2xpY2tJdGVtLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgZ3JpZExheW91dCA9IF9yZWYuZ3JpZExheW91dCxcbiAgICAgIGdyaWRNb2RlID0gX3JlZi5ncmlkTW9kZSxcbiAgICAgIHNlY3Rpb25DbGFzcyA9IF9yZWYuc2VjdGlvbkNsYXNzLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJsYXlvdXRcIiwgXCJvbkNoYW5nZVwiLCBcImJsb2Nrc1wiLCBcInByb3BzXCIsIFwic2VsZWN0ZWRFbGVtZW50XCIsIFwib25SZW1vdmVJdGVtXCIsIFwib25DbGlja0l0ZW1cIiwgXCJjaGlsZHJlblwiLCBcImdyaWRMYXlvdXRcIiwgXCJncmlkTW9kZVwiLCBcInNlY3Rpb25DbGFzc1wiXSk7XG5cbiAgdmFyIHJlZiA9IFJlYWN0LnVzZVJlZigpO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZSg1MDApLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgICBibG9ja0hlaWdodCA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRCbG9ja0hlaWdodCA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTMgPSBSZWFjdC51c2VTdGF0ZShudWxsKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUzLCAyKSxcbiAgICAgIGJsb2NrV2lkdGggPSBfUmVhY3QkdXNlU3RhdGU0WzBdLFxuICAgICAgc2V0QmxvY2tXaWR0aCA9IF9SZWFjdCR1c2VTdGF0ZTRbMV07XG5cbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocmVmLmN1cnJlbnQpIHtcbiAgICAgIHZhciBzZXRXaWR0aCA9IGZ1bmN0aW9uIHNldFdpZHRoKCkge1xuICAgICAgICByZXR1cm4gc2V0QmxvY2tXaWR0aChyZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIDIwKTtcbiAgICAgIH07XG4gICAgICBzZXRXaWR0aCgpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHNldFdpZHRoKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzZXRXaWR0aCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW3NlY3Rpb25DbGFzc10pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc2V0QmxvY2tXaWR0aChyZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIDIwKTtcbiAgfSwgW2dyaWRNb2RlXSk7XG5cbiAgdmFyIGJyZWFrcG9pbnRzID0gNTA7IC8vIG11bHRpIDUgb25seVxuICB2YXIgc2NhbGUgPSBmdW5jdGlvbiBzY2FsZSh3aWR0aCkge1xuICAgIGlmICghd2lkdGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGFkZCA9IHdpZHRoICUgYnJlYWtwb2ludHMgPyBicmVha3BvaW50cyAtIHdpZHRoICUgYnJlYWtwb2ludHMgOiAwO1xuICAgIHJldHVybiAod2lkdGggKyBhZGQpIC8gYnJlYWtwb2ludHM7XG4gIH07XG4gIHZhciByZXNpemUgPSBmdW5jdGlvbiByZXNpemUod2lkdGgpIHtcbiAgICB2YXIgZnJvbUFkdUNvbnN0ID0gMTtcbiAgICB2YXIgbW92ZSA9IChibG9ja1dpZHRoIC0gYmxvY2tXaWR0aCAlIGJyZWFrcG9pbnRzKSAvIGJyZWFrcG9pbnRzICsgZnJvbUFkdUNvbnN0O1xuICAgIHJldHVybiB3aWR0aCAvIG1vdmU7XG4gIH07XG4gIHZhciBkcmF3Qmx1ZVByaW50R3JpZCA9IGZ1bmN0aW9uIGRyYXdCbHVlUHJpbnRHcmlkKCkge1xuICAgIHZhciByZXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KEFycmF5KGJyZWFrcG9pbnRzICsgMSkpKS5tYXAoZnVuY3Rpb24gKF8sIGkpIHtcbiAgICAgIHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFJlYWN0LkZyYWdtZW50LFxuICAgICAgICBudWxsLFxuICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicm93IGlcIiArIGksIHN0eWxlOiB7IHRvcDogaSAqIHNjYWxlKGJsb2NrV2lkdGgpICsgXCJweFwiIH0gfSksXG4gICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb2x1bW4gaVwiICsgaSwgc3R5bGU6IHsgbGVmdDogaSAqIHNjYWxlKGJsb2NrV2lkdGgpICsgXCJweFwiIH0gfSlcbiAgICAgICk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbiAgdmFyIHJlc2l6ZUhlaWdodCA9IGZ1bmN0aW9uIHJlc2l6ZUhlaWdodCgpIHtcbiAgICAvLyBjb25zdCBsb3dlc3RDaGlsZCA9IFsuLi5yZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVhY3QtZHJhZ2dhYmxlLnJlYWN0LWRyYWdnYWJsZS1kcmFnZ2VkJyldLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiB7XG4gICAgLy8gICBjb25zdCB7IHRvcCwgaGVpZ2h0IH0gPSBjdXJyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIC8vICAgY29uc3QgZnJvbVRvcCA9IHRvcCArIGhlaWdodDtcbiAgICAvLyAgIHJldHVybiBhY2MgPiBmcm9tVG9wID8gYWNjIDogZnJvbVRvcDtcbiAgICAvLyB9LCAwKTtcbiAgICAvLyBjb25zb2xlLmxvZyhsb3dlc3RDaGlsZCwgcmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLCBicmVha3BvaW50cylcbiAgICAvLyBzZXRCbG9ja0hlaWdodChsb3dlc3RDaGlsZCAtIHJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIGJyZWFrcG9pbnRzICogMSlcbiAgICB2YXIgZnJvbUFkdUNvbnN0ID0gMTtcbiAgICB2YXIgbG93ZXN0ID0gMDtcbiAgICBncmlkTGF5b3V0Lm1hcChmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICBsb3dlc3QgPSBsb3dlc3QgPCBjb21wb25lbnQueSArIGNvbXBvbmVudC5oID8gY29tcG9uZW50LnkgKyBjb21wb25lbnQuaCA6IGxvd2VzdDtcbiAgICAgIGNvbXBvbmVudC5sb3dlc3QgPSBsb3dlc3Q7XG4gICAgfSk7XG4gICAgdmFyIG1vdmUgPSAoYmxvY2tXaWR0aCAtIGJsb2NrV2lkdGggJSBicmVha3BvaW50cykgLyBicmVha3BvaW50cyArIGZyb21BZHVDb25zdDtcbiAgICBzZXRCbG9ja0hlaWdodCgoNCArIGxvd2VzdCkgKiBtb3ZlKTtcbiAgfTtcbiAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICBcImRpdlwiLFxuICAgIHsgcmVmOiByZWYgfSxcbiAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBjbGFzc05hbWU6IFwiYmx1ZXByaW50LWdyaWRcIiB9LFxuICAgICAgZHJhd0JsdWVQcmludEdyaWQoKVxuICAgICksXG4gICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJkaXZcIixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImRyYWctZ3JlZWRcIixcbiAgICAgICAgc3R5bGU6ICFncmlkTW9kZSA/IHsgaGVpZ2h0OiBibG9ja0hlaWdodCwgcG9zaXRpb246ICdyZWxhdGl2ZScgfSA6IHt9XG4gICAgICB9LFxuICAgICAgY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjaGlsZCwgY2hpbGRJKSB7XG4gICAgICAgIHJldHVybiBncmlkTW9kZSA/IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBSZWFjdC5GcmFnbWVudCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGNoaWxkXG4gICAgICAgICkgOiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgUm5kLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0eWxlOiB7IHpJbmRleDogZ3JpZExheW91dFtjaGlsZEldLnogfSxcbiAgICAgICAgICAgIGtleTogY2hpbGRJLFxuICAgICAgICAgICAgZW5hYmxlVXNlclNlbGVjdEhhY2s6IHRydWVcbiAgICAgICAgICAgIC8vIGRpc2FibGVEcmFnZ2luZz17Z3JpZE1vZGV9XG4gICAgICAgICAgICAvLyBlbmFibGVSZXNpemluZz17e2JvdHRvbTogIWdyaWRNb2RlLGJvdHRvbUxlZnQ6ICFncmlkTW9kZSxib3R0b21SaWdodDogIWdyaWRNb2RlLFxuICAgICAgICAgICAgLy8gICBsZWZ0OiAhZ3JpZE1vZGUscmlnaHQ6ICFncmlkTW9kZSx0b3A6ICFncmlkTW9kZSx0b3BMZWZ0OiAhZ3JpZE1vZGUsdG9wUmlnaHQ6ICFncmlkTW9kZSxcbiAgICAgICAgICAgIC8vIH19XG4gICAgICAgICAgICAsIHNpemU6IHtcbiAgICAgICAgICAgICAgd2lkdGg6IGdyaWRMYXlvdXRbY2hpbGRJXS53ICogc2NhbGUoYmxvY2tXaWR0aCksXG4gICAgICAgICAgICAgIGhlaWdodDogZ3JpZExheW91dFtjaGlsZEldLmggKiBzY2FsZShibG9ja1dpZHRoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgIHg6IGdyaWRMYXlvdXRbY2hpbGRJXS54ICogc2NhbGUoYmxvY2tXaWR0aCksXG4gICAgICAgICAgICAgIHk6IGdyaWRMYXlvdXRbY2hpbGRJXS55ICogc2NhbGUoYmxvY2tXaWR0aClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkcmFnR3JpZDogW3NjYWxlKGJsb2NrV2lkdGgpLCBzY2FsZShibG9ja1dpZHRoKV0sXG4gICAgICAgICAgICByZXNpemVHcmlkOiBbc2NhbGUoYmxvY2tXaWR0aCksIHNjYWxlKGJsb2NrV2lkdGgpXVxuICAgICAgICAgICAgLy8gYm91bmRzPVwicGFyZW50XCJcbiAgICAgICAgICAgICwgbWluV2lkdGg6IHNjYWxlKGJsb2NrV2lkdGgpLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiBzY2FsZShibG9ja1dpZHRoKSxcbiAgICAgICAgICAgIHJlc2l6ZUhhbmRsZUNsYXNzZXM6IHtcbiAgICAgICAgICAgICAgYm90dG9tOiAncmVzaXplLWhhbmRsZXIgYm90dG9tJyxcbiAgICAgICAgICAgICAgbGVmdDogJ3Jlc2l6ZS1oYW5kbGVyIGxlZnQnLFxuICAgICAgICAgICAgICByaWdodDogJ3Jlc2l6ZS1oYW5kbGVyIHJpZ2h0JyxcbiAgICAgICAgICAgICAgdG9wOiAncmVzaXplLWhhbmRsZXIgdG9wJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25cbiAgICAgICAgICAgIC8vIG9uRHJhZz17cmVzaXplSGVpZ2h0fVxuICAgICAgICAgICAgLy8gb25SZXNpemU9e3Jlc2l6ZUhlaWdodH1cbiAgICAgICAgICAgICwgb25EcmFnU3RvcDogZnVuY3Rpb24gb25EcmFnU3RvcChfLCBfcmVmMikge1xuICAgICAgICAgICAgICB2YXIgbGFzdFggPSBfcmVmMi5sYXN0WCxcbiAgICAgICAgICAgICAgICAgIGxhc3RZID0gX3JlZjIubGFzdFk7XG4gICAgICAgICAgICAgIHJldHVybiBvbkNoYW5nZShncmlkTGF5b3V0ID0gZ3JpZExheW91dC5tYXAoZnVuY3Rpb24gKGNvbXBvbmVudCwgY29tcG9uZW50SSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRJID09PSBjaGlsZEkgPyBPYmplY3QuYXNzaWduKHt9LCBjb21wb25lbnQsIHtcbiAgICAgICAgICAgICAgICAgIHg6IGxhc3RYIC8gc2NhbGUoYmxvY2tXaWR0aCksXG4gICAgICAgICAgICAgICAgICB5OiBsYXN0WSAvIHNjYWxlKGJsb2NrV2lkdGgpXG4gICAgICAgICAgICAgICAgfSkgOiBjb21wb25lbnQ7XG4gICAgICAgICAgICAgIH0pKSB8fCBjb25zb2xlLmxvZyhncmlkTGF5b3V0KSB8fCByZXNpemVIZWlnaHQoKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG9uUmVzaXplU3RvcDogZnVuY3Rpb24gb25SZXNpemVTdG9wKCkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gb25DaGFuZ2UoZ3JpZExheW91dCA9IGdyaWRMYXlvdXQubWFwKGZ1bmN0aW9uIChjb21wb25lbnQsIGNvbXBvbmVudEkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50SSA9PT0gY2hpbGRJID8gT2JqZWN0LmFzc2lnbih7fSwgY29tcG9uZW50LCB7XG4gICAgICAgICAgICAgICAgICB3OiBjb21wb25lbnQudyArIHJlc2l6ZShhcmdzWzNdLndpZHRoKSxcbiAgICAgICAgICAgICAgICAgIGg6IGNvbXBvbmVudC5oICsgcmVzaXplKGFyZ3NbM10uaGVpZ2h0KVxuICAgICAgICAgICAgICAgIH0pIDogY29tcG9uZW50O1xuICAgICAgICAgICAgICB9KSkgfHwgcmVzaXplSGVpZ2h0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBSZWFjdC5GcmFnbWVudCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBjaGlsZFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgKVxuICApO1xufTtcbmV4cG9ydCB7IERyYWdHcmlkIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vY29tbW9uLWNvbXBvbmVudHMvRHJhZ0dyaWQuanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/*!****************************************************************!*\
  !*** ../common-components/node_modules/react-rnd/lib/index.js ***!
  \****************************************************************/
/*! exports provided: Rnd */
/*! exports used: Rnd */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Rnd; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_re_resizable__ = __webpack_require__(/*! re-resizable */ 7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_re_resizable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_re_resizable__);\n\n\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\n\nvar Draggable = __webpack_require__(/*! react-draggable */ 10);\r\nvar resizableStyle = {\r\n    width: \"auto\",\r\n    height: \"auto\",\r\n    display: \"inline-block\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n};\r\nvar Rnd = /** @class */ (function (_super) {\r\n    __extends(Rnd, _super);\r\n    function Rnd(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.resizing = false;\r\n        _this.resizingPosition = { x: 0, y: 0 };\r\n        _this.refDraggable = function (c) {\r\n            if (!c)\r\n                return;\r\n            _this.draggable = c;\r\n        };\r\n        _this.refResizable = function (c) {\r\n            if (!c)\r\n                return;\r\n            _this.resizable = c;\r\n        };\r\n        _this.state = {\r\n            original: {\r\n                x: 0,\r\n                y: 0,\r\n            },\r\n            bounds: {\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0,\r\n            },\r\n            maxWidth: props.maxWidth,\r\n            maxHeight: props.maxHeight,\r\n        };\r\n        _this.onResizeStart = _this.onResizeStart.bind(_this);\r\n        _this.onResize = _this.onResize.bind(_this);\r\n        _this.onResizeStop = _this.onResizeStop.bind(_this);\r\n        _this.onDragStart = _this.onDragStart.bind(_this);\r\n        _this.onDrag = _this.onDrag.bind(_this);\r\n        _this.onDragStop = _this.onDragStop.bind(_this);\r\n        _this.getMaxSizesFromProps = _this.getMaxSizesFromProps.bind(_this);\r\n        return _this;\r\n    }\r\n    Rnd.prototype.componentDidMount = function () {\r\n        var _a = this.getOffsetFromParent(), left = _a.left, top = _a.top;\r\n        var _b = this.getDraggablePosition(), x = _b.x, y = _b.y;\r\n        this.draggable.setState({\r\n            x: x - left,\r\n            y: y - top,\r\n        });\r\n        // HACK: Apply position adjustment\r\n        this.forceUpdate();\r\n    };\r\n    // HACK: To get `react-draggable` state x and y.\r\n    Rnd.prototype.getDraggablePosition = function () {\r\n        var _a = this.draggable.state, x = _a.x, y = _a.y;\r\n        return { x: x, y: y };\r\n    };\r\n    Rnd.prototype.getParent = function () {\r\n        return this.resizable && this.resizable.parentNode;\r\n    };\r\n    Rnd.prototype.getParentSize = function () {\r\n        return this.resizable.getParentSize();\r\n    };\r\n    Rnd.prototype.getMaxSizesFromProps = function () {\r\n        var maxWidth = typeof this.props.maxWidth === \"undefined\" ? Number.MAX_SAFE_INTEGER : this.props.maxWidth;\r\n        var maxHeight = typeof this.props.maxHeight === \"undefined\" ? Number.MAX_SAFE_INTEGER : this.props.maxHeight;\r\n        return { maxWidth: maxWidth, maxHeight: maxHeight };\r\n    };\r\n    Rnd.prototype.getSelfElement = function () {\r\n        return this.resizable && this.resizable.resizable;\r\n    };\r\n    Rnd.prototype.getOffsetHeight = function (boundary) {\r\n        var scale = this.props.scale;\r\n        switch (this.props.bounds) {\r\n            case \"window\":\r\n                return window.innerHeight / scale;\r\n            case \"body\":\r\n                return document.body.offsetHeight / scale;\r\n            default:\r\n                return boundary.offsetHeight;\r\n        }\r\n    };\r\n    Rnd.prototype.getOffsetWidth = function (boundary) {\r\n        var scale = this.props.scale;\r\n        switch (this.props.bounds) {\r\n            case \"window\":\r\n                return window.innerWidth / scale;\r\n            case \"body\":\r\n                return document.body.offsetWidth / scale;\r\n            default:\r\n                return boundary.offsetWidth;\r\n        }\r\n    };\r\n    Rnd.prototype.onDragStart = function (e, data) {\r\n        if (this.props.onDragStart) {\r\n            this.props.onDragStart(e, data);\r\n        }\r\n        if (!this.props.bounds)\r\n            return;\r\n        var parent = this.getParent();\r\n        var scale = this.props.scale;\r\n        var boundary;\r\n        if (this.props.bounds === \"parent\") {\r\n            boundary = parent;\r\n        }\r\n        else if (this.props.bounds === \"body\") {\r\n            var parentRect_1 = parent.getBoundingClientRect();\r\n            var parentLeft_1 = parentRect_1.left;\r\n            var parentTop_1 = parentRect_1.top;\r\n            var bodyRect = document.body.getBoundingClientRect();\r\n            var left_1 = -(parentLeft_1 - parent.offsetLeft * scale - bodyRect.left) / scale;\r\n            var top_1 = -(parentTop_1 - parent.offsetTop * scale - bodyRect.top) / scale;\r\n            var right = (document.body.offsetWidth - this.resizable.size.width * scale) / scale + left_1;\r\n            var bottom = (document.body.offsetHeight - this.resizable.size.height * scale) / scale + top_1;\r\n            return this.setState({ bounds: { top: top_1, right: right, bottom: bottom, left: left_1 } });\r\n        }\r\n        else if (this.props.bounds === \"window\") {\r\n            if (!this.resizable)\r\n                return;\r\n            var parentRect_2 = parent.getBoundingClientRect();\r\n            var parentLeft_2 = parentRect_2.left;\r\n            var parentTop_2 = parentRect_2.top;\r\n            var left_2 = -(parentLeft_2 - parent.offsetLeft * scale) / scale;\r\n            var top_2 = -(parentTop_2 - parent.offsetTop * scale) / scale;\r\n            var right = (window.innerWidth - this.resizable.size.width * scale) / scale + left_2;\r\n            var bottom = (window.innerHeight - this.resizable.size.height * scale) / scale + top_2;\r\n            return this.setState({ bounds: { top: top_2, right: right, bottom: bottom, left: left_2 } });\r\n        }\r\n        else {\r\n            boundary = document.querySelector(this.props.bounds);\r\n        }\r\n        if (!(boundary instanceof HTMLElement) || !(parent instanceof HTMLElement)) {\r\n            return;\r\n        }\r\n        var boundaryRect = boundary.getBoundingClientRect();\r\n        var boundaryLeft = boundaryRect.left;\r\n        var boundaryTop = boundaryRect.top;\r\n        var parentRect = parent.getBoundingClientRect();\r\n        var parentLeft = parentRect.left;\r\n        var parentTop = parentRect.top;\r\n        var left = (boundaryLeft - parentLeft) / scale;\r\n        var top = boundaryTop - parentTop;\r\n        if (!this.resizable)\r\n            return;\r\n        var offset = this.getOffsetFromParent();\r\n        this.setState({\r\n            bounds: {\r\n                top: top - offset.top,\r\n                right: left + (boundary.offsetWidth - this.resizable.size.width) - offset.left / scale,\r\n                bottom: top + (boundary.offsetHeight - this.resizable.size.height) - offset.top,\r\n                left: left - offset.left / scale,\r\n            },\r\n        });\r\n    };\r\n    Rnd.prototype.onDrag = function (e, data) {\r\n        if (this.props.onDrag) {\r\n            var offset = this.getOffsetFromParent();\r\n            this.props.onDrag(e, __assign({}, data, { x: data.x - offset.left, y: data.y - offset.top }));\r\n        }\r\n    };\r\n    Rnd.prototype.onDragStop = function (e, data) {\r\n        if (this.props.onDragStop) {\r\n            var _a = this.getOffsetFromParent(), left = _a.left, top_3 = _a.top;\r\n            return this.props.onDragStop(e, __assign({}, data, { x: data.x + left, y: data.y + top_3 }));\r\n        }\r\n    };\r\n    Rnd.prototype.onResizeStart = function (e, dir, elementRef) {\r\n        e.stopPropagation();\r\n        this.resizing = true;\r\n        var scale = this.props.scale;\r\n        this.setState({\r\n            original: this.getDraggablePosition(),\r\n        });\r\n        if (this.props.bounds) {\r\n            var parent_1 = this.getParent();\r\n            var boundary = void 0;\r\n            if (this.props.bounds === \"parent\") {\r\n                boundary = parent_1;\r\n            }\r\n            else if (this.props.bounds === \"body\") {\r\n                boundary = document.body;\r\n            }\r\n            else if (this.props.bounds === \"window\") {\r\n                boundary = window;\r\n            }\r\n            else {\r\n                boundary = document.querySelector(this.props.bounds);\r\n            }\r\n            var self_1 = this.getSelfElement();\r\n            if (self_1 instanceof Element &&\r\n                (boundary instanceof HTMLElement || boundary === window) &&\r\n                parent_1 instanceof HTMLElement) {\r\n                var _a = this.getMaxSizesFromProps(), maxWidth = _a.maxWidth, maxHeight = _a.maxHeight;\r\n                var parentSize = this.getParentSize();\r\n                if (maxWidth && typeof maxWidth === \"string\") {\r\n                    if (maxWidth.endsWith(\"%\")) {\r\n                        var ratio = Number(maxWidth.replace(\"%\", \"\")) / 100;\r\n                        maxWidth = parentSize.width * ratio;\r\n                    }\r\n                    else if (maxWidth.endsWith(\"px\")) {\r\n                        maxWidth = Number(maxWidth.replace(\"px\", \"\"));\r\n                    }\r\n                }\r\n                if (maxHeight && typeof maxHeight === \"string\") {\r\n                    if (maxHeight.endsWith(\"%\")) {\r\n                        var ratio = Number(maxHeight.replace(\"%\", \"\")) / 100;\r\n                        maxHeight = parentSize.width * ratio;\r\n                    }\r\n                    else if (maxHeight.endsWith(\"px\")) {\r\n                        maxHeight = Number(maxHeight.replace(\"px\", \"\"));\r\n                    }\r\n                }\r\n                var selfRect = self_1.getBoundingClientRect();\r\n                var selfLeft = selfRect.left;\r\n                var selfTop = selfRect.top;\r\n                var boundaryRect = this.props.bounds === \"window\" ? { left: 0, top: 0 } : boundary.getBoundingClientRect();\r\n                var boundaryLeft = boundaryRect.left;\r\n                var boundaryTop = boundaryRect.top;\r\n                var offsetWidth = this.getOffsetWidth(boundary);\r\n                var offsetHeight = this.getOffsetHeight(boundary);\r\n                var hasLeft = dir.toLowerCase().endsWith(\"left\");\r\n                var hasRight = dir.toLowerCase().endsWith(\"right\");\r\n                var hasTop = dir.startsWith(\"top\");\r\n                var hasBottom = dir.startsWith(\"bottom\");\r\n                if (hasLeft && this.resizable) {\r\n                    var max = (selfLeft - boundaryLeft) / scale + this.resizable.size.width;\r\n                    this.setState({ maxWidth: max > Number(maxWidth) ? maxWidth : max });\r\n                }\r\n                // INFO: To set bounds in `lock aspect ratio with bounds` case. See also that story.\r\n                if (hasRight || (this.props.lockAspectRatio && !hasLeft)) {\r\n                    var max = offsetWidth + (boundaryLeft - selfLeft) / scale;\r\n                    this.setState({ maxWidth: max > Number(maxWidth) ? maxWidth : max });\r\n                }\r\n                if (hasTop && this.resizable) {\r\n                    var max = (selfTop - boundaryTop) / scale + this.resizable.size.height;\r\n                    this.setState({\r\n                        maxHeight: max > Number(maxHeight) ? maxHeight : max,\r\n                    });\r\n                }\r\n                // INFO: To set bounds in `lock aspect ratio with bounds` case. See also that story.\r\n                if (hasBottom || (this.props.lockAspectRatio && !hasTop)) {\r\n                    var max = offsetHeight + (boundaryTop - selfTop) / scale;\r\n                    this.setState({\r\n                        maxHeight: max > Number(maxHeight) ? maxHeight : max,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                maxWidth: this.props.maxWidth,\r\n                maxHeight: this.props.maxHeight,\r\n            });\r\n        }\r\n        if (this.props.onResizeStart) {\r\n            this.props.onResizeStart(e, dir, elementRef);\r\n        }\r\n    };\r\n    Rnd.prototype.onResize = function (e, direction, elementRef, delta) {\r\n        var x;\r\n        var y;\r\n        var offset = this.getOffsetFromParent();\r\n        if (/left/i.test(direction)) {\r\n            x = this.state.original.x - delta.width;\r\n            // INFO: Apply x position by resize to draggable.\r\n            this.draggable.setState({ x: x });\r\n            x += offset.left;\r\n        }\r\n        if (/top/i.test(direction)) {\r\n            y = this.state.original.y - delta.height;\r\n            // INFO: Apply x position by resize to draggable.\r\n            this.draggable.setState({ y: y });\r\n            y += offset.top;\r\n        }\r\n        if (typeof x === \"undefined\") {\r\n            x = this.getDraggablePosition().x + offset.left;\r\n        }\r\n        if (typeof y === \"undefined\") {\r\n            y = this.getDraggablePosition().y + offset.top;\r\n        }\r\n        this.resizingPosition = { x: x, y: y };\r\n        if (!this.props.onResize)\r\n            return;\r\n        this.props.onResize(e, direction, elementRef, delta, {\r\n            x: x,\r\n            y: y,\r\n        });\r\n    };\r\n    Rnd.prototype.onResizeStop = function (e, direction, elementRef, delta) {\r\n        this.resizing = false;\r\n        var _a = this.getMaxSizesFromProps(), maxWidth = _a.maxWidth, maxHeight = _a.maxHeight;\r\n        this.setState({ maxWidth: maxWidth, maxHeight: maxHeight });\r\n        if (this.props.onResizeStop) {\r\n            this.props.onResizeStop(e, direction, elementRef, delta, this.resizingPosition);\r\n        }\r\n    };\r\n    Rnd.prototype.updateSize = function (size) {\r\n        if (!this.resizable)\r\n            return;\r\n        this.resizable.updateSize({ width: size.width, height: size.height });\r\n    };\r\n    Rnd.prototype.updatePosition = function (position) {\r\n        this.draggable.setState(position);\r\n    };\r\n    Rnd.prototype.getOffsetFromParent = function () {\r\n        var scale = this.props.scale;\r\n        var parent = this.getParent();\r\n        var self = this.getSelfElement();\r\n        if (!parent || self === null) {\r\n            return {\r\n                top: 0,\r\n                left: 0,\r\n            };\r\n        }\r\n        var parentRect = parent.getBoundingClientRect();\r\n        var parentLeft = parentRect.left;\r\n        var parentTop = parentRect.top;\r\n        var selfRect = self.getBoundingClientRect();\r\n        var position = this.getDraggablePosition();\r\n        return {\r\n            left: selfRect.left - parentLeft - position.x * scale,\r\n            top: selfRect.top - parentTop - position.y * scale,\r\n        };\r\n    };\r\n    Rnd.prototype.render = function () {\r\n        var _a = this.props, disableDragging = _a.disableDragging, style = _a.style, dragHandleClassName = _a.dragHandleClassName, position = _a.position, onMouseDown = _a.onMouseDown, onMouseUp = _a.onMouseUp, dragAxis = _a.dragAxis, dragGrid = _a.dragGrid, bounds = _a.bounds, enableUserSelectHack = _a.enableUserSelectHack, cancel = _a.cancel, children = _a.children, onResizeStart = _a.onResizeStart, onResize = _a.onResize, onResizeStop = _a.onResizeStop, onDragStart = _a.onDragStart, onDrag = _a.onDrag, onDragStop = _a.onDragStop, resizeHandleStyles = _a.resizeHandleStyles, resizeHandleClasses = _a.resizeHandleClasses, enableResizing = _a.enableResizing, resizeGrid = _a.resizeGrid, resizeHandleWrapperClass = _a.resizeHandleWrapperClass, resizeHandleWrapperStyle = _a.resizeHandleWrapperStyle, scale = _a.scale, resizableProps = __rest(_a, [\"disableDragging\", \"style\", \"dragHandleClassName\", \"position\", \"onMouseDown\", \"onMouseUp\", \"dragAxis\", \"dragGrid\", \"bounds\", \"enableUserSelectHack\", \"cancel\", \"children\", \"onResizeStart\", \"onResize\", \"onResizeStop\", \"onDragStart\", \"onDrag\", \"onDragStop\", \"resizeHandleStyles\", \"resizeHandleClasses\", \"enableResizing\", \"resizeGrid\", \"resizeHandleWrapperClass\", \"resizeHandleWrapperStyle\", \"scale\"]);\r\n        var defaultValue = this.props.default ? __assign({}, this.props.default) : undefined;\r\n        // Remove unknown props, see also https://reactjs.org/warnings/unknown-prop.html\r\n        delete resizableProps.default;\r\n        var cursorStyle = disableDragging || dragHandleClassName ? { cursor: \"auto\" } : { cursor: \"move\" };\r\n        var innerStyle = __assign({}, resizableStyle, cursorStyle, style);\r\n        var _b = this.getOffsetFromParent(), left = _b.left, top = _b.top;\r\n        var draggablePosition;\r\n        if (position) {\r\n            draggablePosition = {\r\n                x: position.x - left,\r\n                y: position.y - top,\r\n            };\r\n        }\r\n        // INFO: Make uncontorolled component when resizing to control position by setPostion.\r\n        var pos = this.resizing ? undefined : draggablePosition;\r\n        return (Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(Draggable, { ref: this.refDraggable, handle: dragHandleClassName ? \".\" + dragHandleClassName : undefined, defaultPosition: defaultValue, onMouseDown: onMouseDown, onMouseUp: onMouseUp, onStart: this.onDragStart, onDrag: this.onDrag, onStop: this.onDragStop, axis: dragAxis, disabled: disableDragging, grid: dragGrid, bounds: bounds ? this.state.bounds : undefined, position: pos, enableUserSelectHack: enableUserSelectHack, cancel: cancel, scale: scale },\r\n            Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(__WEBPACK_IMPORTED_MODULE_1_re_resizable__[\"Resizable\"], __assign({}, resizableProps, { ref: this.refResizable, defaultSize: defaultValue, size: this.props.size, enable: enableResizing, onResizeStart: this.onResizeStart, onResize: this.onResize, onResizeStop: this.onResizeStop, style: innerStyle, minWidth: this.props.minWidth, minHeight: this.props.minHeight, maxWidth: this.resizing ? this.state.maxWidth : this.props.maxWidth, maxHeight: this.resizing ? this.state.maxHeight : this.props.maxHeight, grid: resizeGrid, handleWrapperClass: resizeHandleWrapperClass, handleWrapperStyle: resizeHandleWrapperStyle, lockAspectRatio: this.props.lockAspectRatio, lockAspectRatioExtraWidth: this.props.lockAspectRatioExtraWidth, lockAspectRatioExtraHeight: this.props.lockAspectRatioExtraHeight, handleStyles: resizeHandleStyles, handleClasses: resizeHandleClasses, scale: this.props.scale }), children)));\r\n    };\r\n    Rnd.defaultProps = {\r\n        maxWidth: Number.MAX_SAFE_INTEGER,\r\n        maxHeight: Number.MAX_SAFE_INTEGER,\r\n        scale: 1,\r\n        onResizeStart: function () { },\r\n        onResize: function () { },\r\n        onResizeStop: function () { },\r\n        onDragStart: function () { },\r\n        onDrag: function () { },\r\n        onDragStop: function () { },\r\n    };\r\n    return Rnd;\r\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]));\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9jb21tb24tY29tcG9uZW50cy9ub2RlX21vZHVsZXMvcmVhY3Qtcm5kL2xpYi9pbmRleC5qcz85NTNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSZXNpemFibGUgfSBmcm9tICdyZS1yZXNpemFibGUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxuXG52YXIgRHJhZ2dhYmxlID0gcmVxdWlyZShcInJlYWN0LWRyYWdnYWJsZVwiKTtcclxudmFyIHJlc2l6YWJsZVN0eWxlID0ge1xyXG4gICAgd2lkdGg6IFwiYXV0b1wiLFxyXG4gICAgaGVpZ2h0OiBcImF1dG9cIixcclxuICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXHJcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgdG9wOiAwLFxyXG4gICAgbGVmdDogMCxcclxufTtcclxudmFyIFJuZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSbmQsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSbmQocHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5yZXNpemluZyA9IGZhbHNlO1xyXG4gICAgICAgIF90aGlzLnJlc2l6aW5nUG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfTtcclxuICAgICAgICBfdGhpcy5yZWZEcmFnZ2FibGUgPSBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICBpZiAoIWMpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIF90aGlzLmRyYWdnYWJsZSA9IGM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5yZWZSZXNpemFibGUgPSBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICBpZiAoIWMpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIF90aGlzLnJlc2l6YWJsZSA9IGM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgb3JpZ2luYWw6IHtcclxuICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib3VuZHM6IHtcclxuICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgIHJpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgYm90dG9tOiAwLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWF4V2lkdGg6IHByb3BzLm1heFdpZHRoLFxyXG4gICAgICAgICAgICBtYXhIZWlnaHQ6IHByb3BzLm1heEhlaWdodCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLm9uUmVzaXplU3RhcnQgPSBfdGhpcy5vblJlc2l6ZVN0YXJ0LmJpbmQoX3RoaXMpO1xyXG4gICAgICAgIF90aGlzLm9uUmVzaXplID0gX3RoaXMub25SZXNpemUuYmluZChfdGhpcyk7XHJcbiAgICAgICAgX3RoaXMub25SZXNpemVTdG9wID0gX3RoaXMub25SZXNpemVTdG9wLmJpbmQoX3RoaXMpO1xyXG4gICAgICAgIF90aGlzLm9uRHJhZ1N0YXJ0ID0gX3RoaXMub25EcmFnU3RhcnQuYmluZChfdGhpcyk7XHJcbiAgICAgICAgX3RoaXMub25EcmFnID0gX3RoaXMub25EcmFnLmJpbmQoX3RoaXMpO1xyXG4gICAgICAgIF90aGlzLm9uRHJhZ1N0b3AgPSBfdGhpcy5vbkRyYWdTdG9wLmJpbmQoX3RoaXMpO1xyXG4gICAgICAgIF90aGlzLmdldE1heFNpemVzRnJvbVByb3BzID0gX3RoaXMuZ2V0TWF4U2l6ZXNGcm9tUHJvcHMuYmluZChfdGhpcyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUm5kLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX2EgPSB0aGlzLmdldE9mZnNldEZyb21QYXJlbnQoKSwgbGVmdCA9IF9hLmxlZnQsIHRvcCA9IF9hLnRvcDtcclxuICAgICAgICB2YXIgX2IgPSB0aGlzLmdldERyYWdnYWJsZVBvc2l0aW9uKCksIHggPSBfYi54LCB5ID0gX2IueTtcclxuICAgICAgICB0aGlzLmRyYWdnYWJsZS5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHg6IHggLSBsZWZ0LFxyXG4gICAgICAgICAgICB5OiB5IC0gdG9wLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEhBQ0s6IEFwcGx5IHBvc2l0aW9uIGFkanVzdG1lbnRcclxuICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XHJcbiAgICB9O1xyXG4gICAgLy8gSEFDSzogVG8gZ2V0IGByZWFjdC1kcmFnZ2FibGVgIHN0YXRlIHggYW5kIHkuXHJcbiAgICBSbmQucHJvdG90eXBlLmdldERyYWdnYWJsZVBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfYSA9IHRoaXMuZHJhZ2dhYmxlLnN0YXRlLCB4ID0gX2EueCwgeSA9IF9hLnk7XHJcbiAgICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xyXG4gICAgfTtcclxuICAgIFJuZC5wcm90b3R5cGUuZ2V0UGFyZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc2l6YWJsZSAmJiB0aGlzLnJlc2l6YWJsZS5wYXJlbnROb2RlO1xyXG4gICAgfTtcclxuICAgIFJuZC5wcm90b3R5cGUuZ2V0UGFyZW50U2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNpemFibGUuZ2V0UGFyZW50U2l6ZSgpO1xyXG4gICAgfTtcclxuICAgIFJuZC5wcm90b3R5cGUuZ2V0TWF4U2l6ZXNGcm9tUHJvcHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG1heFdpZHRoID0gdHlwZW9mIHRoaXMucHJvcHMubWF4V2lkdGggPT09IFwidW5kZWZpbmVkXCIgPyBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiA6IHRoaXMucHJvcHMubWF4V2lkdGg7XHJcbiAgICAgICAgdmFyIG1heEhlaWdodCA9IHR5cGVvZiB0aGlzLnByb3BzLm1heEhlaWdodCA9PT0gXCJ1bmRlZmluZWRcIiA/IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIDogdGhpcy5wcm9wcy5tYXhIZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIHsgbWF4V2lkdGg6IG1heFdpZHRoLCBtYXhIZWlnaHQ6IG1heEhlaWdodCB9O1xyXG4gICAgfTtcclxuICAgIFJuZC5wcm90b3R5cGUuZ2V0U2VsZkVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzaXphYmxlICYmIHRoaXMucmVzaXphYmxlLnJlc2l6YWJsZTtcclxuICAgIH07XHJcbiAgICBSbmQucHJvdG90eXBlLmdldE9mZnNldEhlaWdodCA9IGZ1bmN0aW9uIChib3VuZGFyeSkge1xyXG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMucHJvcHMuc2NhbGU7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnByb3BzLmJvdW5kcykge1xyXG4gICAgICAgICAgICBjYXNlIFwid2luZG93XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmlubmVySGVpZ2h0IC8gc2NhbGU7XHJcbiAgICAgICAgICAgIGNhc2UgXCJib2R5XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQgLyBzY2FsZTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZGFyeS5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJuZC5wcm90b3R5cGUuZ2V0T2Zmc2V0V2lkdGggPSBmdW5jdGlvbiAoYm91bmRhcnkpIHtcclxuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLnByb3BzLnNjYWxlO1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5wcm9wcy5ib3VuZHMpIHtcclxuICAgICAgICAgICAgY2FzZSBcIndpbmRvd1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIC8gc2NhbGU7XHJcbiAgICAgICAgICAgIGNhc2UgXCJib2R5XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAvIHNjYWxlO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kYXJ5Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBSbmQucHJvdG90eXBlLm9uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGUsIGRhdGEpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkRyYWdTdGFydCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uRHJhZ1N0YXJ0KGUsIGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuYm91bmRzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KCk7XHJcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5wcm9wcy5zY2FsZTtcclxuICAgICAgICB2YXIgYm91bmRhcnk7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYm91bmRzID09PSBcInBhcmVudFwiKSB7XHJcbiAgICAgICAgICAgIGJvdW5kYXJ5ID0gcGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnByb3BzLmJvdW5kcyA9PT0gXCJib2R5XCIpIHtcclxuICAgICAgICAgICAgdmFyIHBhcmVudFJlY3RfMSA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgdmFyIHBhcmVudExlZnRfMSA9IHBhcmVudFJlY3RfMS5sZWZ0O1xyXG4gICAgICAgICAgICB2YXIgcGFyZW50VG9wXzEgPSBwYXJlbnRSZWN0XzEudG9wO1xyXG4gICAgICAgICAgICB2YXIgYm9keVJlY3QgPSBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICB2YXIgbGVmdF8xID0gLShwYXJlbnRMZWZ0XzEgLSBwYXJlbnQub2Zmc2V0TGVmdCAqIHNjYWxlIC0gYm9keVJlY3QubGVmdCkgLyBzY2FsZTtcclxuICAgICAgICAgICAgdmFyIHRvcF8xID0gLShwYXJlbnRUb3BfMSAtIHBhcmVudC5vZmZzZXRUb3AgKiBzY2FsZSAtIGJvZHlSZWN0LnRvcCkgLyBzY2FsZTtcclxuICAgICAgICAgICAgdmFyIHJpZ2h0ID0gKGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggLSB0aGlzLnJlc2l6YWJsZS5zaXplLndpZHRoICogc2NhbGUpIC8gc2NhbGUgKyBsZWZ0XzE7XHJcbiAgICAgICAgICAgIHZhciBib3R0b20gPSAoZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQgLSB0aGlzLnJlc2l6YWJsZS5zaXplLmhlaWdodCAqIHNjYWxlKSAvIHNjYWxlICsgdG9wXzE7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgYm91bmRzOiB7IHRvcDogdG9wXzEsIHJpZ2h0OiByaWdodCwgYm90dG9tOiBib3R0b20sIGxlZnQ6IGxlZnRfMSB9IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnByb3BzLmJvdW5kcyA9PT0gXCJ3aW5kb3dcIikge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucmVzaXphYmxlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgcGFyZW50UmVjdF8yID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICB2YXIgcGFyZW50TGVmdF8yID0gcGFyZW50UmVjdF8yLmxlZnQ7XHJcbiAgICAgICAgICAgIHZhciBwYXJlbnRUb3BfMiA9IHBhcmVudFJlY3RfMi50b3A7XHJcbiAgICAgICAgICAgIHZhciBsZWZ0XzIgPSAtKHBhcmVudExlZnRfMiAtIHBhcmVudC5vZmZzZXRMZWZ0ICogc2NhbGUpIC8gc2NhbGU7XHJcbiAgICAgICAgICAgIHZhciB0b3BfMiA9IC0ocGFyZW50VG9wXzIgLSBwYXJlbnQub2Zmc2V0VG9wICogc2NhbGUpIC8gc2NhbGU7XHJcbiAgICAgICAgICAgIHZhciByaWdodCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIHRoaXMucmVzaXphYmxlLnNpemUud2lkdGggKiBzY2FsZSkgLyBzY2FsZSArIGxlZnRfMjtcclxuICAgICAgICAgICAgdmFyIGJvdHRvbSA9ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSB0aGlzLnJlc2l6YWJsZS5zaXplLmhlaWdodCAqIHNjYWxlKSAvIHNjYWxlICsgdG9wXzI7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlKHsgYm91bmRzOiB7IHRvcDogdG9wXzIsIHJpZ2h0OiByaWdodCwgYm90dG9tOiBib3R0b20sIGxlZnQ6IGxlZnRfMiB9IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYm91bmRhcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMucHJvcHMuYm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCEoYm91bmRhcnkgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgfHwgIShwYXJlbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYm91bmRhcnlSZWN0ID0gYm91bmRhcnkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdmFyIGJvdW5kYXJ5TGVmdCA9IGJvdW5kYXJ5UmVjdC5sZWZ0O1xyXG4gICAgICAgIHZhciBib3VuZGFyeVRvcCA9IGJvdW5kYXJ5UmVjdC50b3A7XHJcbiAgICAgICAgdmFyIHBhcmVudFJlY3QgPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdmFyIHBhcmVudExlZnQgPSBwYXJlbnRSZWN0LmxlZnQ7XHJcbiAgICAgICAgdmFyIHBhcmVudFRvcCA9IHBhcmVudFJlY3QudG9wO1xyXG4gICAgICAgIHZhciBsZWZ0ID0gKGJvdW5kYXJ5TGVmdCAtIHBhcmVudExlZnQpIC8gc2NhbGU7XHJcbiAgICAgICAgdmFyIHRvcCA9IGJvdW5kYXJ5VG9wIC0gcGFyZW50VG9wO1xyXG4gICAgICAgIGlmICghdGhpcy5yZXNpemFibGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5nZXRPZmZzZXRGcm9tUGFyZW50KCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGJvdW5kczoge1xyXG4gICAgICAgICAgICAgICAgdG9wOiB0b3AgLSBvZmZzZXQudG9wLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IGxlZnQgKyAoYm91bmRhcnkub2Zmc2V0V2lkdGggLSB0aGlzLnJlc2l6YWJsZS5zaXplLndpZHRoKSAtIG9mZnNldC5sZWZ0IC8gc2NhbGUsXHJcbiAgICAgICAgICAgICAgICBib3R0b206IHRvcCArIChib3VuZGFyeS5vZmZzZXRIZWlnaHQgLSB0aGlzLnJlc2l6YWJsZS5zaXplLmhlaWdodCkgLSBvZmZzZXQudG9wLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogbGVmdCAtIG9mZnNldC5sZWZ0IC8gc2NhbGUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgUm5kLnByb3RvdHlwZS5vbkRyYWcgPSBmdW5jdGlvbiAoZSwgZGF0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9uRHJhZykge1xyXG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5nZXRPZmZzZXRGcm9tUGFyZW50KCk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25EcmFnKGUsIF9fYXNzaWduKHt9LCBkYXRhLCB7IHg6IGRhdGEueCAtIG9mZnNldC5sZWZ0LCB5OiBkYXRhLnkgLSBvZmZzZXQudG9wIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm5kLnByb3RvdHlwZS5vbkRyYWdTdG9wID0gZnVuY3Rpb24gKGUsIGRhdGEpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkRyYWdTdG9wKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuZ2V0T2Zmc2V0RnJvbVBhcmVudCgpLCBsZWZ0ID0gX2EubGVmdCwgdG9wXzMgPSBfYS50b3A7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLm9uRHJhZ1N0b3AoZSwgX19hc3NpZ24oe30sIGRhdGEsIHsgeDogZGF0YS54ICsgbGVmdCwgeTogZGF0YS55ICsgdG9wXzMgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBSbmQucHJvdG90eXBlLm9uUmVzaXplU3RhcnQgPSBmdW5jdGlvbiAoZSwgZGlyLCBlbGVtZW50UmVmKSB7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB0aGlzLnJlc2l6aW5nID0gdHJ1ZTtcclxuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLnByb3BzLnNjYWxlO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBvcmlnaW5hbDogdGhpcy5nZXREcmFnZ2FibGVQb3NpdGlvbigpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmJvdW5kcykge1xyXG4gICAgICAgICAgICB2YXIgcGFyZW50XzEgPSB0aGlzLmdldFBhcmVudCgpO1xyXG4gICAgICAgICAgICB2YXIgYm91bmRhcnkgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmJvdW5kcyA9PT0gXCJwYXJlbnRcIikge1xyXG4gICAgICAgICAgICAgICAgYm91bmRhcnkgPSBwYXJlbnRfMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnByb3BzLmJvdW5kcyA9PT0gXCJib2R5XCIpIHtcclxuICAgICAgICAgICAgICAgIGJvdW5kYXJ5ID0gZG9jdW1lbnQuYm9keTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnByb3BzLmJvdW5kcyA9PT0gXCJ3aW5kb3dcIikge1xyXG4gICAgICAgICAgICAgICAgYm91bmRhcnkgPSB3aW5kb3c7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBib3VuZGFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5wcm9wcy5ib3VuZHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBzZWxmXzEgPSB0aGlzLmdldFNlbGZFbGVtZW50KCk7XHJcbiAgICAgICAgICAgIGlmIChzZWxmXzEgaW5zdGFuY2VvZiBFbGVtZW50ICYmXHJcbiAgICAgICAgICAgICAgICAoYm91bmRhcnkgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCBib3VuZGFyeSA9PT0gd2luZG93KSAmJlxyXG4gICAgICAgICAgICAgICAgcGFyZW50XzEgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5nZXRNYXhTaXplc0Zyb21Qcm9wcygpLCBtYXhXaWR0aCA9IF9hLm1heFdpZHRoLCBtYXhIZWlnaHQgPSBfYS5tYXhIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50U2l6ZSA9IHRoaXMuZ2V0UGFyZW50U2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heFdpZHRoICYmIHR5cGVvZiBtYXhXaWR0aCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXhXaWR0aC5lbmRzV2l0aChcIiVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhdGlvID0gTnVtYmVyKG1heFdpZHRoLnJlcGxhY2UoXCIlXCIsIFwiXCIpKSAvIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGggPSBwYXJlbnRTaXplLndpZHRoICogcmF0aW87XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1heFdpZHRoLmVuZHNXaXRoKFwicHhcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGggPSBOdW1iZXIobWF4V2lkdGgucmVwbGFjZShcInB4XCIsIFwiXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobWF4SGVpZ2h0ICYmIHR5cGVvZiBtYXhIZWlnaHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF4SGVpZ2h0LmVuZHNXaXRoKFwiJVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmF0aW8gPSBOdW1iZXIobWF4SGVpZ2h0LnJlcGxhY2UoXCIlXCIsIFwiXCIpKSAvIDEwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gcGFyZW50U2l6ZS53aWR0aCAqIHJhdGlvO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXhIZWlnaHQuZW5kc1dpdGgoXCJweFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSBOdW1iZXIobWF4SGVpZ2h0LnJlcGxhY2UoXCJweFwiLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGZSZWN0ID0gc2VsZl8xLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGZMZWZ0ID0gc2VsZlJlY3QubGVmdDtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxmVG9wID0gc2VsZlJlY3QudG9wO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kYXJ5UmVjdCA9IHRoaXMucHJvcHMuYm91bmRzID09PSBcIndpbmRvd1wiID8geyBsZWZ0OiAwLCB0b3A6IDAgfSA6IGJvdW5kYXJ5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kYXJ5TGVmdCA9IGJvdW5kYXJ5UmVjdC5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kYXJ5VG9wID0gYm91bmRhcnlSZWN0LnRvcDtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRXaWR0aCA9IHRoaXMuZ2V0T2Zmc2V0V2lkdGgoYm91bmRhcnkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldEhlaWdodCA9IHRoaXMuZ2V0T2Zmc2V0SGVpZ2h0KGJvdW5kYXJ5KTtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNMZWZ0ID0gZGlyLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoXCJsZWZ0XCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhhc1JpZ2h0ID0gZGlyLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoXCJyaWdodFwiKTtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNUb3AgPSBkaXIuc3RhcnRzV2l0aChcInRvcFwiKTtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNCb3R0b20gPSBkaXIuc3RhcnRzV2l0aChcImJvdHRvbVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNMZWZ0ICYmIHRoaXMucmVzaXphYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heCA9IChzZWxmTGVmdCAtIGJvdW5kYXJ5TGVmdCkgLyBzY2FsZSArIHRoaXMucmVzaXphYmxlLnNpemUud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1heFdpZHRoOiBtYXggPiBOdW1iZXIobWF4V2lkdGgpID8gbWF4V2lkdGggOiBtYXggfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBJTkZPOiBUbyBzZXQgYm91bmRzIGluIGBsb2NrIGFzcGVjdCByYXRpbyB3aXRoIGJvdW5kc2AgY2FzZS4gU2VlIGFsc28gdGhhdCBzdG9yeS5cclxuICAgICAgICAgICAgICAgIGlmIChoYXNSaWdodCB8fCAodGhpcy5wcm9wcy5sb2NrQXNwZWN0UmF0aW8gJiYgIWhhc0xlZnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heCA9IG9mZnNldFdpZHRoICsgKGJvdW5kYXJ5TGVmdCAtIHNlbGZMZWZ0KSAvIHNjYWxlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXhXaWR0aDogbWF4ID4gTnVtYmVyKG1heFdpZHRoKSA/IG1heFdpZHRoIDogbWF4IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1RvcCAmJiB0aGlzLnJlc2l6YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXggPSAoc2VsZlRvcCAtIGJvdW5kYXJ5VG9wKSAvIHNjYWxlICsgdGhpcy5yZXNpemFibGUuc2l6ZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogbWF4ID4gTnVtYmVyKG1heEhlaWdodCkgPyBtYXhIZWlnaHQgOiBtYXgsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBJTkZPOiBUbyBzZXQgYm91bmRzIGluIGBsb2NrIGFzcGVjdCByYXRpbyB3aXRoIGJvdW5kc2AgY2FzZS4gU2VlIGFsc28gdGhhdCBzdG9yeS5cclxuICAgICAgICAgICAgICAgIGlmIChoYXNCb3R0b20gfHwgKHRoaXMucHJvcHMubG9ja0FzcGVjdFJhdGlvICYmICFoYXNUb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heCA9IG9mZnNldEhlaWdodCArIChib3VuZGFyeVRvcCAtIHNlbGZUb3ApIC8gc2NhbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogbWF4ID4gTnVtYmVyKG1heEhlaWdodCkgPyBtYXhIZWlnaHQgOiBtYXgsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6IHRoaXMucHJvcHMubWF4V2lkdGgsXHJcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6IHRoaXMucHJvcHMubWF4SGVpZ2h0LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25SZXNpemVTdGFydCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uUmVzaXplU3RhcnQoZSwgZGlyLCBlbGVtZW50UmVmKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm5kLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uIChlLCBkaXJlY3Rpb24sIGVsZW1lbnRSZWYsIGRlbHRhKSB7XHJcbiAgICAgICAgdmFyIHg7XHJcbiAgICAgICAgdmFyIHk7XHJcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuZ2V0T2Zmc2V0RnJvbVBhcmVudCgpO1xyXG4gICAgICAgIGlmICgvbGVmdC9pLnRlc3QoZGlyZWN0aW9uKSkge1xyXG4gICAgICAgICAgICB4ID0gdGhpcy5zdGF0ZS5vcmlnaW5hbC54IC0gZGVsdGEud2lkdGg7XHJcbiAgICAgICAgICAgIC8vIElORk86IEFwcGx5IHggcG9zaXRpb24gYnkgcmVzaXplIHRvIGRyYWdnYWJsZS5cclxuICAgICAgICAgICAgdGhpcy5kcmFnZ2FibGUuc2V0U3RhdGUoeyB4OiB4IH0pO1xyXG4gICAgICAgICAgICB4ICs9IG9mZnNldC5sZWZ0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoL3RvcC9pLnRlc3QoZGlyZWN0aW9uKSkge1xyXG4gICAgICAgICAgICB5ID0gdGhpcy5zdGF0ZS5vcmlnaW5hbC55IC0gZGVsdGEuaGVpZ2h0O1xyXG4gICAgICAgICAgICAvLyBJTkZPOiBBcHBseSB4IHBvc2l0aW9uIGJ5IHJlc2l6ZSB0byBkcmFnZ2FibGUuXHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dhYmxlLnNldFN0YXRlKHsgeTogeSB9KTtcclxuICAgICAgICAgICAgeSArPSBvZmZzZXQudG9wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHggPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgeCA9IHRoaXMuZ2V0RHJhZ2dhYmxlUG9zaXRpb24oKS54ICsgb2Zmc2V0LmxlZnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgeSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICB5ID0gdGhpcy5nZXREcmFnZ2FibGVQb3NpdGlvbigpLnkgKyBvZmZzZXQudG9wO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlc2l6aW5nUG9zaXRpb24gPSB7IHg6IHgsIHk6IHkgfTtcclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMub25SZXNpemUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnByb3BzLm9uUmVzaXplKGUsIGRpcmVjdGlvbiwgZWxlbWVudFJlZiwgZGVsdGEsIHtcclxuICAgICAgICAgICAgeDogeCxcclxuICAgICAgICAgICAgeTogeSxcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBSbmQucHJvdG90eXBlLm9uUmVzaXplU3RvcCA9IGZ1bmN0aW9uIChlLCBkaXJlY3Rpb24sIGVsZW1lbnRSZWYsIGRlbHRhKSB7XHJcbiAgICAgICAgdGhpcy5yZXNpemluZyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBfYSA9IHRoaXMuZ2V0TWF4U2l6ZXNGcm9tUHJvcHMoKSwgbWF4V2lkdGggPSBfYS5tYXhXaWR0aCwgbWF4SGVpZ2h0ID0gX2EubWF4SGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXhXaWR0aDogbWF4V2lkdGgsIG1heEhlaWdodDogbWF4SGVpZ2h0IH0pO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9uUmVzaXplU3RvcCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uUmVzaXplU3RvcChlLCBkaXJlY3Rpb24sIGVsZW1lbnRSZWYsIGRlbHRhLCB0aGlzLnJlc2l6aW5nUG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBSbmQucHJvdG90eXBlLnVwZGF0ZVNpemUgPSBmdW5jdGlvbiAoc2l6ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5yZXNpemFibGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnJlc2l6YWJsZS51cGRhdGVTaXplKHsgd2lkdGg6IHNpemUud2lkdGgsIGhlaWdodDogc2l6ZS5oZWlnaHQgfSk7XHJcbiAgICB9O1xyXG4gICAgUm5kLnByb3RvdHlwZS51cGRhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgIHRoaXMuZHJhZ2dhYmxlLnNldFN0YXRlKHBvc2l0aW9uKTtcclxuICAgIH07XHJcbiAgICBSbmQucHJvdG90eXBlLmdldE9mZnNldEZyb21QYXJlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5wcm9wcy5zY2FsZTtcclxuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKTtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXMuZ2V0U2VsZkVsZW1lbnQoKTtcclxuICAgICAgICBpZiAoIXBhcmVudCB8fCBzZWxmID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcGFyZW50UmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB2YXIgcGFyZW50TGVmdCA9IHBhcmVudFJlY3QubGVmdDtcclxuICAgICAgICB2YXIgcGFyZW50VG9wID0gcGFyZW50UmVjdC50b3A7XHJcbiAgICAgICAgdmFyIHNlbGZSZWN0ID0gc2VsZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmdldERyYWdnYWJsZVBvc2l0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGVmdDogc2VsZlJlY3QubGVmdCAtIHBhcmVudExlZnQgLSBwb3NpdGlvbi54ICogc2NhbGUsXHJcbiAgICAgICAgICAgIHRvcDogc2VsZlJlY3QudG9wIC0gcGFyZW50VG9wIC0gcG9zaXRpb24ueSAqIHNjYWxlLFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgUm5kLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgZGlzYWJsZURyYWdnaW5nID0gX2EuZGlzYWJsZURyYWdnaW5nLCBzdHlsZSA9IF9hLnN0eWxlLCBkcmFnSGFuZGxlQ2xhc3NOYW1lID0gX2EuZHJhZ0hhbmRsZUNsYXNzTmFtZSwgcG9zaXRpb24gPSBfYS5wb3NpdGlvbiwgb25Nb3VzZURvd24gPSBfYS5vbk1vdXNlRG93biwgb25Nb3VzZVVwID0gX2Eub25Nb3VzZVVwLCBkcmFnQXhpcyA9IF9hLmRyYWdBeGlzLCBkcmFnR3JpZCA9IF9hLmRyYWdHcmlkLCBib3VuZHMgPSBfYS5ib3VuZHMsIGVuYWJsZVVzZXJTZWxlY3RIYWNrID0gX2EuZW5hYmxlVXNlclNlbGVjdEhhY2ssIGNhbmNlbCA9IF9hLmNhbmNlbCwgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgb25SZXNpemVTdGFydCA9IF9hLm9uUmVzaXplU3RhcnQsIG9uUmVzaXplID0gX2Eub25SZXNpemUsIG9uUmVzaXplU3RvcCA9IF9hLm9uUmVzaXplU3RvcCwgb25EcmFnU3RhcnQgPSBfYS5vbkRyYWdTdGFydCwgb25EcmFnID0gX2Eub25EcmFnLCBvbkRyYWdTdG9wID0gX2Eub25EcmFnU3RvcCwgcmVzaXplSGFuZGxlU3R5bGVzID0gX2EucmVzaXplSGFuZGxlU3R5bGVzLCByZXNpemVIYW5kbGVDbGFzc2VzID0gX2EucmVzaXplSGFuZGxlQ2xhc3NlcywgZW5hYmxlUmVzaXppbmcgPSBfYS5lbmFibGVSZXNpemluZywgcmVzaXplR3JpZCA9IF9hLnJlc2l6ZUdyaWQsIHJlc2l6ZUhhbmRsZVdyYXBwZXJDbGFzcyA9IF9hLnJlc2l6ZUhhbmRsZVdyYXBwZXJDbGFzcywgcmVzaXplSGFuZGxlV3JhcHBlclN0eWxlID0gX2EucmVzaXplSGFuZGxlV3JhcHBlclN0eWxlLCBzY2FsZSA9IF9hLnNjYWxlLCByZXNpemFibGVQcm9wcyA9IF9fcmVzdChfYSwgW1wiZGlzYWJsZURyYWdnaW5nXCIsIFwic3R5bGVcIiwgXCJkcmFnSGFuZGxlQ2xhc3NOYW1lXCIsIFwicG9zaXRpb25cIiwgXCJvbk1vdXNlRG93blwiLCBcIm9uTW91c2VVcFwiLCBcImRyYWdBeGlzXCIsIFwiZHJhZ0dyaWRcIiwgXCJib3VuZHNcIiwgXCJlbmFibGVVc2VyU2VsZWN0SGFja1wiLCBcImNhbmNlbFwiLCBcImNoaWxkcmVuXCIsIFwib25SZXNpemVTdGFydFwiLCBcIm9uUmVzaXplXCIsIFwib25SZXNpemVTdG9wXCIsIFwib25EcmFnU3RhcnRcIiwgXCJvbkRyYWdcIiwgXCJvbkRyYWdTdG9wXCIsIFwicmVzaXplSGFuZGxlU3R5bGVzXCIsIFwicmVzaXplSGFuZGxlQ2xhc3Nlc1wiLCBcImVuYWJsZVJlc2l6aW5nXCIsIFwicmVzaXplR3JpZFwiLCBcInJlc2l6ZUhhbmRsZVdyYXBwZXJDbGFzc1wiLCBcInJlc2l6ZUhhbmRsZVdyYXBwZXJTdHlsZVwiLCBcInNjYWxlXCJdKTtcclxuICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gdGhpcy5wcm9wcy5kZWZhdWx0ID8gX19hc3NpZ24oe30sIHRoaXMucHJvcHMuZGVmYXVsdCkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgLy8gUmVtb3ZlIHVua25vd24gcHJvcHMsIHNlZSBhbHNvIGh0dHBzOi8vcmVhY3Rqcy5vcmcvd2FybmluZ3MvdW5rbm93bi1wcm9wLmh0bWxcclxuICAgICAgICBkZWxldGUgcmVzaXphYmxlUHJvcHMuZGVmYXVsdDtcclxuICAgICAgICB2YXIgY3Vyc29yU3R5bGUgPSBkaXNhYmxlRHJhZ2dpbmcgfHwgZHJhZ0hhbmRsZUNsYXNzTmFtZSA/IHsgY3Vyc29yOiBcImF1dG9cIiB9IDogeyBjdXJzb3I6IFwibW92ZVwiIH07XHJcbiAgICAgICAgdmFyIGlubmVyU3R5bGUgPSBfX2Fzc2lnbih7fSwgcmVzaXphYmxlU3R5bGUsIGN1cnNvclN0eWxlLCBzdHlsZSk7XHJcbiAgICAgICAgdmFyIF9iID0gdGhpcy5nZXRPZmZzZXRGcm9tUGFyZW50KCksIGxlZnQgPSBfYi5sZWZ0LCB0b3AgPSBfYi50b3A7XHJcbiAgICAgICAgdmFyIGRyYWdnYWJsZVBvc2l0aW9uO1xyXG4gICAgICAgIGlmIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBkcmFnZ2FibGVQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIHg6IHBvc2l0aW9uLnggLSBsZWZ0LFxyXG4gICAgICAgICAgICAgICAgeTogcG9zaXRpb24ueSAtIHRvcCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSU5GTzogTWFrZSB1bmNvbnRvcm9sbGVkIGNvbXBvbmVudCB3aGVuIHJlc2l6aW5nIHRvIGNvbnRyb2wgcG9zaXRpb24gYnkgc2V0UG9zdGlvbi5cclxuICAgICAgICB2YXIgcG9zID0gdGhpcy5yZXNpemluZyA/IHVuZGVmaW5lZCA6IGRyYWdnYWJsZVBvc2l0aW9uO1xyXG4gICAgICAgIHJldHVybiAoY3JlYXRlRWxlbWVudChEcmFnZ2FibGUsIHsgcmVmOiB0aGlzLnJlZkRyYWdnYWJsZSwgaGFuZGxlOiBkcmFnSGFuZGxlQ2xhc3NOYW1lID8gXCIuXCIgKyBkcmFnSGFuZGxlQ2xhc3NOYW1lIDogdW5kZWZpbmVkLCBkZWZhdWx0UG9zaXRpb246IGRlZmF1bHRWYWx1ZSwgb25Nb3VzZURvd246IG9uTW91c2VEb3duLCBvbk1vdXNlVXA6IG9uTW91c2VVcCwgb25TdGFydDogdGhpcy5vbkRyYWdTdGFydCwgb25EcmFnOiB0aGlzLm9uRHJhZywgb25TdG9wOiB0aGlzLm9uRHJhZ1N0b3AsIGF4aXM6IGRyYWdBeGlzLCBkaXNhYmxlZDogZGlzYWJsZURyYWdnaW5nLCBncmlkOiBkcmFnR3JpZCwgYm91bmRzOiBib3VuZHMgPyB0aGlzLnN0YXRlLmJvdW5kcyA6IHVuZGVmaW5lZCwgcG9zaXRpb246IHBvcywgZW5hYmxlVXNlclNlbGVjdEhhY2s6IGVuYWJsZVVzZXJTZWxlY3RIYWNrLCBjYW5jZWw6IGNhbmNlbCwgc2NhbGU6IHNjYWxlIH0sXHJcbiAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoUmVzaXphYmxlLCBfX2Fzc2lnbih7fSwgcmVzaXphYmxlUHJvcHMsIHsgcmVmOiB0aGlzLnJlZlJlc2l6YWJsZSwgZGVmYXVsdFNpemU6IGRlZmF1bHRWYWx1ZSwgc2l6ZTogdGhpcy5wcm9wcy5zaXplLCBlbmFibGU6IGVuYWJsZVJlc2l6aW5nLCBvblJlc2l6ZVN0YXJ0OiB0aGlzLm9uUmVzaXplU3RhcnQsIG9uUmVzaXplOiB0aGlzLm9uUmVzaXplLCBvblJlc2l6ZVN0b3A6IHRoaXMub25SZXNpemVTdG9wLCBzdHlsZTogaW5uZXJTdHlsZSwgbWluV2lkdGg6IHRoaXMucHJvcHMubWluV2lkdGgsIG1pbkhlaWdodDogdGhpcy5wcm9wcy5taW5IZWlnaHQsIG1heFdpZHRoOiB0aGlzLnJlc2l6aW5nID8gdGhpcy5zdGF0ZS5tYXhXaWR0aCA6IHRoaXMucHJvcHMubWF4V2lkdGgsIG1heEhlaWdodDogdGhpcy5yZXNpemluZyA/IHRoaXMuc3RhdGUubWF4SGVpZ2h0IDogdGhpcy5wcm9wcy5tYXhIZWlnaHQsIGdyaWQ6IHJlc2l6ZUdyaWQsIGhhbmRsZVdyYXBwZXJDbGFzczogcmVzaXplSGFuZGxlV3JhcHBlckNsYXNzLCBoYW5kbGVXcmFwcGVyU3R5bGU6IHJlc2l6ZUhhbmRsZVdyYXBwZXJTdHlsZSwgbG9ja0FzcGVjdFJhdGlvOiB0aGlzLnByb3BzLmxvY2tBc3BlY3RSYXRpbywgbG9ja0FzcGVjdFJhdGlvRXh0cmFXaWR0aDogdGhpcy5wcm9wcy5sb2NrQXNwZWN0UmF0aW9FeHRyYVdpZHRoLCBsb2NrQXNwZWN0UmF0aW9FeHRyYUhlaWdodDogdGhpcy5wcm9wcy5sb2NrQXNwZWN0UmF0aW9FeHRyYUhlaWdodCwgaGFuZGxlU3R5bGVzOiByZXNpemVIYW5kbGVTdHlsZXMsIGhhbmRsZUNsYXNzZXM6IHJlc2l6ZUhhbmRsZUNsYXNzZXMsIHNjYWxlOiB0aGlzLnByb3BzLnNjYWxlIH0pLCBjaGlsZHJlbikpKTtcclxuICAgIH07XHJcbiAgICBSbmQuZGVmYXVsdFByb3BzID0ge1xyXG4gICAgICAgIG1heFdpZHRoOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcclxuICAgICAgICBtYXhIZWlnaHQ6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxyXG4gICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgIG9uUmVzaXplU3RhcnQ6IGZ1bmN0aW9uICgpIHsgfSxcclxuICAgICAgICBvblJlc2l6ZTogZnVuY3Rpb24gKCkgeyB9LFxyXG4gICAgICAgIG9uUmVzaXplU3RvcDogZnVuY3Rpb24gKCkgeyB9LFxyXG4gICAgICAgIG9uRHJhZ1N0YXJ0OiBmdW5jdGlvbiAoKSB7IH0sXHJcbiAgICAgICAgb25EcmFnOiBmdW5jdGlvbiAoKSB7IH0sXHJcbiAgICAgICAgb25EcmFnU3RvcDogZnVuY3Rpb24gKCkgeyB9LFxyXG4gICAgfTtcclxuICAgIHJldHVybiBSbmQ7XHJcbn0oUHVyZUNvbXBvbmVudCkpO1xuXG5leHBvcnQgeyBSbmQgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2NvbW1vbi1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9yZWFjdC1ybmQvbGliL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/*!*******************************************************************!*\
  !*** ../common-components/node_modules/re-resizable/lib/index.js ***!
  \*******************************************************************/
/*! dynamic exports provided */
/*! exports used: Resizable */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(__webpack_require__(/*! react */ 0));\nvar resizer_1 = __webpack_require__(/*! ./resizer */ 8);\nvar fast_memoize_1 = __importDefault(__webpack_require__(/*! fast-memoize */ 9));\nvar DEFAULT_SIZE = {\n    width: 'auto',\n    height: 'auto',\n};\nvar clamp = fast_memoize_1.default(function (n, min, max) { return Math.max(Math.min(n, max), min); });\nvar snap = fast_memoize_1.default(function (n, size) { return Math.round(n / size) * size; });\nvar hasDirection = fast_memoize_1.default(function (dir, target) { return new RegExp(dir, 'i').test(target); });\nvar findClosestSnap = fast_memoize_1.default(function (n, snapArray, snapGap) {\n    if (snapGap === void 0) { snapGap = 0; }\n    var closestGapIndex = snapArray.reduce(function (prev, curr, index) { return (Math.abs(curr - n) < Math.abs(snapArray[prev] - n) ? index : prev); }, 0);\n    var gap = Math.abs(snapArray[closestGapIndex] - n);\n    return snapGap === 0 || gap < snapGap ? snapArray[closestGapIndex] : n;\n});\nvar endsWith = fast_memoize_1.default(function (str, searchStr) {\n    return str.substr(str.length - searchStr.length, searchStr.length) === searchStr;\n});\nvar getStringSize = fast_memoize_1.default(function (n) {\n    n = n.toString();\n    if (n === 'auto') {\n        return n;\n    }\n    if (endsWith(n, 'px')) {\n        return n;\n    }\n    if (endsWith(n, '%')) {\n        return n;\n    }\n    if (endsWith(n, 'vh')) {\n        return n;\n    }\n    if (endsWith(n, 'vw')) {\n        return n;\n    }\n    if (endsWith(n, 'vmax')) {\n        return n;\n    }\n    if (endsWith(n, 'vmin')) {\n        return n;\n    }\n    return n + \"px\";\n});\nvar calculateNewMax = fast_memoize_1.default(function (parentSize, maxWidth, maxHeight, minWidth, minHeight) {\n    if (maxWidth && typeof maxWidth === 'string' && endsWith(maxWidth, '%')) {\n        var ratio = Number(maxWidth.replace('%', '')) / 100;\n        maxWidth = parentSize.width * ratio;\n    }\n    if (maxHeight && typeof maxHeight === 'string' && endsWith(maxHeight, '%')) {\n        var ratio = Number(maxHeight.replace('%', '')) / 100;\n        maxHeight = parentSize.height * ratio;\n    }\n    if (minWidth && typeof minWidth === 'string' && endsWith(minWidth, '%')) {\n        var ratio = Number(minWidth.replace('%', '')) / 100;\n        minWidth = parentSize.width * ratio;\n    }\n    if (minHeight && typeof minHeight === 'string' && endsWith(minHeight, '%')) {\n        var ratio = Number(minHeight.replace('%', '')) / 100;\n        minHeight = parentSize.height * ratio;\n    }\n    return {\n        maxWidth: typeof maxWidth === 'undefined' ? undefined : Number(maxWidth),\n        maxHeight: typeof maxHeight === 'undefined' ? undefined : Number(maxHeight),\n        minWidth: typeof minWidth === 'undefined' ? undefined : Number(minWidth),\n        minHeight: typeof minHeight === 'undefined' ? undefined : Number(minHeight),\n    };\n});\nvar definedProps = [\n    'style',\n    'className',\n    'grid',\n    'snap',\n    'bounds',\n    'size',\n    'defaultSize',\n    'minWidth',\n    'minHeight',\n    'maxWidth',\n    'maxHeight',\n    'lockAspectRatio',\n    'lockAspectRatioExtraWidth',\n    'lockAspectRatioExtraHeight',\n    'enable',\n    'handleStyles',\n    'handleClasses',\n    'handleWrapperStyle',\n    'handleWrapperClass',\n    'children',\n    'onResizeStart',\n    'onResize',\n    'onResizeStop',\n    'handleComponent',\n    'scale',\n    'resizeRatio',\n    'snapGap',\n];\n// HACK: This class is used to calculate % size.\nvar baseClassName = '__resizable_base__';\nvar Resizable = /** @class */ (function (_super) {\n    __extends(Resizable, _super);\n    function Resizable(props) {\n        var _this = _super.call(this, props) || this;\n        _this.ratio = 1;\n        _this.resizable = null;\n        _this.extendsProps = {};\n        // For parent boundary\n        _this.parentLeft = 0;\n        _this.parentTop = 0;\n        // For boundary\n        _this.resizableLeft = 0;\n        _this.resizableTop = 0;\n        // For target boundary\n        _this.targetLeft = 0;\n        _this.targetTop = 0;\n        _this.state = {\n            isResizing: false,\n            resizeCursor: 'auto',\n            width: typeof (_this.propsSize && _this.propsSize.width) === 'undefined'\n                ? 'auto'\n                : _this.propsSize && _this.propsSize.width,\n            height: typeof (_this.propsSize && _this.propsSize.height) === 'undefined'\n                ? 'auto'\n                : _this.propsSize && _this.propsSize.height,\n            direction: 'right',\n            original: {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            },\n        };\n        _this.updateExtendsProps(props);\n        _this.onResizeStart = _this.onResizeStart.bind(_this);\n        _this.onMouseMove = _this.onMouseMove.bind(_this);\n        _this.onMouseUp = _this.onMouseUp.bind(_this);\n        if (typeof window !== 'undefined') {\n            window.addEventListener('mouseup', _this.onMouseUp);\n            window.addEventListener('mousemove', _this.onMouseMove);\n            window.addEventListener('mouseleave', _this.onMouseUp);\n            window.addEventListener('touchmove', _this.onMouseMove);\n            window.addEventListener('touchend', _this.onMouseUp);\n        }\n        return _this;\n    }\n    Object.defineProperty(Resizable.prototype, \"parentNode\", {\n        get: function () {\n            if (!this.resizable) {\n                return null;\n            }\n            return this.resizable.parentNode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"propsSize\", {\n        get: function () {\n            return this.props.size || this.props.defaultSize || DEFAULT_SIZE;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"base\", {\n        get: function () {\n            var parent = this.parentNode;\n            if (!parent) {\n                return undefined;\n            }\n            var children = [].slice.call(parent.children);\n            for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\n                var n = children_1[_i];\n                if (n instanceof HTMLElement) {\n                    if (n.classList.contains(baseClassName)) {\n                        return n;\n                    }\n                }\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"size\", {\n        get: function () {\n            var width = 0;\n            var height = 0;\n            if (typeof window !== 'undefined' && this.resizable) {\n                var orgWidth = this.resizable.offsetWidth;\n                var orgHeight = this.resizable.offsetHeight;\n                // HACK: Set position `relative` to get parent size.\n                //       This is because when re-resizable set `absolute`, I can not get base width correctly.\n                var orgPosition = this.resizable.style.position;\n                if (orgPosition !== 'relative') {\n                    this.resizable.style.position = 'relative';\n                }\n                // INFO: Use original width or height if set auto.\n                width = this.resizable.style.width !== 'auto' ? this.resizable.offsetWidth : orgWidth;\n                height = this.resizable.style.height !== 'auto' ? this.resizable.offsetHeight : orgHeight;\n                // Restore original position\n                this.resizable.style.position = orgPosition;\n            }\n            return { width: width, height: height };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"sizeStyle\", {\n        get: function () {\n            var _this = this;\n            var size = this.props.size;\n            var getSize = function (key) {\n                if (typeof _this.state[key] === 'undefined' || _this.state[key] === 'auto') {\n                    return 'auto';\n                }\n                if (_this.propsSize && _this.propsSize[key] && endsWith(_this.propsSize[key].toString(), '%')) {\n                    if (endsWith(_this.state[key].toString(), '%')) {\n                        return _this.state[key].toString();\n                    }\n                    var parentSize = _this.getParentSize();\n                    var value = Number(_this.state[key].toString().replace('px', ''));\n                    var percent = (value / parentSize[key]) * 100;\n                    return percent + \"%\";\n                }\n                return getStringSize(_this.state[key]);\n            };\n            var width = size && typeof size.width !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.width)\n                : getSize('width');\n            var height = size && typeof size.height !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.height)\n                : getSize('height');\n            return { width: width, height: height };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Resizable.prototype.updateExtendsProps = function (props) {\n        this.extendsProps = Object.keys(props).reduce(function (acc, key) {\n            if (definedProps.indexOf(key) !== -1) {\n                return acc;\n            }\n            acc[key] = props[key];\n            return acc;\n        }, {});\n    };\n    Resizable.prototype.getParentSize = function () {\n        if (!this.base || !this.parentNode) {\n            return { width: window.innerWidth, height: window.innerHeight };\n        }\n        // INFO: To calculate parent width with flex layout\n        var wrapChanged = false;\n        var wrap = this.parentNode.style.flexWrap;\n        var minWidth = this.base.style.minWidth;\n        if (wrap !== 'wrap') {\n            wrapChanged = true;\n            this.parentNode.style.flexWrap = 'wrap';\n            // HACK: Use relative to get parent padding size\n        }\n        this.base.style.position = 'relative';\n        this.base.style.minWidth = '100%';\n        var size = {\n            width: this.base.offsetWidth,\n            height: this.base.offsetHeight,\n        };\n        this.base.style.position = 'absolute';\n        if (wrapChanged) {\n            this.parentNode.style.flexWrap = wrap;\n        }\n        this.base.style.minWidth = minWidth;\n        return size;\n    };\n    Resizable.prototype.componentDidMount = function () {\n        this.setState({\n            width: this.state.width || this.size.width,\n            height: this.state.height || this.size.height,\n        });\n        var parent = this.parentNode;\n        if (!(parent instanceof HTMLElement)) {\n            return;\n        }\n        if (this.base) {\n            return;\n        }\n        var element = document.createElement('div');\n        element.style.width = '100%';\n        element.style.height = '100%';\n        element.style.position = 'absolute';\n        element.style.transform = 'scale(0, 0)';\n        element.style.left = '0';\n        element.style.flex = '0';\n        if (element.classList) {\n            element.classList.add(baseClassName);\n        }\n        else {\n            element.className += baseClassName;\n        }\n        parent.appendChild(element);\n    };\n    Resizable.prototype.componentWillReceiveProps = function (next) {\n        this.updateExtendsProps(next);\n    };\n    Resizable.prototype.componentWillUnmount = function () {\n        if (typeof window !== 'undefined') {\n            window.removeEventListener('mouseup', this.onMouseUp);\n            window.removeEventListener('mousemove', this.onMouseMove);\n            window.removeEventListener('mouseleave', this.onMouseUp);\n            window.removeEventListener('touchmove', this.onMouseMove);\n            window.removeEventListener('touchend', this.onMouseUp);\n            var parent_1 = this.parentNode;\n            if (!this.base || !parent_1) {\n                return;\n            }\n            if (!(parent_1 instanceof HTMLElement) || !(this.base instanceof Node)) {\n                return;\n            }\n            parent_1.removeChild(this.base);\n        }\n    };\n    Resizable.prototype.createSizeForCssProperty = function (newSize, kind) {\n        var propsSize = this.propsSize && this.propsSize[kind];\n        return this.state[kind] === 'auto' &&\n            this.state.original[kind] === newSize &&\n            (typeof propsSize === 'undefined' || propsSize === 'auto')\n            ? 'auto'\n            : newSize;\n    };\n    Resizable.prototype.calculateNewMaxFromBoundary = function (maxWidth, maxHeight) {\n        if (this.props.bounds === 'parent') {\n            var parent_2 = this.parentNode;\n            if (parent_2 instanceof HTMLElement) {\n                var boundWidth = parent_2.offsetWidth + (this.parentLeft - this.resizableLeft);\n                var boundHeight = parent_2.offsetHeight + (this.parentTop - this.resizableTop);\n                maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n                maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n            }\n        }\n        else if (this.props.bounds === 'window') {\n            if (typeof window !== 'undefined') {\n                var boundWidth = window.innerWidth - this.resizableLeft;\n                var boundHeight = window.innerHeight - this.resizableTop;\n                maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n                maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n            }\n        }\n        else if (this.props.bounds instanceof HTMLElement) {\n            var boundWidth = this.props.bounds.offsetWidth + (this.targetLeft - this.resizableLeft);\n            var boundHeight = this.props.bounds.offsetHeight + (this.targetTop - this.resizableTop);\n            maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n            maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n        }\n        return { maxWidth: maxWidth, maxHeight: maxHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromDirection = function (clientX, clientY) {\n        var scale = this.props.scale || 1;\n        var resizeRatio = this.props.resizeRatio || 1;\n        var _a = this.state, direction = _a.direction, original = _a.original;\n        var _b = this.props, lockAspectRatio = _b.lockAspectRatio, lockAspectRatioExtraHeight = _b.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _b.lockAspectRatioExtraWidth;\n        var newWidth = original.width;\n        var newHeight = original.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (hasDirection('right', direction)) {\n            newWidth = original.width + ((clientX - original.x) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('left', direction)) {\n            newWidth = original.width - ((clientX - original.x) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('bottom', direction)) {\n            newHeight = original.height + ((clientY - original.y) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        if (hasDirection('top', direction)) {\n            newHeight = original.height - ((clientY - original.y) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromAspectRatio = function (newWidth, newHeight, max, min) {\n        var _a = this.props, lockAspectRatio = _a.lockAspectRatio, lockAspectRatioExtraHeight = _a.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _a.lockAspectRatioExtraWidth;\n        var computedMinWidth = typeof min.width === 'undefined' ? 10 : min.width;\n        var computedMaxWidth = typeof max.width === 'undefined' || max.width < 0 ? newWidth : max.width;\n        var computedMinHeight = typeof min.height === 'undefined' ? 10 : min.height;\n        var computedMaxHeight = typeof max.height === 'undefined' || max.height < 0 ? newHeight : max.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (lockAspectRatio) {\n            var extraMinWidth = (computedMinHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMaxWidth = (computedMaxHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMinHeight = (computedMinWidth - extraWidth) / this.ratio + extraHeight;\n            var extraMaxHeight = (computedMaxWidth - extraWidth) / this.ratio + extraHeight;\n            var lockedMinWidth = Math.max(computedMinWidth, extraMinWidth);\n            var lockedMaxWidth = Math.min(computedMaxWidth, extraMaxWidth);\n            var lockedMinHeight = Math.max(computedMinHeight, extraMinHeight);\n            var lockedMaxHeight = Math.min(computedMaxHeight, extraMaxHeight);\n            newWidth = clamp(newWidth, lockedMinWidth, lockedMaxWidth);\n            newHeight = clamp(newHeight, lockedMinHeight, lockedMaxHeight);\n        }\n        else {\n            newWidth = clamp(newWidth, computedMinWidth, computedMaxWidth);\n            newHeight = clamp(newHeight, computedMinHeight, computedMaxHeight);\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.setBoundingClientRect = function () {\n        // For parent boundary\n        if (this.props.bounds === 'parent') {\n            var parent_3 = this.parentNode;\n            if (parent_3 instanceof HTMLElement) {\n                var parentRect = parent_3.getBoundingClientRect();\n                this.parentLeft = parentRect.left;\n                this.parentTop = parentRect.top;\n            }\n        }\n        // For target(html element) boundary\n        if (this.props.bounds instanceof HTMLElement) {\n            var targetRect = this.props.bounds.getBoundingClientRect();\n            this.targetLeft = targetRect.left;\n            this.targetTop = targetRect.top;\n        }\n        // For boundary\n        if (this.resizable) {\n            var _a = this.resizable.getBoundingClientRect(), left = _a.left, top_1 = _a.top;\n            this.resizableLeft = left;\n            this.resizableTop = top_1;\n        }\n    };\n    Resizable.prototype.onResizeStart = function (event, direction) {\n        var clientX = 0;\n        var clientY = 0;\n        if (event.nativeEvent instanceof MouseEvent) {\n            clientX = event.nativeEvent.clientX;\n            clientY = event.nativeEvent.clientY;\n            // When user click with right button the resize is stuck in resizing mode\n            // until users clicks again, dont continue if right click is used.\n            // HACK: MouseEvent does not have `which` from flow-bin v0.68.\n            if (event.nativeEvent.which === 3) {\n                return;\n            }\n        }\n        else if (event.nativeEvent instanceof TouchEvent) {\n            clientX = event.nativeEvent.touches[0].clientX;\n            clientY = event.nativeEvent.touches[0].clientY;\n        }\n        if (this.props.onResizeStart) {\n            if (this.resizable) {\n                this.props.onResizeStart(event, direction, this.resizable);\n            }\n        }\n        // Fix #168\n        if (this.props.size) {\n            if (typeof this.props.size.height !== 'undefined' && this.props.size.height !== this.state.height) {\n                this.setState({ height: this.props.size.height });\n            }\n            if (typeof this.props.size.width !== 'undefined' && this.props.size.width !== this.state.width) {\n                this.setState({ width: this.props.size.width });\n            }\n        }\n        // For lockAspectRatio case\n        this.ratio =\n            typeof this.props.lockAspectRatio === 'number' ? this.props.lockAspectRatio : this.size.width / this.size.height;\n        // For boundary\n        this.setBoundingClientRect();\n        this.setState({\n            original: {\n                x: clientX,\n                y: clientY,\n                width: this.size.width,\n                height: this.size.height,\n            },\n            isResizing: true,\n            resizeCursor: window.getComputedStyle(event.target).cursor || 'auto',\n            direction: direction,\n        });\n    };\n    Resizable.prototype.onMouseMove = function (event) {\n        if (!this.state.isResizing || !this.resizable) {\n            return;\n        }\n        var _a = this.props, maxWidth = _a.maxWidth, maxHeight = _a.maxHeight, minWidth = _a.minWidth, minHeight = _a.minHeight;\n        var clientX = event instanceof MouseEvent ? event.clientX : event.touches[0].clientX;\n        var clientY = event instanceof MouseEvent ? event.clientY : event.touches[0].clientY;\n        var _b = this.state, direction = _b.direction, original = _b.original, width = _b.width, height = _b.height;\n        var parentSize = this.getParentSize();\n        var max = calculateNewMax(parentSize, maxWidth, maxHeight, minWidth, minHeight);\n        maxWidth = max.maxWidth;\n        maxHeight = max.maxHeight;\n        minWidth = max.minWidth;\n        minHeight = max.minHeight;\n        // Calculate new size\n        var _c = this.calculateNewSizeFromDirection(clientX, clientY), newHeight = _c.newHeight, newWidth = _c.newWidth;\n        // Calculate max size from boundary settings\n        var boundaryMax = this.calculateNewMaxFromBoundary(maxWidth, maxHeight);\n        // Calculate new size from aspect ratio\n        var newSize = this.calculateNewSizeFromAspectRatio(newWidth, newHeight, { width: boundaryMax.maxWidth, height: boundaryMax.maxHeight }, { width: minWidth, height: minHeight });\n        newWidth = newSize.newWidth;\n        newHeight = newSize.newHeight;\n        if (this.props.grid) {\n            var newGridWidth = snap(newWidth, this.props.grid[0]);\n            var newGridHeight = snap(newHeight, this.props.grid[1]);\n            var gap = this.props.snapGap || 0;\n            newWidth = gap === 0 || Math.abs(newGridWidth - newWidth) <= gap ? newGridWidth : newWidth;\n            newHeight = gap === 0 || Math.abs(newGridHeight - newHeight) <= gap ? newGridHeight : newHeight;\n        }\n        if (this.props.snap && this.props.snap.x) {\n            newWidth = findClosestSnap(newWidth, this.props.snap.x, this.props.snapGap);\n        }\n        if (this.props.snap && this.props.snap.y) {\n            newHeight = findClosestSnap(newHeight, this.props.snap.y, this.props.snapGap);\n        }\n        var delta = {\n            width: newWidth - original.width,\n            height: newHeight - original.height,\n        };\n        if (width && typeof width === 'string') {\n            if (endsWith(width, '%')) {\n                var percent = (newWidth / parentSize.width) * 100;\n                newWidth = percent + \"%\";\n            }\n            else if (endsWith(width, 'vw')) {\n                var vw = (newWidth / window.innerWidth) * 100;\n                newWidth = vw + \"vw\";\n            }\n            else if (endsWith(width, 'vh')) {\n                var vh = (newWidth / window.innerHeight) * 100;\n                newWidth = vh + \"vh\";\n            }\n        }\n        if (height && typeof height === 'string') {\n            if (endsWith(height, '%')) {\n                var percent = (newHeight / parentSize.height) * 100;\n                newHeight = percent + \"%\";\n            }\n            else if (endsWith(height, 'vw')) {\n                var vw = (newHeight / window.innerWidth) * 100;\n                newHeight = vw + \"vw\";\n            }\n            else if (endsWith(height, 'vh')) {\n                var vh = (newHeight / window.innerHeight) * 100;\n                newHeight = vh + \"vh\";\n            }\n        }\n        this.setState({\n            width: this.createSizeForCssProperty(newWidth, 'width'),\n            height: this.createSizeForCssProperty(newHeight, 'height'),\n        });\n        if (this.props.onResize) {\n            this.props.onResize(event, direction, this.resizable, delta);\n        }\n    };\n    Resizable.prototype.onMouseUp = function (event) {\n        var _a = this.state, isResizing = _a.isResizing, direction = _a.direction, original = _a.original;\n        if (!isResizing || !this.resizable) {\n            return;\n        }\n        var delta = {\n            width: this.size.width - original.width,\n            height: this.size.height - original.height,\n        };\n        if (this.props.onResizeStop) {\n            this.props.onResizeStop(event, direction, this.resizable, delta);\n        }\n        if (this.props.size) {\n            this.setState(this.props.size);\n        }\n        this.setState({ isResizing: false, resizeCursor: 'auto' });\n    };\n    Resizable.prototype.updateSize = function (size) {\n        this.setState({ width: size.width, height: size.height });\n    };\n    Resizable.prototype.renderResizer = function () {\n        var _this = this;\n        var _a = this.props, enable = _a.enable, handleStyles = _a.handleStyles, handleClasses = _a.handleClasses, handleWrapperStyle = _a.handleWrapperStyle, handleWrapperClass = _a.handleWrapperClass, handleComponent = _a.handleComponent;\n        if (!enable) {\n            return null;\n        }\n        var resizers = Object.keys(enable).map(function (dir) {\n            if (enable[dir] !== false) {\n                return (React.createElement(resizer_1.Resizer, { key: dir, direction: dir, onResizeStart: _this.onResizeStart, replaceStyles: handleStyles && handleStyles[dir], className: handleClasses && handleClasses[dir] }, handleComponent && handleComponent[dir] ? handleComponent[dir] : null));\n            }\n            return null;\n        });\n        // #93 Wrap the resize box in span (will not break 100% width/height)\n        return (React.createElement(\"span\", { className: handleWrapperClass, style: handleWrapperStyle }, resizers));\n    };\n    Resizable.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(\"div\", __assign({ ref: function (c) {\n                if (c) {\n                    _this.resizable = c;\n                }\n            }, style: __assign({ position: 'relative', userSelect: this.state.isResizing ? 'none' : 'auto' }, this.props.style, this.sizeStyle, { maxWidth: this.props.maxWidth, maxHeight: this.props.maxHeight, minWidth: this.props.minWidth, minHeight: this.props.minHeight, boxSizing: 'border-box' }), className: this.props.className }, this.extendsProps),\n            this.state.isResizing && (React.createElement(\"div\", { style: {\n                    height: '100%',\n                    width: '100%',\n                    backgroundColor: 'rgba(0,0,0,0)',\n                    cursor: \"\" + (this.state.resizeCursor || 'auto'),\n                    opacity: 0,\n                    position: 'fixed',\n                    zIndex: 9999,\n                    top: '0',\n                    left: '0',\n                    bottom: '0',\n                    right: '0',\n                } })),\n            this.props.children,\n            this.renderResizer()));\n    };\n    Resizable.defaultProps = {\n        onResizeStart: function () { },\n        onResize: function () { },\n        onResizeStop: function () { },\n        enable: {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true,\n            topRight: true,\n            bottomRight: true,\n            bottomLeft: true,\n            topLeft: true,\n        },\n        style: {},\n        grid: [1, 1],\n        lockAspectRatio: false,\n        lockAspectRatioExtraWidth: 0,\n        lockAspectRatioExtraHeight: 0,\n        scale: 1,\n        resizeRatio: 1,\n        snapGap: 0,\n    };\n    return Resizable;\n}(React.Component));\nexports.Resizable = Resizable;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9jb21tb24tY29tcG9uZW50cy9ub2RlX21vZHVsZXMvcmUtcmVzaXphYmxlL2xpYi9pbmRleC5qcz9iNzg5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcbiAgICByZXN1bHRbXCJkZWZhdWx0XCJdID0gbW9kO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG52YXIgcmVzaXplcl8xID0gcmVxdWlyZShcIi4vcmVzaXplclwiKTtcbnZhciBmYXN0X21lbW9pemVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiZmFzdC1tZW1vaXplXCIpKTtcbnZhciBERUZBVUxUX1NJWkUgPSB7XG4gICAgd2lkdGg6ICdhdXRvJyxcbiAgICBoZWlnaHQ6ICdhdXRvJyxcbn07XG52YXIgY2xhbXAgPSBmYXN0X21lbW9pemVfMS5kZWZhdWx0KGZ1bmN0aW9uIChuLCBtaW4sIG1heCkgeyByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4obiwgbWF4KSwgbWluKTsgfSk7XG52YXIgc25hcCA9IGZhc3RfbWVtb2l6ZV8xLmRlZmF1bHQoZnVuY3Rpb24gKG4sIHNpemUpIHsgcmV0dXJuIE1hdGgucm91bmQobiAvIHNpemUpICogc2l6ZTsgfSk7XG52YXIgaGFzRGlyZWN0aW9uID0gZmFzdF9tZW1vaXplXzEuZGVmYXVsdChmdW5jdGlvbiAoZGlyLCB0YXJnZXQpIHsgcmV0dXJuIG5ldyBSZWdFeHAoZGlyLCAnaScpLnRlc3QodGFyZ2V0KTsgfSk7XG52YXIgZmluZENsb3Nlc3RTbmFwID0gZmFzdF9tZW1vaXplXzEuZGVmYXVsdChmdW5jdGlvbiAobiwgc25hcEFycmF5LCBzbmFwR2FwKSB7XG4gICAgaWYgKHNuYXBHYXAgPT09IHZvaWQgMCkgeyBzbmFwR2FwID0gMDsgfVxuICAgIHZhciBjbG9zZXN0R2FwSW5kZXggPSBzbmFwQXJyYXkucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyLCBpbmRleCkgeyByZXR1cm4gKE1hdGguYWJzKGN1cnIgLSBuKSA8IE1hdGguYWJzKHNuYXBBcnJheVtwcmV2XSAtIG4pID8gaW5kZXggOiBwcmV2KTsgfSwgMCk7XG4gICAgdmFyIGdhcCA9IE1hdGguYWJzKHNuYXBBcnJheVtjbG9zZXN0R2FwSW5kZXhdIC0gbik7XG4gICAgcmV0dXJuIHNuYXBHYXAgPT09IDAgfHwgZ2FwIDwgc25hcEdhcCA/IHNuYXBBcnJheVtjbG9zZXN0R2FwSW5kZXhdIDogbjtcbn0pO1xudmFyIGVuZHNXaXRoID0gZmFzdF9tZW1vaXplXzEuZGVmYXVsdChmdW5jdGlvbiAoc3RyLCBzZWFyY2hTdHIpIHtcbiAgICByZXR1cm4gc3RyLnN1YnN0cihzdHIubGVuZ3RoIC0gc2VhcmNoU3RyLmxlbmd0aCwgc2VhcmNoU3RyLmxlbmd0aCkgPT09IHNlYXJjaFN0cjtcbn0pO1xudmFyIGdldFN0cmluZ1NpemUgPSBmYXN0X21lbW9pemVfMS5kZWZhdWx0KGZ1bmN0aW9uIChuKSB7XG4gICAgbiA9IG4udG9TdHJpbmcoKTtcbiAgICBpZiAobiA9PT0gJ2F1dG8nKSB7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICBpZiAoZW5kc1dpdGgobiwgJ3B4JykpIHtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIGlmIChlbmRzV2l0aChuLCAnJScpKSB7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICBpZiAoZW5kc1dpdGgobiwgJ3ZoJykpIHtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIGlmIChlbmRzV2l0aChuLCAndncnKSkge1xuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG4gICAgaWYgKGVuZHNXaXRoKG4sICd2bWF4JykpIHtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIGlmIChlbmRzV2l0aChuLCAndm1pbicpKSB7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICByZXR1cm4gbiArIFwicHhcIjtcbn0pO1xudmFyIGNhbGN1bGF0ZU5ld01heCA9IGZhc3RfbWVtb2l6ZV8xLmRlZmF1bHQoZnVuY3Rpb24gKHBhcmVudFNpemUsIG1heFdpZHRoLCBtYXhIZWlnaHQsIG1pbldpZHRoLCBtaW5IZWlnaHQpIHtcbiAgICBpZiAobWF4V2lkdGggJiYgdHlwZW9mIG1heFdpZHRoID09PSAnc3RyaW5nJyAmJiBlbmRzV2l0aChtYXhXaWR0aCwgJyUnKSkge1xuICAgICAgICB2YXIgcmF0aW8gPSBOdW1iZXIobWF4V2lkdGgucmVwbGFjZSgnJScsICcnKSkgLyAxMDA7XG4gICAgICAgIG1heFdpZHRoID0gcGFyZW50U2l6ZS53aWR0aCAqIHJhdGlvO1xuICAgIH1cbiAgICBpZiAobWF4SGVpZ2h0ICYmIHR5cGVvZiBtYXhIZWlnaHQgPT09ICdzdHJpbmcnICYmIGVuZHNXaXRoKG1heEhlaWdodCwgJyUnKSkge1xuICAgICAgICB2YXIgcmF0aW8gPSBOdW1iZXIobWF4SGVpZ2h0LnJlcGxhY2UoJyUnLCAnJykpIC8gMTAwO1xuICAgICAgICBtYXhIZWlnaHQgPSBwYXJlbnRTaXplLmhlaWdodCAqIHJhdGlvO1xuICAgIH1cbiAgICBpZiAobWluV2lkdGggJiYgdHlwZW9mIG1pbldpZHRoID09PSAnc3RyaW5nJyAmJiBlbmRzV2l0aChtaW5XaWR0aCwgJyUnKSkge1xuICAgICAgICB2YXIgcmF0aW8gPSBOdW1iZXIobWluV2lkdGgucmVwbGFjZSgnJScsICcnKSkgLyAxMDA7XG4gICAgICAgIG1pbldpZHRoID0gcGFyZW50U2l6ZS53aWR0aCAqIHJhdGlvO1xuICAgIH1cbiAgICBpZiAobWluSGVpZ2h0ICYmIHR5cGVvZiBtaW5IZWlnaHQgPT09ICdzdHJpbmcnICYmIGVuZHNXaXRoKG1pbkhlaWdodCwgJyUnKSkge1xuICAgICAgICB2YXIgcmF0aW8gPSBOdW1iZXIobWluSGVpZ2h0LnJlcGxhY2UoJyUnLCAnJykpIC8gMTAwO1xuICAgICAgICBtaW5IZWlnaHQgPSBwYXJlbnRTaXplLmhlaWdodCAqIHJhdGlvO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBtYXhXaWR0aDogdHlwZW9mIG1heFdpZHRoID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IE51bWJlcihtYXhXaWR0aCksXG4gICAgICAgIG1heEhlaWdodDogdHlwZW9mIG1heEhlaWdodCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBOdW1iZXIobWF4SGVpZ2h0KSxcbiAgICAgICAgbWluV2lkdGg6IHR5cGVvZiBtaW5XaWR0aCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBOdW1iZXIobWluV2lkdGgpLFxuICAgICAgICBtaW5IZWlnaHQ6IHR5cGVvZiBtaW5IZWlnaHQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogTnVtYmVyKG1pbkhlaWdodCksXG4gICAgfTtcbn0pO1xudmFyIGRlZmluZWRQcm9wcyA9IFtcbiAgICAnc3R5bGUnLFxuICAgICdjbGFzc05hbWUnLFxuICAgICdncmlkJyxcbiAgICAnc25hcCcsXG4gICAgJ2JvdW5kcycsXG4gICAgJ3NpemUnLFxuICAgICdkZWZhdWx0U2l6ZScsXG4gICAgJ21pbldpZHRoJyxcbiAgICAnbWluSGVpZ2h0JyxcbiAgICAnbWF4V2lkdGgnLFxuICAgICdtYXhIZWlnaHQnLFxuICAgICdsb2NrQXNwZWN0UmF0aW8nLFxuICAgICdsb2NrQXNwZWN0UmF0aW9FeHRyYVdpZHRoJyxcbiAgICAnbG9ja0FzcGVjdFJhdGlvRXh0cmFIZWlnaHQnLFxuICAgICdlbmFibGUnLFxuICAgICdoYW5kbGVTdHlsZXMnLFxuICAgICdoYW5kbGVDbGFzc2VzJyxcbiAgICAnaGFuZGxlV3JhcHBlclN0eWxlJyxcbiAgICAnaGFuZGxlV3JhcHBlckNsYXNzJyxcbiAgICAnY2hpbGRyZW4nLFxuICAgICdvblJlc2l6ZVN0YXJ0JyxcbiAgICAnb25SZXNpemUnLFxuICAgICdvblJlc2l6ZVN0b3AnLFxuICAgICdoYW5kbGVDb21wb25lbnQnLFxuICAgICdzY2FsZScsXG4gICAgJ3Jlc2l6ZVJhdGlvJyxcbiAgICAnc25hcEdhcCcsXG5dO1xuLy8gSEFDSzogVGhpcyBjbGFzcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSAlIHNpemUuXG52YXIgYmFzZUNsYXNzTmFtZSA9ICdfX3Jlc2l6YWJsZV9iYXNlX18nO1xudmFyIFJlc2l6YWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVzaXphYmxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlc2l6YWJsZShwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucmF0aW8gPSAxO1xuICAgICAgICBfdGhpcy5yZXNpemFibGUgPSBudWxsO1xuICAgICAgICBfdGhpcy5leHRlbmRzUHJvcHMgPSB7fTtcbiAgICAgICAgLy8gRm9yIHBhcmVudCBib3VuZGFyeVxuICAgICAgICBfdGhpcy5wYXJlbnRMZWZ0ID0gMDtcbiAgICAgICAgX3RoaXMucGFyZW50VG9wID0gMDtcbiAgICAgICAgLy8gRm9yIGJvdW5kYXJ5XG4gICAgICAgIF90aGlzLnJlc2l6YWJsZUxlZnQgPSAwO1xuICAgICAgICBfdGhpcy5yZXNpemFibGVUb3AgPSAwO1xuICAgICAgICAvLyBGb3IgdGFyZ2V0IGJvdW5kYXJ5XG4gICAgICAgIF90aGlzLnRhcmdldExlZnQgPSAwO1xuICAgICAgICBfdGhpcy50YXJnZXRUb3AgPSAwO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGlzUmVzaXppbmc6IGZhbHNlLFxuICAgICAgICAgICAgcmVzaXplQ3Vyc29yOiAnYXV0bycsXG4gICAgICAgICAgICB3aWR0aDogdHlwZW9mIChfdGhpcy5wcm9wc1NpemUgJiYgX3RoaXMucHJvcHNTaXplLndpZHRoKSA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICA/ICdhdXRvJ1xuICAgICAgICAgICAgICAgIDogX3RoaXMucHJvcHNTaXplICYmIF90aGlzLnByb3BzU2l6ZS53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdHlwZW9mIChfdGhpcy5wcm9wc1NpemUgJiYgX3RoaXMucHJvcHNTaXplLmhlaWdodCkgPT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyAnYXV0bydcbiAgICAgICAgICAgICAgICA6IF90aGlzLnByb3BzU2l6ZSAmJiBfdGhpcy5wcm9wc1NpemUuaGVpZ2h0LFxuICAgICAgICAgICAgZGlyZWN0aW9uOiAncmlnaHQnLFxuICAgICAgICAgICAgb3JpZ2luYWw6IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMudXBkYXRlRXh0ZW5kc1Byb3BzKHByb3BzKTtcbiAgICAgICAgX3RoaXMub25SZXNpemVTdGFydCA9IF90aGlzLm9uUmVzaXplU3RhcnQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLm9uTW91c2VNb3ZlID0gX3RoaXMub25Nb3VzZU1vdmUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLm9uTW91c2VVcCA9IF90aGlzLm9uTW91c2VVcC5iaW5kKF90aGlzKTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLm9uTW91c2VVcCk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX3RoaXMub25Nb3VzZU1vdmUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBfdGhpcy5vbk1vdXNlVXApO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIF90aGlzLm9uTW91c2VNb3ZlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIF90aGlzLm9uTW91c2VVcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzaXphYmxlLnByb3RvdHlwZSwgXCJwYXJlbnROb2RlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVzaXphYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNpemFibGUucGFyZW50Tm9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc2l6YWJsZS5wcm90b3R5cGUsIFwicHJvcHNTaXplXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5zaXplIHx8IHRoaXMucHJvcHMuZGVmYXVsdFNpemUgfHwgREVGQVVMVF9TSVpFO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzaXphYmxlLnByb3RvdHlwZSwgXCJiYXNlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gW10uc2xpY2UuY2FsbChwYXJlbnQuY2hpbGRyZW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBjaGlsZHJlbl8xID0gY2hpbGRyZW47IF9pIDwgY2hpbGRyZW5fMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbiA9IGNoaWxkcmVuXzFbX2ldO1xuICAgICAgICAgICAgICAgIGlmIChuIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4uY2xhc3NMaXN0LmNvbnRhaW5zKGJhc2VDbGFzc05hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNpemFibGUucHJvdG90eXBlLCBcInNpemVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IDA7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLnJlc2l6YWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBvcmdXaWR0aCA9IHRoaXMucmVzaXphYmxlLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBvcmdIZWlnaHQgPSB0aGlzLnJlc2l6YWJsZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgLy8gSEFDSzogU2V0IHBvc2l0aW9uIGByZWxhdGl2ZWAgdG8gZ2V0IHBhcmVudCBzaXplLlxuICAgICAgICAgICAgICAgIC8vICAgICAgIFRoaXMgaXMgYmVjYXVzZSB3aGVuIHJlLXJlc2l6YWJsZSBzZXQgYGFic29sdXRlYCwgSSBjYW4gbm90IGdldCBiYXNlIHdpZHRoIGNvcnJlY3RseS5cbiAgICAgICAgICAgICAgICB2YXIgb3JnUG9zaXRpb24gPSB0aGlzLnJlc2l6YWJsZS5zdHlsZS5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAob3JnUG9zaXRpb24gIT09ICdyZWxhdGl2ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemFibGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJTkZPOiBVc2Ugb3JpZ2luYWwgd2lkdGggb3IgaGVpZ2h0IGlmIHNldCBhdXRvLlxuICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy5yZXNpemFibGUuc3R5bGUud2lkdGggIT09ICdhdXRvJyA/IHRoaXMucmVzaXphYmxlLm9mZnNldFdpZHRoIDogb3JnV2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5yZXNpemFibGUuc3R5bGUuaGVpZ2h0ICE9PSAnYXV0bycgPyB0aGlzLnJlc2l6YWJsZS5vZmZzZXRIZWlnaHQgOiBvcmdIZWlnaHQ7XG4gICAgICAgICAgICAgICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBwb3NpdGlvblxuICAgICAgICAgICAgICAgIHRoaXMucmVzaXphYmxlLnN0eWxlLnBvc2l0aW9uID0gb3JnUG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNpemFibGUucHJvdG90eXBlLCBcInNpemVTdHlsZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5wcm9wcy5zaXplO1xuICAgICAgICAgICAgdmFyIGdldFNpemUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpcy5zdGF0ZVtrZXldID09PSAndW5kZWZpbmVkJyB8fCBfdGhpcy5zdGF0ZVtrZXldID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdhdXRvJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzU2l6ZSAmJiBfdGhpcy5wcm9wc1NpemVba2V5XSAmJiBlbmRzV2l0aChfdGhpcy5wcm9wc1NpemVba2V5XS50b1N0cmluZygpLCAnJScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRzV2l0aChfdGhpcy5zdGF0ZVtrZXldLnRvU3RyaW5nKCksICclJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5zdGF0ZVtrZXldLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudFNpemUgPSBfdGhpcy5nZXRQYXJlbnRTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IE51bWJlcihfdGhpcy5zdGF0ZVtrZXldLnRvU3RyaW5nKCkucmVwbGFjZSgncHgnLCAnJykpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGVyY2VudCA9ICh2YWx1ZSAvIHBhcmVudFNpemVba2V5XSkgKiAxMDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwZXJjZW50ICsgXCIlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRTdHJpbmdTaXplKF90aGlzLnN0YXRlW2tleV0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHNpemUgJiYgdHlwZW9mIHNpemUud2lkdGggIT09ICd1bmRlZmluZWQnICYmICF0aGlzLnN0YXRlLmlzUmVzaXppbmdcbiAgICAgICAgICAgICAgICA/IGdldFN0cmluZ1NpemUoc2l6ZS53aWR0aClcbiAgICAgICAgICAgICAgICA6IGdldFNpemUoJ3dpZHRoJyk7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gc2l6ZSAmJiB0eXBlb2Ygc2l6ZS5oZWlnaHQgIT09ICd1bmRlZmluZWQnICYmICF0aGlzLnN0YXRlLmlzUmVzaXppbmdcbiAgICAgICAgICAgICAgICA/IGdldFN0cmluZ1NpemUoc2l6ZS5oZWlnaHQpXG4gICAgICAgICAgICAgICAgOiBnZXRTaXplKCdoZWlnaHQnKTtcbiAgICAgICAgICAgIHJldHVybiB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgUmVzaXphYmxlLnByb3RvdHlwZS51cGRhdGVFeHRlbmRzUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgdGhpcy5leHRlbmRzUHJvcHMgPSBPYmplY3Qua2V5cyhwcm9wcykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICAgICAgaWYgKGRlZmluZWRQcm9wcy5pbmRleE9mKGtleSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjY1trZXldID0gcHJvcHNba2V5XTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9O1xuICAgIFJlc2l6YWJsZS5wcm90b3R5cGUuZ2V0UGFyZW50U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJhc2UgfHwgIXRoaXMucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLCBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIElORk86IFRvIGNhbGN1bGF0ZSBwYXJlbnQgd2lkdGggd2l0aCBmbGV4IGxheW91dFxuICAgICAgICB2YXIgd3JhcENoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHdyYXAgPSB0aGlzLnBhcmVudE5vZGUuc3R5bGUuZmxleFdyYXA7XG4gICAgICAgIHZhciBtaW5XaWR0aCA9IHRoaXMuYmFzZS5zdHlsZS5taW5XaWR0aDtcbiAgICAgICAgaWYgKHdyYXAgIT09ICd3cmFwJykge1xuICAgICAgICAgICAgd3JhcENoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLnN0eWxlLmZsZXhXcmFwID0gJ3dyYXAnO1xuICAgICAgICAgICAgLy8gSEFDSzogVXNlIHJlbGF0aXZlIHRvIGdldCBwYXJlbnQgcGFkZGluZyBzaXplXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYXNlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgdGhpcy5iYXNlLnN0eWxlLm1pbldpZHRoID0gJzEwMCUnO1xuICAgICAgICB2YXIgc2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLmJhc2Uub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuYmFzZS5vZmZzZXRIZWlnaHQsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYmFzZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGlmICh3cmFwQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLnN0eWxlLmZsZXhXcmFwID0gd3JhcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJhc2Uuc3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfTtcbiAgICBSZXNpemFibGUucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnN0YXRlLndpZHRoIHx8IHRoaXMuc2l6ZS53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5zdGF0ZS5oZWlnaHQgfHwgdGhpcy5zaXplLmhlaWdodCxcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gICAgICAgIGlmICghKHBhcmVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJhc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKDAsIDApJztcbiAgICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICBlbGVtZW50LnN0eWxlLmZsZXggPSAnMCc7XG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGJhc2VDbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gYmFzZUNsYXNzTmFtZTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfTtcbiAgICBSZXNpemFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUV4dGVuZHNQcm9wcyhuZXh0KTtcbiAgICB9O1xuICAgIFJlc2l6YWJsZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcCk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZVVwKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Nb3VzZVVwKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnRfMSA9IHRoaXMucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlIHx8ICFwYXJlbnRfMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKHBhcmVudF8xIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHx8ICEodGhpcy5iYXNlIGluc3RhbmNlb2YgTm9kZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnRfMS5yZW1vdmVDaGlsZCh0aGlzLmJhc2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNpemFibGUucHJvdG90eXBlLmNyZWF0ZVNpemVGb3JDc3NQcm9wZXJ0eSA9IGZ1bmN0aW9uIChuZXdTaXplLCBraW5kKSB7XG4gICAgICAgIHZhciBwcm9wc1NpemUgPSB0aGlzLnByb3BzU2l6ZSAmJiB0aGlzLnByb3BzU2l6ZVtraW5kXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVba2luZF0gPT09ICdhdXRvJyAmJlxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5vcmlnaW5hbFtraW5kXSA9PT0gbmV3U2l6ZSAmJlxuICAgICAgICAgICAgKHR5cGVvZiBwcm9wc1NpemUgPT09ICd1bmRlZmluZWQnIHx8IHByb3BzU2l6ZSA9PT0gJ2F1dG8nKVxuICAgICAgICAgICAgPyAnYXV0bydcbiAgICAgICAgICAgIDogbmV3U2l6ZTtcbiAgICB9O1xuICAgIFJlc2l6YWJsZS5wcm90b3R5cGUuY2FsY3VsYXRlTmV3TWF4RnJvbUJvdW5kYXJ5ID0gZnVuY3Rpb24gKG1heFdpZHRoLCBtYXhIZWlnaHQpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYm91bmRzID09PSAncGFyZW50Jykge1xuICAgICAgICAgICAgdmFyIHBhcmVudF8yID0gdGhpcy5wYXJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKHBhcmVudF8yIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmRXaWR0aCA9IHBhcmVudF8yLm9mZnNldFdpZHRoICsgKHRoaXMucGFyZW50TGVmdCAtIHRoaXMucmVzaXphYmxlTGVmdCk7XG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kSGVpZ2h0ID0gcGFyZW50XzIub2Zmc2V0SGVpZ2h0ICsgKHRoaXMucGFyZW50VG9wIC0gdGhpcy5yZXNpemFibGVUb3ApO1xuICAgICAgICAgICAgICAgIG1heFdpZHRoID0gbWF4V2lkdGggJiYgbWF4V2lkdGggPCBib3VuZFdpZHRoID8gbWF4V2lkdGggOiBib3VuZFdpZHRoO1xuICAgICAgICAgICAgICAgIG1heEhlaWdodCA9IG1heEhlaWdodCAmJiBtYXhIZWlnaHQgPCBib3VuZEhlaWdodCA/IG1heEhlaWdodCA6IGJvdW5kSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucHJvcHMuYm91bmRzID09PSAnd2luZG93Jykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCAtIHRoaXMucmVzaXphYmxlTGVmdDtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSB0aGlzLnJlc2l6YWJsZVRvcDtcbiAgICAgICAgICAgICAgICBtYXhXaWR0aCA9IG1heFdpZHRoICYmIG1heFdpZHRoIDwgYm91bmRXaWR0aCA/IG1heFdpZHRoIDogYm91bmRXaWR0aDtcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSBtYXhIZWlnaHQgJiYgbWF4SGVpZ2h0IDwgYm91bmRIZWlnaHQgPyBtYXhIZWlnaHQgOiBib3VuZEhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnByb3BzLmJvdW5kcyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgYm91bmRXaWR0aCA9IHRoaXMucHJvcHMuYm91bmRzLm9mZnNldFdpZHRoICsgKHRoaXMudGFyZ2V0TGVmdCAtIHRoaXMucmVzaXphYmxlTGVmdCk7XG4gICAgICAgICAgICB2YXIgYm91bmRIZWlnaHQgPSB0aGlzLnByb3BzLmJvdW5kcy5vZmZzZXRIZWlnaHQgKyAodGhpcy50YXJnZXRUb3AgLSB0aGlzLnJlc2l6YWJsZVRvcCk7XG4gICAgICAgICAgICBtYXhXaWR0aCA9IG1heFdpZHRoICYmIG1heFdpZHRoIDwgYm91bmRXaWR0aCA/IG1heFdpZHRoIDogYm91bmRXaWR0aDtcbiAgICAgICAgICAgIG1heEhlaWdodCA9IG1heEhlaWdodCAmJiBtYXhIZWlnaHQgPCBib3VuZEhlaWdodCA/IG1heEhlaWdodCA6IGJvdW5kSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IG1heFdpZHRoOiBtYXhXaWR0aCwgbWF4SGVpZ2h0OiBtYXhIZWlnaHQgfTtcbiAgICB9O1xuICAgIFJlc2l6YWJsZS5wcm90b3R5cGUuY2FsY3VsYXRlTmV3U2l6ZUZyb21EaXJlY3Rpb24gPSBmdW5jdGlvbiAoY2xpZW50WCwgY2xpZW50WSkge1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLnByb3BzLnNjYWxlIHx8IDE7XG4gICAgICAgIHZhciByZXNpemVSYXRpbyA9IHRoaXMucHJvcHMucmVzaXplUmF0aW8gfHwgMTtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5zdGF0ZSwgZGlyZWN0aW9uID0gX2EuZGlyZWN0aW9uLCBvcmlnaW5hbCA9IF9hLm9yaWdpbmFsO1xuICAgICAgICB2YXIgX2IgPSB0aGlzLnByb3BzLCBsb2NrQXNwZWN0UmF0aW8gPSBfYi5sb2NrQXNwZWN0UmF0aW8sIGxvY2tBc3BlY3RSYXRpb0V4dHJhSGVpZ2h0ID0gX2IubG9ja0FzcGVjdFJhdGlvRXh0cmFIZWlnaHQsIGxvY2tBc3BlY3RSYXRpb0V4dHJhV2lkdGggPSBfYi5sb2NrQXNwZWN0UmF0aW9FeHRyYVdpZHRoO1xuICAgICAgICB2YXIgbmV3V2lkdGggPSBvcmlnaW5hbC53aWR0aDtcbiAgICAgICAgdmFyIG5ld0hlaWdodCA9IG9yaWdpbmFsLmhlaWdodDtcbiAgICAgICAgdmFyIGV4dHJhSGVpZ2h0ID0gbG9ja0FzcGVjdFJhdGlvRXh0cmFIZWlnaHQgfHwgMDtcbiAgICAgICAgdmFyIGV4dHJhV2lkdGggPSBsb2NrQXNwZWN0UmF0aW9FeHRyYVdpZHRoIHx8IDA7XG4gICAgICAgIGlmIChoYXNEaXJlY3Rpb24oJ3JpZ2h0JywgZGlyZWN0aW9uKSkge1xuICAgICAgICAgICAgbmV3V2lkdGggPSBvcmlnaW5hbC53aWR0aCArICgoY2xpZW50WCAtIG9yaWdpbmFsLngpICogcmVzaXplUmF0aW8pIC8gc2NhbGU7XG4gICAgICAgICAgICBpZiAobG9ja0FzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgICAgICAgbmV3SGVpZ2h0ID0gKG5ld1dpZHRoIC0gZXh0cmFXaWR0aCkgLyB0aGlzLnJhdGlvICsgZXh0cmFIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0RpcmVjdGlvbignbGVmdCcsIGRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIG5ld1dpZHRoID0gb3JpZ2luYWwud2lkdGggLSAoKGNsaWVudFggLSBvcmlnaW5hbC54KSAqIHJlc2l6ZVJhdGlvKSAvIHNjYWxlO1xuICAgICAgICAgICAgaWYgKGxvY2tBc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgICAgIG5ld0hlaWdodCA9IChuZXdXaWR0aCAtIGV4dHJhV2lkdGgpIC8gdGhpcy5yYXRpbyArIGV4dHJhSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNEaXJlY3Rpb24oJ2JvdHRvbScsIGRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIG5ld0hlaWdodCA9IG9yaWdpbmFsLmhlaWdodCArICgoY2xpZW50WSAtIG9yaWdpbmFsLnkpICogcmVzaXplUmF0aW8pIC8gc2NhbGU7XG4gICAgICAgICAgICBpZiAobG9ja0FzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgICAgICAgbmV3V2lkdGggPSAobmV3SGVpZ2h0IC0gZXh0cmFIZWlnaHQpICogdGhpcy5yYXRpbyArIGV4dHJhV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0RpcmVjdGlvbigndG9wJywgZGlyZWN0aW9uKSkge1xuICAgICAgICAgICAgbmV3SGVpZ2h0ID0gb3JpZ2luYWwuaGVpZ2h0IC0gKChjbGllbnRZIC0gb3JpZ2luYWwueSkgKiByZXNpemVSYXRpbykgLyBzY2FsZTtcbiAgICAgICAgICAgIGlmIChsb2NrQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgICAgICBuZXdXaWR0aCA9IChuZXdIZWlnaHQgLSBleHRyYUhlaWdodCkgKiB0aGlzLnJhdGlvICsgZXh0cmFXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBuZXdXaWR0aDogbmV3V2lkdGgsIG5ld0hlaWdodDogbmV3SGVpZ2h0IH07XG4gICAgfTtcbiAgICBSZXNpemFibGUucHJvdG90eXBlLmNhbGN1bGF0ZU5ld1NpemVGcm9tQXNwZWN0UmF0aW8gPSBmdW5jdGlvbiAobmV3V2lkdGgsIG5ld0hlaWdodCwgbWF4LCBtaW4pIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgbG9ja0FzcGVjdFJhdGlvID0gX2EubG9ja0FzcGVjdFJhdGlvLCBsb2NrQXNwZWN0UmF0aW9FeHRyYUhlaWdodCA9IF9hLmxvY2tBc3BlY3RSYXRpb0V4dHJhSGVpZ2h0LCBsb2NrQXNwZWN0UmF0aW9FeHRyYVdpZHRoID0gX2EubG9ja0FzcGVjdFJhdGlvRXh0cmFXaWR0aDtcbiAgICAgICAgdmFyIGNvbXB1dGVkTWluV2lkdGggPSB0eXBlb2YgbWluLndpZHRoID09PSAndW5kZWZpbmVkJyA/IDEwIDogbWluLndpZHRoO1xuICAgICAgICB2YXIgY29tcHV0ZWRNYXhXaWR0aCA9IHR5cGVvZiBtYXgud2lkdGggPT09ICd1bmRlZmluZWQnIHx8IG1heC53aWR0aCA8IDAgPyBuZXdXaWR0aCA6IG1heC53aWR0aDtcbiAgICAgICAgdmFyIGNvbXB1dGVkTWluSGVpZ2h0ID0gdHlwZW9mIG1pbi5oZWlnaHQgPT09ICd1bmRlZmluZWQnID8gMTAgOiBtaW4uaGVpZ2h0O1xuICAgICAgICB2YXIgY29tcHV0ZWRNYXhIZWlnaHQgPSB0eXBlb2YgbWF4LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcgfHwgbWF4LmhlaWdodCA8IDAgPyBuZXdIZWlnaHQgOiBtYXguaGVpZ2h0O1xuICAgICAgICB2YXIgZXh0cmFIZWlnaHQgPSBsb2NrQXNwZWN0UmF0aW9FeHRyYUhlaWdodCB8fCAwO1xuICAgICAgICB2YXIgZXh0cmFXaWR0aCA9IGxvY2tBc3BlY3RSYXRpb0V4dHJhV2lkdGggfHwgMDtcbiAgICAgICAgaWYgKGxvY2tBc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgdmFyIGV4dHJhTWluV2lkdGggPSAoY29tcHV0ZWRNaW5IZWlnaHQgLSBleHRyYUhlaWdodCkgKiB0aGlzLnJhdGlvICsgZXh0cmFXaWR0aDtcbiAgICAgICAgICAgIHZhciBleHRyYU1heFdpZHRoID0gKGNvbXB1dGVkTWF4SGVpZ2h0IC0gZXh0cmFIZWlnaHQpICogdGhpcy5yYXRpbyArIGV4dHJhV2lkdGg7XG4gICAgICAgICAgICB2YXIgZXh0cmFNaW5IZWlnaHQgPSAoY29tcHV0ZWRNaW5XaWR0aCAtIGV4dHJhV2lkdGgpIC8gdGhpcy5yYXRpbyArIGV4dHJhSGVpZ2h0O1xuICAgICAgICAgICAgdmFyIGV4dHJhTWF4SGVpZ2h0ID0gKGNvbXB1dGVkTWF4V2lkdGggLSBleHRyYVdpZHRoKSAvIHRoaXMucmF0aW8gKyBleHRyYUhlaWdodDtcbiAgICAgICAgICAgIHZhciBsb2NrZWRNaW5XaWR0aCA9IE1hdGgubWF4KGNvbXB1dGVkTWluV2lkdGgsIGV4dHJhTWluV2lkdGgpO1xuICAgICAgICAgICAgdmFyIGxvY2tlZE1heFdpZHRoID0gTWF0aC5taW4oY29tcHV0ZWRNYXhXaWR0aCwgZXh0cmFNYXhXaWR0aCk7XG4gICAgICAgICAgICB2YXIgbG9ja2VkTWluSGVpZ2h0ID0gTWF0aC5tYXgoY29tcHV0ZWRNaW5IZWlnaHQsIGV4dHJhTWluSGVpZ2h0KTtcbiAgICAgICAgICAgIHZhciBsb2NrZWRNYXhIZWlnaHQgPSBNYXRoLm1pbihjb21wdXRlZE1heEhlaWdodCwgZXh0cmFNYXhIZWlnaHQpO1xuICAgICAgICAgICAgbmV3V2lkdGggPSBjbGFtcChuZXdXaWR0aCwgbG9ja2VkTWluV2lkdGgsIGxvY2tlZE1heFdpZHRoKTtcbiAgICAgICAgICAgIG5ld0hlaWdodCA9IGNsYW1wKG5ld0hlaWdodCwgbG9ja2VkTWluSGVpZ2h0LCBsb2NrZWRNYXhIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3V2lkdGggPSBjbGFtcChuZXdXaWR0aCwgY29tcHV0ZWRNaW5XaWR0aCwgY29tcHV0ZWRNYXhXaWR0aCk7XG4gICAgICAgICAgICBuZXdIZWlnaHQgPSBjbGFtcChuZXdIZWlnaHQsIGNvbXB1dGVkTWluSGVpZ2h0LCBjb21wdXRlZE1heEhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbmV3V2lkdGg6IG5ld1dpZHRoLCBuZXdIZWlnaHQ6IG5ld0hlaWdodCB9O1xuICAgIH07XG4gICAgUmVzaXphYmxlLnByb3RvdHlwZS5zZXRCb3VuZGluZ0NsaWVudFJlY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEZvciBwYXJlbnQgYm91bmRhcnlcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYm91bmRzID09PSAncGFyZW50Jykge1xuICAgICAgICAgICAgdmFyIHBhcmVudF8zID0gdGhpcy5wYXJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKHBhcmVudF8zIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50UmVjdCA9IHBhcmVudF8zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50TGVmdCA9IHBhcmVudFJlY3QubGVmdDtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudFRvcCA9IHBhcmVudFJlY3QudG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZvciB0YXJnZXQoaHRtbCBlbGVtZW50KSBib3VuZGFyeVxuICAgICAgICBpZiAodGhpcy5wcm9wcy5ib3VuZHMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldFJlY3QgPSB0aGlzLnByb3BzLmJvdW5kcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0TGVmdCA9IHRhcmdldFJlY3QubGVmdDtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0VG9wID0gdGFyZ2V0UmVjdC50b3A7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIGJvdW5kYXJ5XG4gICAgICAgIGlmICh0aGlzLnJlc2l6YWJsZSkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5yZXNpemFibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGxlZnQgPSBfYS5sZWZ0LCB0b3BfMSA9IF9hLnRvcDtcbiAgICAgICAgICAgIHRoaXMucmVzaXphYmxlTGVmdCA9IGxlZnQ7XG4gICAgICAgICAgICB0aGlzLnJlc2l6YWJsZVRvcCA9IHRvcF8xO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNpemFibGUucHJvdG90eXBlLm9uUmVzaXplU3RhcnQgPSBmdW5jdGlvbiAoZXZlbnQsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgY2xpZW50WCA9IDA7XG4gICAgICAgIHZhciBjbGllbnRZID0gMDtcbiAgICAgICAgaWYgKGV2ZW50Lm5hdGl2ZUV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xuICAgICAgICAgICAgY2xpZW50WCA9IGV2ZW50Lm5hdGl2ZUV2ZW50LmNsaWVudFg7XG4gICAgICAgICAgICBjbGllbnRZID0gZXZlbnQubmF0aXZlRXZlbnQuY2xpZW50WTtcbiAgICAgICAgICAgIC8vIFdoZW4gdXNlciBjbGljayB3aXRoIHJpZ2h0IGJ1dHRvbiB0aGUgcmVzaXplIGlzIHN0dWNrIGluIHJlc2l6aW5nIG1vZGVcbiAgICAgICAgICAgIC8vIHVudGlsIHVzZXJzIGNsaWNrcyBhZ2FpbiwgZG9udCBjb250aW51ZSBpZiByaWdodCBjbGljayBpcyB1c2VkLlxuICAgICAgICAgICAgLy8gSEFDSzogTW91c2VFdmVudCBkb2VzIG5vdCBoYXZlIGB3aGljaGAgZnJvbSBmbG93LWJpbiB2MC42OC5cbiAgICAgICAgICAgIGlmIChldmVudC5uYXRpdmVFdmVudC53aGljaCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudC5uYXRpdmVFdmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcbiAgICAgICAgICAgIGNsaWVudFggPSBldmVudC5uYXRpdmVFdmVudC50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgICAgICBjbGllbnRZID0gZXZlbnQubmF0aXZlRXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9uUmVzaXplU3RhcnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc2l6YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25SZXNpemVTdGFydChldmVudCwgZGlyZWN0aW9uLCB0aGlzLnJlc2l6YWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRml4ICMxNjhcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2l6ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLnNpemUuaGVpZ2h0ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLnByb3BzLnNpemUuaGVpZ2h0ICE9PSB0aGlzLnN0YXRlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBoZWlnaHQ6IHRoaXMucHJvcHMuc2l6ZS5oZWlnaHQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMuc2l6ZS53aWR0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5wcm9wcy5zaXplLndpZHRoICE9PSB0aGlzLnN0YXRlLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHdpZHRoOiB0aGlzLnByb3BzLnNpemUud2lkdGggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIGxvY2tBc3BlY3RSYXRpbyBjYXNlXG4gICAgICAgIHRoaXMucmF0aW8gPVxuICAgICAgICAgICAgdHlwZW9mIHRoaXMucHJvcHMubG9ja0FzcGVjdFJhdGlvID09PSAnbnVtYmVyJyA/IHRoaXMucHJvcHMubG9ja0FzcGVjdFJhdGlvIDogdGhpcy5zaXplLndpZHRoIC8gdGhpcy5zaXplLmhlaWdodDtcbiAgICAgICAgLy8gRm9yIGJvdW5kYXJ5XG4gICAgICAgIHRoaXMuc2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgb3JpZ2luYWw6IHtcbiAgICAgICAgICAgICAgICB4OiBjbGllbnRYLFxuICAgICAgICAgICAgICAgIHk6IGNsaWVudFksXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuc2l6ZS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuc2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNSZXNpemluZzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc2l6ZUN1cnNvcjogd2luZG93LmdldENvbXB1dGVkU3R5bGUoZXZlbnQudGFyZ2V0KS5jdXJzb3IgfHwgJ2F1dG8nLFxuICAgICAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUmVzaXphYmxlLnByb3RvdHlwZS5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuaXNSZXNpemluZyB8fCAhdGhpcy5yZXNpemFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBtYXhXaWR0aCA9IF9hLm1heFdpZHRoLCBtYXhIZWlnaHQgPSBfYS5tYXhIZWlnaHQsIG1pbldpZHRoID0gX2EubWluV2lkdGgsIG1pbkhlaWdodCA9IF9hLm1pbkhlaWdodDtcbiAgICAgICAgdmFyIGNsaWVudFggPSBldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgPyBldmVudC5jbGllbnRYIDogZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICB2YXIgY2xpZW50WSA9IGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCA/IGV2ZW50LmNsaWVudFkgOiBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICAgIHZhciBfYiA9IHRoaXMuc3RhdGUsIGRpcmVjdGlvbiA9IF9iLmRpcmVjdGlvbiwgb3JpZ2luYWwgPSBfYi5vcmlnaW5hbCwgd2lkdGggPSBfYi53aWR0aCwgaGVpZ2h0ID0gX2IuaGVpZ2h0O1xuICAgICAgICB2YXIgcGFyZW50U2l6ZSA9IHRoaXMuZ2V0UGFyZW50U2l6ZSgpO1xuICAgICAgICB2YXIgbWF4ID0gY2FsY3VsYXRlTmV3TWF4KHBhcmVudFNpemUsIG1heFdpZHRoLCBtYXhIZWlnaHQsIG1pbldpZHRoLCBtaW5IZWlnaHQpO1xuICAgICAgICBtYXhXaWR0aCA9IG1heC5tYXhXaWR0aDtcbiAgICAgICAgbWF4SGVpZ2h0ID0gbWF4Lm1heEhlaWdodDtcbiAgICAgICAgbWluV2lkdGggPSBtYXgubWluV2lkdGg7XG4gICAgICAgIG1pbkhlaWdodCA9IG1heC5taW5IZWlnaHQ7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBuZXcgc2l6ZVxuICAgICAgICB2YXIgX2MgPSB0aGlzLmNhbGN1bGF0ZU5ld1NpemVGcm9tRGlyZWN0aW9uKGNsaWVudFgsIGNsaWVudFkpLCBuZXdIZWlnaHQgPSBfYy5uZXdIZWlnaHQsIG5ld1dpZHRoID0gX2MubmV3V2lkdGg7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBtYXggc2l6ZSBmcm9tIGJvdW5kYXJ5IHNldHRpbmdzXG4gICAgICAgIHZhciBib3VuZGFyeU1heCA9IHRoaXMuY2FsY3VsYXRlTmV3TWF4RnJvbUJvdW5kYXJ5KG1heFdpZHRoLCBtYXhIZWlnaHQpO1xuICAgICAgICAvLyBDYWxjdWxhdGUgbmV3IHNpemUgZnJvbSBhc3BlY3QgcmF0aW9cbiAgICAgICAgdmFyIG5ld1NpemUgPSB0aGlzLmNhbGN1bGF0ZU5ld1NpemVGcm9tQXNwZWN0UmF0aW8obmV3V2lkdGgsIG5ld0hlaWdodCwgeyB3aWR0aDogYm91bmRhcnlNYXgubWF4V2lkdGgsIGhlaWdodDogYm91bmRhcnlNYXgubWF4SGVpZ2h0IH0sIHsgd2lkdGg6IG1pbldpZHRoLCBoZWlnaHQ6IG1pbkhlaWdodCB9KTtcbiAgICAgICAgbmV3V2lkdGggPSBuZXdTaXplLm5ld1dpZHRoO1xuICAgICAgICBuZXdIZWlnaHQgPSBuZXdTaXplLm5ld0hlaWdodDtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuZ3JpZCkge1xuICAgICAgICAgICAgdmFyIG5ld0dyaWRXaWR0aCA9IHNuYXAobmV3V2lkdGgsIHRoaXMucHJvcHMuZ3JpZFswXSk7XG4gICAgICAgICAgICB2YXIgbmV3R3JpZEhlaWdodCA9IHNuYXAobmV3SGVpZ2h0LCB0aGlzLnByb3BzLmdyaWRbMV0pO1xuICAgICAgICAgICAgdmFyIGdhcCA9IHRoaXMucHJvcHMuc25hcEdhcCB8fCAwO1xuICAgICAgICAgICAgbmV3V2lkdGggPSBnYXAgPT09IDAgfHwgTWF0aC5hYnMobmV3R3JpZFdpZHRoIC0gbmV3V2lkdGgpIDw9IGdhcCA/IG5ld0dyaWRXaWR0aCA6IG5ld1dpZHRoO1xuICAgICAgICAgICAgbmV3SGVpZ2h0ID0gZ2FwID09PSAwIHx8IE1hdGguYWJzKG5ld0dyaWRIZWlnaHQgLSBuZXdIZWlnaHQpIDw9IGdhcCA/IG5ld0dyaWRIZWlnaHQgOiBuZXdIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc25hcCAmJiB0aGlzLnByb3BzLnNuYXAueCkge1xuICAgICAgICAgICAgbmV3V2lkdGggPSBmaW5kQ2xvc2VzdFNuYXAobmV3V2lkdGgsIHRoaXMucHJvcHMuc25hcC54LCB0aGlzLnByb3BzLnNuYXBHYXApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNuYXAgJiYgdGhpcy5wcm9wcy5zbmFwLnkpIHtcbiAgICAgICAgICAgIG5ld0hlaWdodCA9IGZpbmRDbG9zZXN0U25hcChuZXdIZWlnaHQsIHRoaXMucHJvcHMuc25hcC55LCB0aGlzLnByb3BzLnNuYXBHYXApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWx0YSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBuZXdXaWR0aCAtIG9yaWdpbmFsLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBuZXdIZWlnaHQgLSBvcmlnaW5hbC5oZWlnaHQsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh3aWR0aCAmJiB0eXBlb2Ygd2lkdGggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoZW5kc1dpdGgod2lkdGgsICclJykpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGVyY2VudCA9IChuZXdXaWR0aCAvIHBhcmVudFNpemUud2lkdGgpICogMTAwO1xuICAgICAgICAgICAgICAgIG5ld1dpZHRoID0gcGVyY2VudCArIFwiJVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW5kc1dpdGgod2lkdGgsICd2dycpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZ3ID0gKG5ld1dpZHRoIC8gd2luZG93LmlubmVyV2lkdGgpICogMTAwO1xuICAgICAgICAgICAgICAgIG5ld1dpZHRoID0gdncgKyBcInZ3XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbmRzV2l0aCh3aWR0aCwgJ3ZoJykpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmggPSAobmV3V2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQpICogMTAwO1xuICAgICAgICAgICAgICAgIG5ld1dpZHRoID0gdmggKyBcInZoXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlaWdodCAmJiB0eXBlb2YgaGVpZ2h0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKGVuZHNXaXRoKGhlaWdodCwgJyUnKSkge1xuICAgICAgICAgICAgICAgIHZhciBwZXJjZW50ID0gKG5ld0hlaWdodCAvIHBhcmVudFNpemUuaGVpZ2h0KSAqIDEwMDtcbiAgICAgICAgICAgICAgICBuZXdIZWlnaHQgPSBwZXJjZW50ICsgXCIlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbmRzV2l0aChoZWlnaHQsICd2dycpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZ3ID0gKG5ld0hlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoKSAqIDEwMDtcbiAgICAgICAgICAgICAgICBuZXdIZWlnaHQgPSB2dyArIFwidndcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVuZHNXaXRoKGhlaWdodCwgJ3ZoJykpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmggPSAobmV3SGVpZ2h0IC8gd2luZG93LmlubmVySGVpZ2h0KSAqIDEwMDtcbiAgICAgICAgICAgICAgICBuZXdIZWlnaHQgPSB2aCArIFwidmhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLmNyZWF0ZVNpemVGb3JDc3NQcm9wZXJ0eShuZXdXaWR0aCwgJ3dpZHRoJyksXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuY3JlYXRlU2l6ZUZvckNzc1Byb3BlcnR5KG5ld0hlaWdodCwgJ2hlaWdodCcpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25SZXNpemUpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25SZXNpemUoZXZlbnQsIGRpcmVjdGlvbiwgdGhpcy5yZXNpemFibGUsIGRlbHRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzaXphYmxlLnByb3RvdHlwZS5vbk1vdXNlVXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5zdGF0ZSwgaXNSZXNpemluZyA9IF9hLmlzUmVzaXppbmcsIGRpcmVjdGlvbiA9IF9hLmRpcmVjdGlvbiwgb3JpZ2luYWwgPSBfYS5vcmlnaW5hbDtcbiAgICAgICAgaWYgKCFpc1Jlc2l6aW5nIHx8ICF0aGlzLnJlc2l6YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWx0YSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnNpemUud2lkdGggLSBvcmlnaW5hbC53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5zaXplLmhlaWdodCAtIG9yaWdpbmFsLmhlaWdodCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25SZXNpemVTdG9wKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uUmVzaXplU3RvcChldmVudCwgZGlyZWN0aW9uLCB0aGlzLnJlc2l6YWJsZSwgZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUodGhpcy5wcm9wcy5zaXplKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNSZXNpemluZzogZmFsc2UsIHJlc2l6ZUN1cnNvcjogJ2F1dG8nIH0pO1xuICAgIH07XG4gICAgUmVzaXphYmxlLnByb3RvdHlwZS51cGRhdGVTaXplID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHdpZHRoOiBzaXplLndpZHRoLCBoZWlnaHQ6IHNpemUuaGVpZ2h0IH0pO1xuICAgIH07XG4gICAgUmVzaXphYmxlLnByb3RvdHlwZS5yZW5kZXJSZXNpemVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBlbmFibGUgPSBfYS5lbmFibGUsIGhhbmRsZVN0eWxlcyA9IF9hLmhhbmRsZVN0eWxlcywgaGFuZGxlQ2xhc3NlcyA9IF9hLmhhbmRsZUNsYXNzZXMsIGhhbmRsZVdyYXBwZXJTdHlsZSA9IF9hLmhhbmRsZVdyYXBwZXJTdHlsZSwgaGFuZGxlV3JhcHBlckNsYXNzID0gX2EuaGFuZGxlV3JhcHBlckNsYXNzLCBoYW5kbGVDb21wb25lbnQgPSBfYS5oYW5kbGVDb21wb25lbnQ7XG4gICAgICAgIGlmICghZW5hYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzaXplcnMgPSBPYmplY3Qua2V5cyhlbmFibGUpLm1hcChmdW5jdGlvbiAoZGlyKSB7XG4gICAgICAgICAgICBpZiAoZW5hYmxlW2Rpcl0gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KHJlc2l6ZXJfMS5SZXNpemVyLCB7IGtleTogZGlyLCBkaXJlY3Rpb246IGRpciwgb25SZXNpemVTdGFydDogX3RoaXMub25SZXNpemVTdGFydCwgcmVwbGFjZVN0eWxlczogaGFuZGxlU3R5bGVzICYmIGhhbmRsZVN0eWxlc1tkaXJdLCBjbGFzc05hbWU6IGhhbmRsZUNsYXNzZXMgJiYgaGFuZGxlQ2xhc3Nlc1tkaXJdIH0sIGhhbmRsZUNvbXBvbmVudCAmJiBoYW5kbGVDb21wb25lbnRbZGlyXSA/IGhhbmRsZUNvbXBvbmVudFtkaXJdIDogbnVsbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyAjOTMgV3JhcCB0aGUgcmVzaXplIGJveCBpbiBzcGFuICh3aWxsIG5vdCBicmVhayAxMDAlIHdpZHRoL2hlaWdodClcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogaGFuZGxlV3JhcHBlckNsYXNzLCBzdHlsZTogaGFuZGxlV3JhcHBlclN0eWxlIH0sIHJlc2l6ZXJzKSk7XG4gICAgfTtcbiAgICBSZXNpemFibGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHsgcmVmOiBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIGlmIChjKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc2l6YWJsZSA9IGM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgc3R5bGU6IF9fYXNzaWduKHsgcG9zaXRpb246ICdyZWxhdGl2ZScsIHVzZXJTZWxlY3Q6IHRoaXMuc3RhdGUuaXNSZXNpemluZyA/ICdub25lJyA6ICdhdXRvJyB9LCB0aGlzLnByb3BzLnN0eWxlLCB0aGlzLnNpemVTdHlsZSwgeyBtYXhXaWR0aDogdGhpcy5wcm9wcy5tYXhXaWR0aCwgbWF4SGVpZ2h0OiB0aGlzLnByb3BzLm1heEhlaWdodCwgbWluV2lkdGg6IHRoaXMucHJvcHMubWluV2lkdGgsIG1pbkhlaWdodDogdGhpcy5wcm9wcy5taW5IZWlnaHQsIGJveFNpemluZzogJ2JvcmRlci1ib3gnIH0pLCBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lIH0sIHRoaXMuZXh0ZW5kc1Byb3BzKSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNSZXNpemluZyAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDApJyxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcIlwiICsgKHRoaXMuc3RhdGUucmVzaXplQ3Vyc29yIHx8ICdhdXRvJyksXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDk5OTksXG4gICAgICAgICAgICAgICAgICAgIHRvcDogJzAnLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogJzAnLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogJzAnLFxuICAgICAgICAgICAgICAgIH0gfSkpLFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUmVzaXplcigpKSk7XG4gICAgfTtcbiAgICBSZXNpemFibGUuZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBvblJlc2l6ZVN0YXJ0OiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgIG9uUmVzaXplOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgIG9uUmVzaXplU3RvcDogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICBlbmFibGU6IHtcbiAgICAgICAgICAgIHRvcDogdHJ1ZSxcbiAgICAgICAgICAgIHJpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgYm90dG9tOiB0cnVlLFxuICAgICAgICAgICAgbGVmdDogdHJ1ZSxcbiAgICAgICAgICAgIHRvcFJpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgYm90dG9tUmlnaHQ6IHRydWUsXG4gICAgICAgICAgICBib3R0b21MZWZ0OiB0cnVlLFxuICAgICAgICAgICAgdG9wTGVmdDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHt9LFxuICAgICAgICBncmlkOiBbMSwgMV0sXG4gICAgICAgIGxvY2tBc3BlY3RSYXRpbzogZmFsc2UsXG4gICAgICAgIGxvY2tBc3BlY3RSYXRpb0V4dHJhV2lkdGg6IDAsXG4gICAgICAgIGxvY2tBc3BlY3RSYXRpb0V4dHJhSGVpZ2h0OiAwLFxuICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgcmVzaXplUmF0aW86IDEsXG4gICAgICAgIHNuYXBHYXA6IDAsXG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXphYmxlO1xufShSZWFjdC5Db21wb25lbnQpKTtcbmV4cG9ydHMuUmVzaXphYmxlID0gUmVzaXphYmxlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vY29tbW9uLWNvbXBvbmVudHMvbm9kZV9tb2R1bGVzL3JlLXJlc2l6YWJsZS9saWIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/*!*********************************************************************!*\
  !*** ../common-components/node_modules/re-resizable/lib/resizer.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(__webpack_require__(/*! react */ 0));\nvar styles = {\n    top: {\n        width: '100%',\n        height: '10px',\n        top: '-5px',\n        left: '0px',\n        cursor: 'row-resize',\n    },\n    right: {\n        width: '10px',\n        height: '100%',\n        top: '0px',\n        right: '-5px',\n        cursor: 'col-resize',\n    },\n    bottom: {\n        width: '100%',\n        height: '10px',\n        bottom: '-5px',\n        left: '0px',\n        cursor: 'row-resize',\n    },\n    left: {\n        width: '10px',\n        height: '100%',\n        top: '0px',\n        left: '-5px',\n        cursor: 'col-resize',\n    },\n    topRight: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        right: '-10px',\n        top: '-10px',\n        cursor: 'ne-resize',\n    },\n    bottomRight: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        right: '-10px',\n        bottom: '-10px',\n        cursor: 'se-resize',\n    },\n    bottomLeft: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        left: '-10px',\n        bottom: '-10px',\n        cursor: 'sw-resize',\n    },\n    topLeft: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        left: '-10px',\n        top: '-10px',\n        cursor: 'nw-resize',\n    },\n};\nfunction Resizer(props) {\n    return (React.createElement(\"div\", { className: props.className || '', style: __assign({ position: 'absolute', userSelect: 'none' }, styles[props.direction], (props.replaceStyles || {})), onMouseDown: function (e) {\n            props.onResizeStart(e, props.direction);\n        }, onTouchStart: function (e) {\n            props.onResizeStart(e, props.direction);\n        } }, props.children));\n}\nexports.Resizer = Resizer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9jb21tb24tY29tcG9uZW50cy9ub2RlX21vZHVsZXMvcmUtcmVzaXphYmxlL2xpYi9yZXNpemVyLmpzP2VhOWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcbiAgICByZXN1bHRbXCJkZWZhdWx0XCJdID0gbW9kO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG52YXIgc3R5bGVzID0ge1xuICAgIHRvcDoge1xuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICBoZWlnaHQ6ICcxMHB4JyxcbiAgICAgICAgdG9wOiAnLTVweCcsXG4gICAgICAgIGxlZnQ6ICcwcHgnLFxuICAgICAgICBjdXJzb3I6ICdyb3ctcmVzaXplJyxcbiAgICB9LFxuICAgIHJpZ2h0OiB7XG4gICAgICAgIHdpZHRoOiAnMTBweCcsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICB0b3A6ICcwcHgnLFxuICAgICAgICByaWdodDogJy01cHgnLFxuICAgICAgICBjdXJzb3I6ICdjb2wtcmVzaXplJyxcbiAgICB9LFxuICAgIGJvdHRvbToge1xuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICBoZWlnaHQ6ICcxMHB4JyxcbiAgICAgICAgYm90dG9tOiAnLTVweCcsXG4gICAgICAgIGxlZnQ6ICcwcHgnLFxuICAgICAgICBjdXJzb3I6ICdyb3ctcmVzaXplJyxcbiAgICB9LFxuICAgIGxlZnQ6IHtcbiAgICAgICAgd2lkdGg6ICcxMHB4JyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIHRvcDogJzBweCcsXG4gICAgICAgIGxlZnQ6ICctNXB4JyxcbiAgICAgICAgY3Vyc29yOiAnY29sLXJlc2l6ZScsXG4gICAgfSxcbiAgICB0b3BSaWdodDoge1xuICAgICAgICB3aWR0aDogJzIwcHgnLFxuICAgICAgICBoZWlnaHQ6ICcyMHB4JyxcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHJpZ2h0OiAnLTEwcHgnLFxuICAgICAgICB0b3A6ICctMTBweCcsXG4gICAgICAgIGN1cnNvcjogJ25lLXJlc2l6ZScsXG4gICAgfSxcbiAgICBib3R0b21SaWdodDoge1xuICAgICAgICB3aWR0aDogJzIwcHgnLFxuICAgICAgICBoZWlnaHQ6ICcyMHB4JyxcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHJpZ2h0OiAnLTEwcHgnLFxuICAgICAgICBib3R0b206ICctMTBweCcsXG4gICAgICAgIGN1cnNvcjogJ3NlLXJlc2l6ZScsXG4gICAgfSxcbiAgICBib3R0b21MZWZ0OiB7XG4gICAgICAgIHdpZHRoOiAnMjBweCcsXG4gICAgICAgIGhlaWdodDogJzIwcHgnLFxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgbGVmdDogJy0xMHB4JyxcbiAgICAgICAgYm90dG9tOiAnLTEwcHgnLFxuICAgICAgICBjdXJzb3I6ICdzdy1yZXNpemUnLFxuICAgIH0sXG4gICAgdG9wTGVmdDoge1xuICAgICAgICB3aWR0aDogJzIwcHgnLFxuICAgICAgICBoZWlnaHQ6ICcyMHB4JyxcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIGxlZnQ6ICctMTBweCcsXG4gICAgICAgIHRvcDogJy0xMHB4JyxcbiAgICAgICAgY3Vyc29yOiAnbnctcmVzaXplJyxcbiAgICB9LFxufTtcbmZ1bmN0aW9uIFJlc2l6ZXIocHJvcHMpIHtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZSB8fCAnJywgc3R5bGU6IF9fYXNzaWduKHsgcG9zaXRpb246ICdhYnNvbHV0ZScsIHVzZXJTZWxlY3Q6ICdub25lJyB9LCBzdHlsZXNbcHJvcHMuZGlyZWN0aW9uXSwgKHByb3BzLnJlcGxhY2VTdHlsZXMgfHwge30pKSwgb25Nb3VzZURvd246IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBwcm9wcy5vblJlc2l6ZVN0YXJ0KGUsIHByb3BzLmRpcmVjdGlvbik7XG4gICAgICAgIH0sIG9uVG91Y2hTdGFydDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHByb3BzLm9uUmVzaXplU3RhcnQoZSwgcHJvcHMuZGlyZWN0aW9uKTtcbiAgICAgICAgfSB9LCBwcm9wcy5jaGlsZHJlbikpO1xufVxuZXhwb3J0cy5SZXNpemVyID0gUmVzaXplcjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2NvbW1vbi1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9yZS1yZXNpemFibGUvbGliL3Jlc2l6ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/*!*******************************************************************!*\
  !*** ../common-components/node_modules/fast-memoize/src/index.js ***!
  \*******************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("//\n// Main\n//\n\nfunction memoize (fn, options) {\n  var cache = options && options.cache\n    ? options.cache\n    : cacheDefault\n\n  var serializer = options && options.serializer\n    ? options.serializer\n    : serializerDefault\n\n  var strategy = options && options.strategy\n    ? options.strategy\n    : strategyDefault\n\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  })\n}\n\n//\n// Strategy\n//\n\nfunction isPrimitive (value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean' // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic (fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction variadic (fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3)\n  var cacheKey = serializer(args)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction assemble (fn, context, strategy, cache, serialize) {\n  return strategy.bind(\n    context,\n    fn,\n    cache,\n    serialize\n  )\n}\n\nfunction strategyDefault (fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyVariadic (fn, options) {\n  var strategy = variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyMonadic (fn, options) {\n  var strategy = monadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\n//\n// Serializer\n//\n\nfunction serializerDefault () {\n  return JSON.stringify(arguments)\n}\n\n//\n// Cache\n//\n\nfunction ObjectWithoutPrototypeCache () {\n  this.cache = Object.create(null)\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return (key in this.cache)\n}\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key]\n}\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value\n}\n\nvar cacheDefault = {\n  create: function create () {\n    return new ObjectWithoutPrototypeCache()\n  }\n}\n\n//\n// API\n//\n\nmodule.exports = memoize\nmodule.exports.strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9jb21tb24tY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZmFzdC1tZW1vaXplL3NyYy9pbmRleC5qcz83NWRjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vXG4vLyBNYWluXG4vL1xuXG5mdW5jdGlvbiBtZW1vaXplIChmbiwgb3B0aW9ucykge1xuICB2YXIgY2FjaGUgPSBvcHRpb25zICYmIG9wdGlvbnMuY2FjaGVcbiAgICA/IG9wdGlvbnMuY2FjaGVcbiAgICA6IGNhY2hlRGVmYXVsdFxuXG4gIHZhciBzZXJpYWxpemVyID0gb3B0aW9ucyAmJiBvcHRpb25zLnNlcmlhbGl6ZXJcbiAgICA/IG9wdGlvbnMuc2VyaWFsaXplclxuICAgIDogc2VyaWFsaXplckRlZmF1bHRcblxuICB2YXIgc3RyYXRlZ3kgPSBvcHRpb25zICYmIG9wdGlvbnMuc3RyYXRlZ3lcbiAgICA/IG9wdGlvbnMuc3RyYXRlZ3lcbiAgICA6IHN0cmF0ZWd5RGVmYXVsdFxuXG4gIHJldHVybiBzdHJhdGVneShmbiwge1xuICAgIGNhY2hlOiBjYWNoZSxcbiAgICBzZXJpYWxpemVyOiBzZXJpYWxpemVyXG4gIH0pXG59XG5cbi8vXG4vLyBTdHJhdGVneVxuLy9cblxuZnVuY3Rpb24gaXNQcmltaXRpdmUgKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgLy8gfHwgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICd1bnNhZmUnIHByaW1pdGl2ZSBmb3Igb3VyIG5lZWRzXG59XG5cbmZ1bmN0aW9uIG1vbmFkaWMgKGZuLCBjYWNoZSwgc2VyaWFsaXplciwgYXJnKSB7XG4gIHZhciBjYWNoZUtleSA9IGlzUHJpbWl0aXZlKGFyZykgPyBhcmcgOiBzZXJpYWxpemVyKGFyZylcblxuICB2YXIgY29tcHV0ZWRWYWx1ZSA9IGNhY2hlLmdldChjYWNoZUtleSlcbiAgaWYgKHR5cGVvZiBjb21wdXRlZFZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgIGNvbXB1dGVkVmFsdWUgPSBmbi5jYWxsKHRoaXMsIGFyZylcbiAgICBjYWNoZS5zZXQoY2FjaGVLZXksIGNvbXB1dGVkVmFsdWUpXG4gIH1cblxuICByZXR1cm4gY29tcHV0ZWRWYWx1ZVxufVxuXG5mdW5jdGlvbiB2YXJpYWRpYyAoZm4sIGNhY2hlLCBzZXJpYWxpemVyKSB7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKVxuICB2YXIgY2FjaGVLZXkgPSBzZXJpYWxpemVyKGFyZ3MpXG5cbiAgdmFyIGNvbXB1dGVkVmFsdWUgPSBjYWNoZS5nZXQoY2FjaGVLZXkpXG4gIGlmICh0eXBlb2YgY29tcHV0ZWRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb21wdXRlZFZhbHVlID0gZm4uYXBwbHkodGhpcywgYXJncylcbiAgICBjYWNoZS5zZXQoY2FjaGVLZXksIGNvbXB1dGVkVmFsdWUpXG4gIH1cblxuICByZXR1cm4gY29tcHV0ZWRWYWx1ZVxufVxuXG5mdW5jdGlvbiBhc3NlbWJsZSAoZm4sIGNvbnRleHQsIHN0cmF0ZWd5LCBjYWNoZSwgc2VyaWFsaXplKSB7XG4gIHJldHVybiBzdHJhdGVneS5iaW5kKFxuICAgIGNvbnRleHQsXG4gICAgZm4sXG4gICAgY2FjaGUsXG4gICAgc2VyaWFsaXplXG4gIClcbn1cblxuZnVuY3Rpb24gc3RyYXRlZ3lEZWZhdWx0IChmbiwgb3B0aW9ucykge1xuICB2YXIgc3RyYXRlZ3kgPSBmbi5sZW5ndGggPT09IDEgPyBtb25hZGljIDogdmFyaWFkaWNcblxuICByZXR1cm4gYXNzZW1ibGUoXG4gICAgZm4sXG4gICAgdGhpcyxcbiAgICBzdHJhdGVneSxcbiAgICBvcHRpb25zLmNhY2hlLmNyZWF0ZSgpLFxuICAgIG9wdGlvbnMuc2VyaWFsaXplclxuICApXG59XG5cbmZ1bmN0aW9uIHN0cmF0ZWd5VmFyaWFkaWMgKGZuLCBvcHRpb25zKSB7XG4gIHZhciBzdHJhdGVneSA9IHZhcmlhZGljXG5cbiAgcmV0dXJuIGFzc2VtYmxlKFxuICAgIGZuLFxuICAgIHRoaXMsXG4gICAgc3RyYXRlZ3ksXG4gICAgb3B0aW9ucy5jYWNoZS5jcmVhdGUoKSxcbiAgICBvcHRpb25zLnNlcmlhbGl6ZXJcbiAgKVxufVxuXG5mdW5jdGlvbiBzdHJhdGVneU1vbmFkaWMgKGZuLCBvcHRpb25zKSB7XG4gIHZhciBzdHJhdGVneSA9IG1vbmFkaWNcblxuICByZXR1cm4gYXNzZW1ibGUoXG4gICAgZm4sXG4gICAgdGhpcyxcbiAgICBzdHJhdGVneSxcbiAgICBvcHRpb25zLmNhY2hlLmNyZWF0ZSgpLFxuICAgIG9wdGlvbnMuc2VyaWFsaXplclxuICApXG59XG5cbi8vXG4vLyBTZXJpYWxpemVyXG4vL1xuXG5mdW5jdGlvbiBzZXJpYWxpemVyRGVmYXVsdCAoKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmd1bWVudHMpXG59XG5cbi8vXG4vLyBDYWNoZVxuLy9cblxuZnVuY3Rpb24gT2JqZWN0V2l0aG91dFByb3RvdHlwZUNhY2hlICgpIHtcbiAgdGhpcy5jYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbClcbn1cblxuT2JqZWN0V2l0aG91dFByb3RvdHlwZUNhY2hlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAoa2V5IGluIHRoaXMuY2FjaGUpXG59XG5cbk9iamVjdFdpdGhvdXRQcm90b3R5cGVDYWNoZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gdGhpcy5jYWNoZVtrZXldXG59XG5cbk9iamVjdFdpdGhvdXRQcm90b3R5cGVDYWNoZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdGhpcy5jYWNoZVtrZXldID0gdmFsdWVcbn1cblxudmFyIGNhY2hlRGVmYXVsdCA9IHtcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUgKCkge1xuICAgIHJldHVybiBuZXcgT2JqZWN0V2l0aG91dFByb3RvdHlwZUNhY2hlKClcbiAgfVxufVxuXG4vL1xuLy8gQVBJXG4vL1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1lbW9pemVcbm1vZHVsZS5leHBvcnRzLnN0cmF0ZWdpZXMgPSB7XG4gIHZhcmlhZGljOiBzdHJhdGVneVZhcmlhZGljLFxuICBtb25hZGljOiBzdHJhdGVneU1vbmFkaWNcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2NvbW1vbi1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9mYXN0LW1lbW9pemUvc3JjL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/*!*********************************************************************************!*\
  !*** ../common-components/node_modules/react-draggable/dist/react-draggable.js ***!
  \*********************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

eval("(function (global, factory) {\n\t true ? module.exports = factory(__webpack_require__(/*! react-dom */ 11), __webpack_require__(/*! react */ 0)) :\n\ttypeof define === 'function' && define.amd ? define(['react-dom', 'react'], factory) :\n\t(global.ReactDraggable = factory(global.ReactDOM,global.React));\n}(this, (function (ReactDOM,React) { 'use strict';\n\n\tReactDOM = ReactDOM && ReactDOM.hasOwnProperty('default') ? ReactDOM['default'] : ReactDOM;\n\tReact = React && React.hasOwnProperty('default') ? React['default'] : React;\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t *\n\t * \n\t */\n\n\tfunction makeEmptyFunction(arg) {\n\t  return function () {\n\t    return arg;\n\t  };\n\t}\n\n\t/**\n\t * This function accepts and discards inputs; it has no side effects. This is\n\t * primarily useful idiomatically for overridable function endpoints which\n\t * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n\t */\n\tvar emptyFunction = function emptyFunction() {};\n\n\temptyFunction.thatReturns = makeEmptyFunction;\n\temptyFunction.thatReturnsFalse = makeEmptyFunction(false);\n\temptyFunction.thatReturnsTrue = makeEmptyFunction(true);\n\temptyFunction.thatReturnsNull = makeEmptyFunction(null);\n\temptyFunction.thatReturnsThis = function () {\n\t  return this;\n\t};\n\temptyFunction.thatReturnsArgument = function (arg) {\n\t  return arg;\n\t};\n\n\tvar emptyFunction_1 = emptyFunction;\n\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t *\n\t */\n\n\t/**\n\t * Use invariant() to assert state which your program assumes to be true.\n\t *\n\t * Provide sprintf-style format (only %s is supported) and arguments\n\t * to provide information about what broke and what you were\n\t * expecting.\n\t *\n\t * The invariant message will be stripped in production, but the invariant\n\t * will remain to ensure logic does not differ in production.\n\t */\n\n\tvar validateFormat = function validateFormat(format) {};\n\n\t{\n\t  validateFormat = function validateFormat(format) {\n\t    if (format === undefined) {\n\t      throw new Error('invariant requires an error message argument');\n\t    }\n\t  };\n\t}\n\n\tfunction invariant(condition, format, a, b, c, d, e, f) {\n\t  validateFormat(format);\n\n\t  if (!condition) {\n\t    var error;\n\t    if (format === undefined) {\n\t      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n\t    } else {\n\t      var args = [a, b, c, d, e, f];\n\t      var argIndex = 0;\n\t      error = new Error(format.replace(/%s/g, function () {\n\t        return args[argIndex++];\n\t      }));\n\t      error.name = 'Invariant Violation';\n\t    }\n\n\t    error.framesToPop = 1; // we don't care about invariant's own frame\n\t    throw error;\n\t  }\n\t}\n\n\tvar invariant_1 = invariant;\n\n\t/**\n\t * Similar to invariant but only logs a warning if the condition is not met.\n\t * This can be used to log issues in development environments in critical\n\t * paths. Removing the logging code for production environments will keep the\n\t * same logic and follow the same code paths.\n\t */\n\n\tvar warning = emptyFunction_1;\n\n\t{\n\t  var printWarning = function printWarning(format) {\n\t    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t      args[_key - 1] = arguments[_key];\n\t    }\n\n\t    var argIndex = 0;\n\t    var message = 'Warning: ' + format.replace(/%s/g, function () {\n\t      return args[argIndex++];\n\t    });\n\t    if (typeof console !== 'undefined') {\n\t      console.error(message);\n\t    }\n\t    try {\n\t      // --- Welcome to debugging React ---\n\t      // This error was thrown as a convenience so that you can use this stack\n\t      // to find the callsite that caused this warning to fire.\n\t      throw new Error(message);\n\t    } catch (x) {}\n\t  };\n\n\t  warning = function warning(condition, format) {\n\t    if (format === undefined) {\n\t      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n\t    }\n\n\t    if (format.indexOf('Failed Composite propType: ') === 0) {\n\t      return; // Ignore CompositeComponent proptype check.\n\t    }\n\n\t    if (!condition) {\n\t      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n\t        args[_key2 - 2] = arguments[_key2];\n\t      }\n\n\t      printWarning.apply(undefined, [format].concat(args));\n\t    }\n\t  };\n\t}\n\n\tvar warning_1 = warning;\n\n\t/*\n\tobject-assign\n\t(c) Sindre Sorhus\n\t@license MIT\n\t*/\n\t/* eslint-disable no-unused-vars */\n\tvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\tvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\n\tfunction toObject(val) {\n\t\tif (val === null || val === undefined) {\n\t\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t\t}\n\n\t\treturn Object(val);\n\t}\n\n\tfunction shouldUseNative() {\n\t\ttry {\n\t\t\tif (!Object.assign) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\t\ttest1[5] = 'de';\n\t\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\t\tvar test2 = {};\n\t\t\tfor (var i = 0; i < 10; i++) {\n\t\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t\t}\n\t\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\t\treturn test2[n];\n\t\t\t});\n\t\t\tif (order2.join('') !== '0123456789') {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\t\tvar test3 = {};\n\t\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\t\ttest3[letter] = letter;\n\t\t\t});\n\t\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t} catch (err) {\n\t\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tvar objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n\t\tvar from;\n\t\tvar to = toObject(target);\n\t\tvar symbols;\n\n\t\tfor (var s = 1; s < arguments.length; s++) {\n\t\t\tfrom = Object(arguments[s]);\n\n\t\t\tfor (var key in from) {\n\t\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\t\tto[key] = from[key];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (getOwnPropertySymbols) {\n\t\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn to;\n\t};\n\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\n\tvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\n\tvar ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\n\t{\n\t  var invariant$1 = invariant_1;\n\t  var warning$1 = warning_1;\n\t  var ReactPropTypesSecret$1 = ReactPropTypesSecret_1;\n\t  var loggedTypeFailures = {};\n\t}\n\n\t/**\n\t * Assert that the values match with the type specs.\n\t * Error messages are memorized and will only be shown once.\n\t *\n\t * @param {object} typeSpecs Map of name to a ReactPropType\n\t * @param {object} values Runtime values that need to be type-checked\n\t * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n\t * @param {string} componentName Name of the component for error messages.\n\t * @param {?Function} getStack Returns the component stack.\n\t * @private\n\t */\n\tfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n\t  {\n\t    for (var typeSpecName in typeSpecs) {\n\t      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n\t        var error;\n\t        // Prop type validation may throw. In case they do, we don't want to\n\t        // fail the render phase where it didn't fail before. So we log it.\n\t        // After these have been cleaned up, we'll let them throw.\n\t        try {\n\t          // This is intentionally an invariant that gets caught. It's the same\n\t          // behavior as without this statement except with a better message.\n\t          invariant$1(typeof typeSpecs[typeSpecName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'the `prop-types` package, but received `%s`.', componentName || 'React class', location, typeSpecName, typeof typeSpecs[typeSpecName]);\n\t          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret$1);\n\t        } catch (ex) {\n\t          error = ex;\n\t        }\n\t        warning$1(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error);\n\t        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n\t          // Only monitor this failure once because there tends to be a lot of the\n\t          // same error.\n\t          loggedTypeFailures[error.message] = true;\n\n\t          var stack = getStack ? getStack() : '';\n\n\t          warning$1(false, 'Failed %s type: %s%s', location, error.message, stack != null ? stack : '');\n\t        }\n\t      }\n\t    }\n\t  }\n\t}\n\n\tvar checkPropTypes_1 = checkPropTypes;\n\n\tvar factoryWithTypeCheckers = function(isValidElement, throwOnDirectAccess) {\n\t  /* global Symbol */\n\t  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n\t  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n\t  /**\n\t   * Returns the iterator method function contained on the iterable object.\n\t   *\n\t   * Be sure to invoke the function with the iterable as context:\n\t   *\n\t   *     var iteratorFn = getIteratorFn(myIterable);\n\t   *     if (iteratorFn) {\n\t   *       var iterator = iteratorFn.call(myIterable);\n\t   *       ...\n\t   *     }\n\t   *\n\t   * @param {?object} maybeIterable\n\t   * @return {?function}\n\t   */\n\t  function getIteratorFn(maybeIterable) {\n\t    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n\t    if (typeof iteratorFn === 'function') {\n\t      return iteratorFn;\n\t    }\n\t  }\n\n\t  /**\n\t   * Collection of methods that allow declaration and validation of props that are\n\t   * supplied to React components. Example usage:\n\t   *\n\t   *   var Props = require('ReactPropTypes');\n\t   *   var MyArticle = React.createClass({\n\t   *     propTypes: {\n\t   *       // An optional string prop named \"description\".\n\t   *       description: Props.string,\n\t   *\n\t   *       // A required enum prop named \"category\".\n\t   *       category: Props.oneOf(['News','Photos']).isRequired,\n\t   *\n\t   *       // A prop named \"dialog\" that requires an instance of Dialog.\n\t   *       dialog: Props.instanceOf(Dialog).isRequired\n\t   *     },\n\t   *     render: function() { ... }\n\t   *   });\n\t   *\n\t   * A more formal specification of how these methods are used:\n\t   *\n\t   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n\t   *   decl := ReactPropTypes.{type}(.isRequired)?\n\t   *\n\t   * Each and every declaration produces a function with the same signature. This\n\t   * allows the creation of custom validation functions. For example:\n\t   *\n\t   *  var MyLink = React.createClass({\n\t   *    propTypes: {\n\t   *      // An optional string or URI prop named \"href\".\n\t   *      href: function(props, propName, componentName) {\n\t   *        var propValue = props[propName];\n\t   *        if (propValue != null && typeof propValue !== 'string' &&\n\t   *            !(propValue instanceof URI)) {\n\t   *          return new Error(\n\t   *            'Expected a string or an URI for ' + propName + ' in ' +\n\t   *            componentName\n\t   *          );\n\t   *        }\n\t   *      }\n\t   *    },\n\t   *    render: function() {...}\n\t   *  });\n\t   *\n\t   * @internal\n\t   */\n\n\t  var ANONYMOUS = '<<anonymous>>';\n\n\t  // Important!\n\t  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n\t  var ReactPropTypes = {\n\t    array: createPrimitiveTypeChecker('array'),\n\t    bool: createPrimitiveTypeChecker('boolean'),\n\t    func: createPrimitiveTypeChecker('function'),\n\t    number: createPrimitiveTypeChecker('number'),\n\t    object: createPrimitiveTypeChecker('object'),\n\t    string: createPrimitiveTypeChecker('string'),\n\t    symbol: createPrimitiveTypeChecker('symbol'),\n\n\t    any: createAnyTypeChecker(),\n\t    arrayOf: createArrayOfTypeChecker,\n\t    element: createElementTypeChecker(),\n\t    instanceOf: createInstanceTypeChecker,\n\t    node: createNodeChecker(),\n\t    objectOf: createObjectOfTypeChecker,\n\t    oneOf: createEnumTypeChecker,\n\t    oneOfType: createUnionTypeChecker,\n\t    shape: createShapeTypeChecker,\n\t    exact: createStrictShapeTypeChecker,\n\t  };\n\n\t  /**\n\t   * inlined Object.is polyfill to avoid requiring consumers ship their own\n\t   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n\t   */\n\t  /*eslint-disable no-self-compare*/\n\t  function is(x, y) {\n\t    // SameValue algorithm\n\t    if (x === y) {\n\t      // Steps 1-5, 7-10\n\t      // Steps 6.b-6.e: +0 != -0\n\t      return x !== 0 || 1 / x === 1 / y;\n\t    } else {\n\t      // Step 6.a: NaN == NaN\n\t      return x !== x && y !== y;\n\t    }\n\t  }\n\t  /*eslint-enable no-self-compare*/\n\n\t  /**\n\t   * We use an Error-like object for backward compatibility as people may call\n\t   * PropTypes directly and inspect their output. However, we don't use real\n\t   * Errors anymore. We don't inspect their stack anyway, and creating them\n\t   * is prohibitively expensive if they are created too often, such as what\n\t   * happens in oneOfType() for any type before the one that matched.\n\t   */\n\t  function PropTypeError(message) {\n\t    this.message = message;\n\t    this.stack = '';\n\t  }\n\t  // Make `instanceof Error` still work for returned errors.\n\t  PropTypeError.prototype = Error.prototype;\n\n\t  function createChainableTypeChecker(validate) {\n\t    {\n\t      var manualPropTypeCallCache = {};\n\t      var manualPropTypeWarningCount = 0;\n\t    }\n\t    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n\t      componentName = componentName || ANONYMOUS;\n\t      propFullName = propFullName || propName;\n\n\t      if (secret !== ReactPropTypesSecret_1) {\n\t        if (throwOnDirectAccess) {\n\t          // New behavior only for users of `prop-types` package\n\t          invariant_1(\n\t            false,\n\t            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n\t            'Use `PropTypes.checkPropTypes()` to call them. ' +\n\t            'Read more at http://fb.me/use-check-prop-types'\n\t          );\n\t        } else if (\"development\" !== 'production' && typeof console !== 'undefined') {\n\t          // Old behavior for people using React.PropTypes\n\t          var cacheKey = componentName + ':' + propName;\n\t          if (\n\t            !manualPropTypeCallCache[cacheKey] &&\n\t            // Avoid spamming the console because they are often not actionable except for lib authors\n\t            manualPropTypeWarningCount < 3\n\t          ) {\n\t            warning_1(\n\t              false,\n\t              'You are manually calling a React.PropTypes validation ' +\n\t              'function for the `%s` prop on `%s`. This is deprecated ' +\n\t              'and will throw in the standalone `prop-types` package. ' +\n\t              'You may be seeing this warning due to a third-party PropTypes ' +\n\t              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.',\n\t              propFullName,\n\t              componentName\n\t            );\n\t            manualPropTypeCallCache[cacheKey] = true;\n\t            manualPropTypeWarningCount++;\n\t          }\n\t        }\n\t      }\n\t      if (props[propName] == null) {\n\t        if (isRequired) {\n\t          if (props[propName] === null) {\n\t            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n\t          }\n\t          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n\t        }\n\t        return null;\n\t      } else {\n\t        return validate(props, propName, componentName, location, propFullName);\n\t      }\n\t    }\n\n\t    var chainedCheckType = checkType.bind(null, false);\n\t    chainedCheckType.isRequired = checkType.bind(null, true);\n\n\t    return chainedCheckType;\n\t  }\n\n\t  function createPrimitiveTypeChecker(expectedType) {\n\t    function validate(props, propName, componentName, location, propFullName, secret) {\n\t      var propValue = props[propName];\n\t      var propType = getPropType(propValue);\n\t      if (propType !== expectedType) {\n\t        // `propValue` being instance of, say, date/regexp, pass the 'object'\n\t        // check, but we can offer a more precise error message here rather than\n\t        // 'of type `object`'.\n\t        var preciseType = getPreciseType(propValue);\n\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\n\t  function createAnyTypeChecker() {\n\t    return createChainableTypeChecker(emptyFunction_1.thatReturnsNull);\n\t  }\n\n\t  function createArrayOfTypeChecker(typeChecker) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      if (typeof typeChecker !== 'function') {\n\t        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n\t      }\n\t      var propValue = props[propName];\n\t      if (!Array.isArray(propValue)) {\n\t        var propType = getPropType(propValue);\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n\t      }\n\t      for (var i = 0; i < propValue.length; i++) {\n\t        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret_1);\n\t        if (error instanceof Error) {\n\t          return error;\n\t        }\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\n\t  function createElementTypeChecker() {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      var propValue = props[propName];\n\t      if (!isValidElement(propValue)) {\n\t        var propType = getPropType(propValue);\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\n\t  function createInstanceTypeChecker(expectedClass) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      if (!(props[propName] instanceof expectedClass)) {\n\t        var expectedClassName = expectedClass.name || ANONYMOUS;\n\t        var actualClassName = getClassName(props[propName]);\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\n\t  function createEnumTypeChecker(expectedValues) {\n\t    if (!Array.isArray(expectedValues)) {\n\t      warning_1(false, 'Invalid argument supplied to oneOf, expected an instance of array.');\n\t      return emptyFunction_1.thatReturnsNull;\n\t    }\n\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      var propValue = props[propName];\n\t      for (var i = 0; i < expectedValues.length; i++) {\n\t        if (is(propValue, expectedValues[i])) {\n\t          return null;\n\t        }\n\t      }\n\n\t      var valuesString = JSON.stringify(expectedValues);\n\t      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\n\t  function createObjectOfTypeChecker(typeChecker) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      if (typeof typeChecker !== 'function') {\n\t        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n\t      }\n\t      var propValue = props[propName];\n\t      var propType = getPropType(propValue);\n\t      if (propType !== 'object') {\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n\t      }\n\t      for (var key in propValue) {\n\t        if (propValue.hasOwnProperty(key)) {\n\t          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n\t          if (error instanceof Error) {\n\t            return error;\n\t          }\n\t        }\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\n\t  function createUnionTypeChecker(arrayOfTypeCheckers) {\n\t    if (!Array.isArray(arrayOfTypeCheckers)) {\n\t      warning_1(false, 'Invalid argument supplied to oneOfType, expected an instance of array.');\n\t      return emptyFunction_1.thatReturnsNull;\n\t    }\n\n\t    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n\t      var checker = arrayOfTypeCheckers[i];\n\t      if (typeof checker !== 'function') {\n\t        warning_1(\n\t          false,\n\t          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n\t          'received %s at index %s.',\n\t          getPostfixForTypeWarning(checker),\n\t          i\n\t        );\n\t        return emptyFunction_1.thatReturnsNull;\n\t      }\n\t    }\n\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n\t        var checker = arrayOfTypeCheckers[i];\n\t        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret_1) == null) {\n\t          return null;\n\t        }\n\t      }\n\n\t      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\n\t  function createNodeChecker() {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      if (!isNode(props[propName])) {\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\n\t  function createShapeTypeChecker(shapeTypes) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      var propValue = props[propName];\n\t      var propType = getPropType(propValue);\n\t      if (propType !== 'object') {\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n\t      }\n\t      for (var key in shapeTypes) {\n\t        var checker = shapeTypes[key];\n\t        if (!checker) {\n\t          continue;\n\t        }\n\t        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n\t        if (error) {\n\t          return error;\n\t        }\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\n\t  function createStrictShapeTypeChecker(shapeTypes) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      var propValue = props[propName];\n\t      var propType = getPropType(propValue);\n\t      if (propType !== 'object') {\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n\t      }\n\t      // We need to check all keys in case some are required but missing from\n\t      // props.\n\t      var allKeys = objectAssign({}, props[propName], shapeTypes);\n\t      for (var key in allKeys) {\n\t        var checker = shapeTypes[key];\n\t        if (!checker) {\n\t          return new PropTypeError(\n\t            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n\t            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n\t            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n\t          );\n\t        }\n\t        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n\t        if (error) {\n\t          return error;\n\t        }\n\t      }\n\t      return null;\n\t    }\n\n\t    return createChainableTypeChecker(validate);\n\t  }\n\n\t  function isNode(propValue) {\n\t    switch (typeof propValue) {\n\t      case 'number':\n\t      case 'string':\n\t      case 'undefined':\n\t        return true;\n\t      case 'boolean':\n\t        return !propValue;\n\t      case 'object':\n\t        if (Array.isArray(propValue)) {\n\t          return propValue.every(isNode);\n\t        }\n\t        if (propValue === null || isValidElement(propValue)) {\n\t          return true;\n\t        }\n\n\t        var iteratorFn = getIteratorFn(propValue);\n\t        if (iteratorFn) {\n\t          var iterator = iteratorFn.call(propValue);\n\t          var step;\n\t          if (iteratorFn !== propValue.entries) {\n\t            while (!(step = iterator.next()).done) {\n\t              if (!isNode(step.value)) {\n\t                return false;\n\t              }\n\t            }\n\t          } else {\n\t            // Iterator will provide entry [k,v] tuples rather than values.\n\t            while (!(step = iterator.next()).done) {\n\t              var entry = step.value;\n\t              if (entry) {\n\t                if (!isNode(entry[1])) {\n\t                  return false;\n\t                }\n\t              }\n\t            }\n\t          }\n\t        } else {\n\t          return false;\n\t        }\n\n\t        return true;\n\t      default:\n\t        return false;\n\t    }\n\t  }\n\n\t  function isSymbol(propType, propValue) {\n\t    // Native Symbol.\n\t    if (propType === 'symbol') {\n\t      return true;\n\t    }\n\n\t    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\t    if (propValue['@@toStringTag'] === 'Symbol') {\n\t      return true;\n\t    }\n\n\t    // Fallback for non-spec compliant Symbols which are polyfilled.\n\t    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n\t      return true;\n\t    }\n\n\t    return false;\n\t  }\n\n\t  // Equivalent of `typeof` but with special handling for array and regexp.\n\t  function getPropType(propValue) {\n\t    var propType = typeof propValue;\n\t    if (Array.isArray(propValue)) {\n\t      return 'array';\n\t    }\n\t    if (propValue instanceof RegExp) {\n\t      // Old webkits (at least until Android 4.0) return 'function' rather than\n\t      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n\t      // passes PropTypes.object.\n\t      return 'object';\n\t    }\n\t    if (isSymbol(propType, propValue)) {\n\t      return 'symbol';\n\t    }\n\t    return propType;\n\t  }\n\n\t  // This handles more types than `getPropType`. Only used for error messages.\n\t  // See `createPrimitiveTypeChecker`.\n\t  function getPreciseType(propValue) {\n\t    if (typeof propValue === 'undefined' || propValue === null) {\n\t      return '' + propValue;\n\t    }\n\t    var propType = getPropType(propValue);\n\t    if (propType === 'object') {\n\t      if (propValue instanceof Date) {\n\t        return 'date';\n\t      } else if (propValue instanceof RegExp) {\n\t        return 'regexp';\n\t      }\n\t    }\n\t    return propType;\n\t  }\n\n\t  // Returns a string that is postfixed to a warning about an invalid type.\n\t  // For example, \"undefined\" or \"of type array\"\n\t  function getPostfixForTypeWarning(value) {\n\t    var type = getPreciseType(value);\n\t    switch (type) {\n\t      case 'array':\n\t      case 'object':\n\t        return 'an ' + type;\n\t      case 'boolean':\n\t      case 'date':\n\t      case 'regexp':\n\t        return 'a ' + type;\n\t      default:\n\t        return type;\n\t    }\n\t  }\n\n\t  // Returns class name of the object, if any.\n\t  function getClassName(propValue) {\n\t    if (!propValue.constructor || !propValue.constructor.name) {\n\t      return ANONYMOUS;\n\t    }\n\t    return propValue.constructor.name;\n\t  }\n\n\t  ReactPropTypes.checkPropTypes = checkPropTypes_1;\n\t  ReactPropTypes.PropTypes = ReactPropTypes;\n\n\t  return ReactPropTypes;\n\t};\n\n\tvar propTypes = createCommonjsModule(function (module) {\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\n\t{\n\t  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n\t    Symbol.for &&\n\t    Symbol.for('react.element')) ||\n\t    0xeac7;\n\n\t  var isValidElement = function(object) {\n\t    return typeof object === 'object' &&\n\t      object !== null &&\n\t      object.$$typeof === REACT_ELEMENT_TYPE;\n\t  };\n\n\t  // By explicitly using `prop-types` you are opting into new development behavior.\n\t  // http://fb.me/prop-types-in-prod\n\t  var throwOnDirectAccess = true;\n\t  module.exports = factoryWithTypeCheckers(isValidElement, throwOnDirectAccess);\n\t}\n\t});\n\n\tvar classnames = createCommonjsModule(function (module) {\n\t/*!\n\t  Copyright (c) 2016 Jed Watson.\n\t  Licensed under the MIT License (MIT), see\n\t  http://jedwatson.github.io/classnames\n\t*/\n\t/* global define */\n\n\t(function () {\n\n\t\tvar hasOwn = {}.hasOwnProperty;\n\n\t\tfunction classNames () {\n\t\t\tvar classes = [];\n\n\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\tvar arg = arguments[i];\n\t\t\t\tif (!arg) continue;\n\n\t\t\t\tvar argType = typeof arg;\n\n\t\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\t\tclasses.push(arg);\n\t\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn classes.join(' ');\n\t\t}\n\n\t\tif ('object' !== 'undefined' && module.exports) {\n\t\t\tmodule.exports = classNames;\n\t\t} else if (false) {\n\t\t\t// register as 'classnames', consistent with npm package name\n\t\t\tundefined('classnames', [], function () {\n\t\t\t\treturn classNames;\n\t\t\t});\n\t\t} else {\n\t\t\twindow.classNames = classNames;\n\t\t}\n\t}());\n\t});\n\n\t// @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc\n\tfunction findInArray(array /*: Array<any> | TouchList*/, callback /*: Function*/) /*: any*/ {\n\t  for (var i = 0, length = array.length; i < length; i++) {\n\t    if (callback.apply(callback, [array[i], i, array])) return array[i];\n\t  }\n\t}\n\n\tfunction isFunction(func /*: any*/) /*: boolean*/ {\n\t  return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';\n\t}\n\n\tfunction isNum(num /*: any*/) /*: boolean*/ {\n\t  return typeof num === 'number' && !isNaN(num);\n\t}\n\n\tfunction int(a /*: string*/) /*: number*/ {\n\t  return parseInt(a, 10);\n\t}\n\n\tfunction dontSetMe(props /*: Object*/, propName /*: string*/, componentName /*: string*/) {\n\t  if (props[propName]) {\n\t    return new Error('Invalid prop ' + propName + ' passed to ' + componentName + ' - do not set this, set it on the child.');\n\t  }\n\t}\n\n\tvar prefixes = ['Moz', 'Webkit', 'O', 'ms'];\n\tfunction getPrefix() /*: string*/ {\n\t  var prop /*: string*/ = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform';\n\n\t  // Checking specifically for 'window.document' is for pseudo-browser server-side\n\t  // environments that define 'window' as the global context.\n\t  // E.g. React-rails (see https://github.com/reactjs/react-rails/pull/84)\n\t  if (typeof window === 'undefined' || typeof window.document === 'undefined') return '';\n\n\t  var style = window.document.documentElement.style;\n\n\t  if (prop in style) return '';\n\n\t  for (var i = 0; i < prefixes.length; i++) {\n\t    if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];\n\t  }\n\n\t  return '';\n\t}\n\n\tfunction browserPrefixToKey(prop /*: string*/, prefix /*: string*/) /*: string*/ {\n\t  return prefix ? '' + prefix + kebabToTitleCase(prop) : prop;\n\t}\n\n\tfunction kebabToTitleCase(str /*: string*/) /*: string*/ {\n\t  var out = '';\n\t  var shouldCapitalize = true;\n\t  for (var i = 0; i < str.length; i++) {\n\t    if (shouldCapitalize) {\n\t      out += str[i].toUpperCase();\n\t      shouldCapitalize = false;\n\t    } else if (str[i] === '-') {\n\t      shouldCapitalize = true;\n\t    } else {\n\t      out += str[i];\n\t    }\n\t  }\n\t  return out;\n\t}\n\n\t// Default export is the prefix itself, like 'Moz', 'Webkit', etc\n\t// Note that you may have to re-test for certain things; for instance, Chrome 50\n\t// can handle unprefixed `transform`, but not unprefixed `user-select`\n\tvar browserPrefix = getPrefix();\n\n\tvar classCallCheck = function (instance, Constructor) {\n\t  if (!(instance instanceof Constructor)) {\n\t    throw new TypeError(\"Cannot call a class as a function\");\n\t  }\n\t};\n\n\tvar createClass = function () {\n\t  function defineProperties(target, props) {\n\t    for (var i = 0; i < props.length; i++) {\n\t      var descriptor = props[i];\n\t      descriptor.enumerable = descriptor.enumerable || false;\n\t      descriptor.configurable = true;\n\t      if (\"value\" in descriptor) descriptor.writable = true;\n\t      Object.defineProperty(target, descriptor.key, descriptor);\n\t    }\n\t  }\n\n\t  return function (Constructor, protoProps, staticProps) {\n\t    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n\t    if (staticProps) defineProperties(Constructor, staticProps);\n\t    return Constructor;\n\t  };\n\t}();\n\n\tvar defineProperty = function (obj, key, value) {\n\t  if (key in obj) {\n\t    Object.defineProperty(obj, key, {\n\t      value: value,\n\t      enumerable: true,\n\t      configurable: true,\n\t      writable: true\n\t    });\n\t  } else {\n\t    obj[key] = value;\n\t  }\n\n\t  return obj;\n\t};\n\n\tvar _extends = Object.assign || function (target) {\n\t  for (var i = 1; i < arguments.length; i++) {\n\t    var source = arguments[i];\n\n\t    for (var key in source) {\n\t      if (Object.prototype.hasOwnProperty.call(source, key)) {\n\t        target[key] = source[key];\n\t      }\n\t    }\n\t  }\n\n\t  return target;\n\t};\n\n\tvar inherits = function (subClass, superClass) {\n\t  if (typeof superClass !== \"function\" && superClass !== null) {\n\t    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n\t  }\n\n\t  subClass.prototype = Object.create(superClass && superClass.prototype, {\n\t    constructor: {\n\t      value: subClass,\n\t      enumerable: false,\n\t      writable: true,\n\t      configurable: true\n\t    }\n\t  });\n\t  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n\t};\n\n\tvar possibleConstructorReturn = function (self, call) {\n\t  if (!self) {\n\t    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n\t  }\n\n\t  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n\t};\n\n\tvar slicedToArray = function () {\n\t  function sliceIterator(arr, i) {\n\t    var _arr = [];\n\t    var _n = true;\n\t    var _d = false;\n\t    var _e = undefined;\n\n\t    try {\n\t      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n\t        _arr.push(_s.value);\n\n\t        if (i && _arr.length === i) break;\n\t      }\n\t    } catch (err) {\n\t      _d = true;\n\t      _e = err;\n\t    } finally {\n\t      try {\n\t        if (!_n && _i[\"return\"]) _i[\"return\"]();\n\t      } finally {\n\t        if (_d) throw _e;\n\t      }\n\t    }\n\n\t    return _arr;\n\t  }\n\n\t  return function (arr, i) {\n\t    if (Array.isArray(arr)) {\n\t      return arr;\n\t    } else if (Symbol.iterator in Object(arr)) {\n\t      return sliceIterator(arr, i);\n\t    } else {\n\t      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n\t    }\n\t  };\n\t}();\n\n\t/*:: import type {ControlPosition, PositionOffsetControlPosition, MouseTouchEvent} from './types';*/\n\n\n\tvar matchesSelectorFunc = '';\n\tfunction matchesSelector(el /*: Node*/, selector /*: string*/) /*: boolean*/ {\n\t  if (!matchesSelectorFunc) {\n\t    matchesSelectorFunc = findInArray(['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'], function (method) {\n\t      // $FlowIgnore: Doesn't think elements are indexable\n\t      return isFunction(el[method]);\n\t    });\n\t  }\n\n\t  // Might not be found entirely (not an Element?) - in that case, bail\n\t  // $FlowIgnore: Doesn't think elements are indexable\n\t  if (!isFunction(el[matchesSelectorFunc])) return false;\n\n\t  // $FlowIgnore: Doesn't think elements are indexable\n\t  return el[matchesSelectorFunc](selector);\n\t}\n\n\t// Works up the tree to the draggable itself attempting to match selector.\n\tfunction matchesSelectorAndParentsTo(el /*: Node*/, selector /*: string*/, baseNode /*: Node*/) /*: boolean*/ {\n\t  var node = el;\n\t  do {\n\t    if (matchesSelector(node, selector)) return true;\n\t    if (node === baseNode) return false;\n\t    node = node.parentNode;\n\t  } while (node);\n\n\t  return false;\n\t}\n\n\tfunction addEvent(el /*: ?Node*/, event /*: string*/, handler /*: Function*/) /*: void*/ {\n\t  if (!el) {\n\t    return;\n\t  }\n\t  if (el.attachEvent) {\n\t    el.attachEvent('on' + event, handler);\n\t  } else if (el.addEventListener) {\n\t    el.addEventListener(event, handler, true);\n\t  } else {\n\t    // $FlowIgnore: Doesn't think elements are indexable\n\t    el['on' + event] = handler;\n\t  }\n\t}\n\n\tfunction removeEvent(el /*: ?Node*/, event /*: string*/, handler /*: Function*/) /*: void*/ {\n\t  if (!el) {\n\t    return;\n\t  }\n\t  if (el.detachEvent) {\n\t    el.detachEvent('on' + event, handler);\n\t  } else if (el.removeEventListener) {\n\t    el.removeEventListener(event, handler, true);\n\t  } else {\n\t    // $FlowIgnore: Doesn't think elements are indexable\n\t    el['on' + event] = null;\n\t  }\n\t}\n\n\tfunction outerHeight(node /*: HTMLElement*/) /*: number*/ {\n\t  // This is deliberately excluding margin for our calculations, since we are using\n\t  // offsetTop which is including margin. See getBoundPosition\n\t  var height = node.clientHeight;\n\t  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n\t  height += int(computedStyle.borderTopWidth);\n\t  height += int(computedStyle.borderBottomWidth);\n\t  return height;\n\t}\n\n\tfunction outerWidth(node /*: HTMLElement*/) /*: number*/ {\n\t  // This is deliberately excluding margin for our calculations, since we are using\n\t  // offsetLeft which is including margin. See getBoundPosition\n\t  var width = node.clientWidth;\n\t  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n\t  width += int(computedStyle.borderLeftWidth);\n\t  width += int(computedStyle.borderRightWidth);\n\t  return width;\n\t}\n\tfunction innerHeight(node /*: HTMLElement*/) /*: number*/ {\n\t  var height = node.clientHeight;\n\t  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n\t  height -= int(computedStyle.paddingTop);\n\t  height -= int(computedStyle.paddingBottom);\n\t  return height;\n\t}\n\n\tfunction innerWidth(node /*: HTMLElement*/) /*: number*/ {\n\t  var width = node.clientWidth;\n\t  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n\t  width -= int(computedStyle.paddingLeft);\n\t  width -= int(computedStyle.paddingRight);\n\t  return width;\n\t}\n\n\t// Get from offsetParent\n\tfunction offsetXYFromParent(evt /*: {clientX: number, clientY: number}*/, offsetParent /*: HTMLElement*/) /*: ControlPosition*/ {\n\t  var isBody = offsetParent === offsetParent.ownerDocument.body;\n\t  var offsetParentRect = isBody ? { left: 0, top: 0 } : offsetParent.getBoundingClientRect();\n\n\t  var x = evt.clientX + offsetParent.scrollLeft - offsetParentRect.left;\n\t  var y = evt.clientY + offsetParent.scrollTop - offsetParentRect.top;\n\n\t  return { x: x, y: y };\n\t}\n\n\tfunction createCSSTransform(controlPos /*: ControlPosition*/, positionOffset /*: PositionOffsetControlPosition*/) /*: Object*/ {\n\t  var translation = getTranslation(controlPos, positionOffset, 'px');\n\t  return defineProperty({}, browserPrefixToKey('transform', browserPrefix), translation);\n\t}\n\n\tfunction createSVGTransform(controlPos /*: ControlPosition*/, positionOffset /*: PositionOffsetControlPosition*/) /*: string*/ {\n\t  var translation = getTranslation(controlPos, positionOffset, '');\n\t  return translation;\n\t}\n\tfunction getTranslation(_ref2, positionOffset /*: PositionOffsetControlPosition*/, unitSuffix /*: string*/) /*: string*/ {\n\t  var x = _ref2.x,\n\t      y = _ref2.y;\n\n\t  var translation = 'translate(' + x + unitSuffix + ',' + y + unitSuffix + ')';\n\t  if (positionOffset) {\n\t    var defaultX = '' + (typeof positionOffset.x === 'string' ? positionOffset.x : positionOffset.x + unitSuffix);\n\t    var defaultY = '' + (typeof positionOffset.y === 'string' ? positionOffset.y : positionOffset.y + unitSuffix);\n\t    translation = 'translate(' + defaultX + ', ' + defaultY + ')' + translation;\n\t  }\n\t  return translation;\n\t}\n\n\tfunction getTouch(e /*: MouseTouchEvent*/, identifier /*: number*/) /*: ?{clientX: number, clientY: number}*/ {\n\t  return e.targetTouches && findInArray(e.targetTouches, function (t) {\n\t    return identifier === t.identifier;\n\t  }) || e.changedTouches && findInArray(e.changedTouches, function (t) {\n\t    return identifier === t.identifier;\n\t  });\n\t}\n\n\tfunction getTouchIdentifier(e /*: MouseTouchEvent*/) /*: ?number*/ {\n\t  if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;\n\t  if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;\n\t}\n\n\t// User-select Hacks:\n\t//\n\t// Useful for preventing blue highlights all over everything when dragging.\n\n\t// Note we're passing `document` b/c we could be iframed\n\tfunction addUserSelectStyles(doc /*: ?Document*/) {\n\t  if (!doc) return;\n\t  var styleEl = doc.getElementById('react-draggable-style-el');\n\t  if (!styleEl) {\n\t    styleEl = doc.createElement('style');\n\t    styleEl.type = 'text/css';\n\t    styleEl.id = 'react-draggable-style-el';\n\t    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {background: transparent;}\\n';\n\t    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {background: transparent;}\\n';\n\t    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n\t  }\n\t  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n\t}\n\n\tfunction removeUserSelectStyles(doc /*: ?Document*/) {\n\t  try {\n\t    if (doc && doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection');\n\t    // $FlowIgnore: IE\n\t    if (doc.selection) {\n\t      // $FlowIgnore: IE\n\t      doc.selection.empty();\n\t    } else {\n\t      window.getSelection().removeAllRanges(); // remove selection caused by scroll\n\t    }\n\t  } catch (e) {\n\t    // probably IE\n\t  }\n\t}\n\n\tfunction styleHacks() /*: Object*/ {\n\t  var childStyle /*: Object*/ = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t  // Workaround IE pointer events; see #51\n\t  // https://github.com/mzabriskie/react-draggable/issues/51#issuecomment-103488278\n\t  return _extends({\n\t    touchAction: 'none'\n\t  }, childStyle);\n\t}\n\n\tfunction addClassName(el /*: HTMLElement*/, className /*: string*/) {\n\t  if (el.classList) {\n\t    el.classList.add(className);\n\t  } else {\n\t    if (!el.className.match(new RegExp('(?:^|\\\\s)' + className + '(?!\\\\S)'))) {\n\t      el.className += ' ' + className;\n\t    }\n\t  }\n\t}\n\n\tfunction removeClassName(el /*: HTMLElement*/, className /*: string*/) {\n\t  if (el.classList) {\n\t    el.classList.remove(className);\n\t  } else {\n\t    el.className = el.className.replace(new RegExp('(?:^|\\\\s)' + className + '(?!\\\\S)', 'g'), '');\n\t  }\n\t}\n\n\t/*:: import type Draggable from '../Draggable';*/\n\t/*:: import type {Bounds, ControlPosition, DraggableData, MouseTouchEvent} from './types';*/\n\t/*:: import type DraggableCore from '../DraggableCore';*/\n\n\n\tfunction getBoundPosition(draggable /*: Draggable*/, x /*: number*/, y /*: number*/) /*: [number, number]*/ {\n\t  // If no bounds, short-circuit and move on\n\t  if (!draggable.props.bounds) return [x, y];\n\n\t  // Clone new bounds\n\t  var bounds = draggable.props.bounds;\n\n\t  bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);\n\t  var node = findDOMNode(draggable);\n\n\t  if (typeof bounds === 'string') {\n\t    var ownerDocument = node.ownerDocument;\n\n\t    var ownerWindow = ownerDocument.defaultView;\n\t    var boundNode = void 0;\n\t    if (bounds === 'parent') {\n\t      boundNode = node.parentNode;\n\t    } else {\n\t      boundNode = ownerDocument.querySelector(bounds);\n\t    }\n\t    if (!(boundNode instanceof ownerWindow.HTMLElement)) {\n\t      throw new Error('Bounds selector \"' + bounds + '\" could not find an element.');\n\t    }\n\t    var nodeStyle = ownerWindow.getComputedStyle(node);\n\t    var boundNodeStyle = ownerWindow.getComputedStyle(boundNode);\n\t    // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.\n\t    bounds = {\n\t      left: -node.offsetLeft + int(boundNodeStyle.paddingLeft) + int(nodeStyle.marginLeft),\n\t      top: -node.offsetTop + int(boundNodeStyle.paddingTop) + int(nodeStyle.marginTop),\n\t      right: innerWidth(boundNode) - outerWidth(node) - node.offsetLeft + int(boundNodeStyle.paddingRight) - int(nodeStyle.marginRight),\n\t      bottom: innerHeight(boundNode) - outerHeight(node) - node.offsetTop + int(boundNodeStyle.paddingBottom) - int(nodeStyle.marginBottom)\n\t    };\n\t  }\n\n\t  // Keep x and y below right and bottom limits...\n\t  if (isNum(bounds.right)) x = Math.min(x, bounds.right);\n\t  if (isNum(bounds.bottom)) y = Math.min(y, bounds.bottom);\n\n\t  // But above left and top limits.\n\t  if (isNum(bounds.left)) x = Math.max(x, bounds.left);\n\t  if (isNum(bounds.top)) y = Math.max(y, bounds.top);\n\n\t  return [x, y];\n\t}\n\n\tfunction snapToGrid(grid /*: [number, number]*/, pendingX /*: number*/, pendingY /*: number*/) /*: [number, number]*/ {\n\t  var x = Math.round(pendingX / grid[0]) * grid[0];\n\t  var y = Math.round(pendingY / grid[1]) * grid[1];\n\t  return [x, y];\n\t}\n\n\tfunction canDragX(draggable /*: Draggable*/) /*: boolean*/ {\n\t  return draggable.props.axis === 'both' || draggable.props.axis === 'x';\n\t}\n\n\tfunction canDragY(draggable /*: Draggable*/) /*: boolean*/ {\n\t  return draggable.props.axis === 'both' || draggable.props.axis === 'y';\n\t}\n\n\t// Get {x, y} positions from event.\n\tfunction getControlPosition(e /*: MouseTouchEvent*/, touchIdentifier /*: ?number*/, draggableCore /*: DraggableCore*/) /*: ?ControlPosition*/ {\n\t  var touchObj = typeof touchIdentifier === 'number' ? getTouch(e, touchIdentifier) : null;\n\t  if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch\n\t  var node = findDOMNode(draggableCore);\n\t  // User can provide an offsetParent if desired.\n\t  var offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;\n\t  return offsetXYFromParent(touchObj || e, offsetParent);\n\t}\n\n\t// Create an data object exposed by <DraggableCore>'s events\n\tfunction createCoreData(draggable /*: DraggableCore*/, x /*: number*/, y /*: number*/) /*: DraggableData*/ {\n\t  var state = draggable.state;\n\t  var isStart = !isNum(state.lastX);\n\t  var node = findDOMNode(draggable);\n\n\t  if (isStart) {\n\t    // If this is our first move, use the x and y as last coords.\n\t    return {\n\t      node: node,\n\t      deltaX: 0, deltaY: 0,\n\t      lastX: x, lastY: y,\n\t      x: x, y: y\n\t    };\n\t  } else {\n\t    // Otherwise calculate proper values.\n\t    return {\n\t      node: node,\n\t      deltaX: x - state.lastX, deltaY: y - state.lastY,\n\t      lastX: state.lastX, lastY: state.lastY,\n\t      x: x, y: y\n\t    };\n\t  }\n\t}\n\n\t// Create an data exposed by <Draggable>'s events\n\tfunction createDraggableData(draggable /*: Draggable*/, coreData /*: DraggableData*/) /*: DraggableData*/ {\n\t  var scale = draggable.props.scale;\n\t  return {\n\t    node: coreData.node,\n\t    x: draggable.state.x + coreData.deltaX / scale,\n\t    y: draggable.state.y + coreData.deltaY / scale,\n\t    deltaX: coreData.deltaX / scale,\n\t    deltaY: coreData.deltaY / scale,\n\t    lastX: draggable.state.x,\n\t    lastY: draggable.state.y\n\t  };\n\t}\n\n\t// A lot faster than stringify/parse\n\tfunction cloneBounds(bounds /*: Bounds*/) /*: Bounds*/ {\n\t  return {\n\t    left: bounds.left,\n\t    top: bounds.top,\n\t    right: bounds.right,\n\t    bottom: bounds.bottom\n\t  };\n\t}\n\n\tfunction findDOMNode(draggable /*: Draggable | DraggableCore*/) /*: HTMLElement*/ {\n\t  var node = ReactDOM.findDOMNode(draggable);\n\t  if (!node) {\n\t    throw new Error('<DraggableCore>: Unmounted during event!');\n\t  }\n\t  // $FlowIgnore we can't assert on HTMLElement due to tests... FIXME\n\t  return node;\n\t}\n\n\t/*eslint no-console:0*/\n\tfunction log() {\n\t}\n\n\t/*:: import type {EventHandler, MouseTouchEvent} from './utils/types';*/\n\n\n\t// Simple abstraction for dragging events names.\n\t/*:: import type {Element as ReactElement} from 'react';*/\n\tvar eventsFor = {\n\t  touch: {\n\t    start: 'touchstart',\n\t    move: 'touchmove',\n\t    stop: 'touchend'\n\t  },\n\t  mouse: {\n\t    start: 'mousedown',\n\t    move: 'mousemove',\n\t    stop: 'mouseup'\n\t  }\n\t};\n\n\t// Default to mouse events.\n\tvar dragEventFor = eventsFor.mouse;\n\n\t/*:: type DraggableCoreState = {\n\t  dragging: boolean,\n\t  lastX: number,\n\t  lastY: number,\n\t  touchIdentifier: ?number\n\t};*/\n\t/*:: export type DraggableBounds = {\n\t  left: number,\n\t  right: number,\n\t  top: number,\n\t  bottom: number,\n\t};*/\n\t/*:: export type DraggableData = {\n\t  node: HTMLElement,\n\t  x: number, y: number,\n\t  deltaX: number, deltaY: number,\n\t  lastX: number, lastY: number,\n\t};*/\n\t/*:: export type DraggableEventHandler = (e: MouseEvent, data: DraggableData) => void;*/\n\t/*:: export type ControlPosition = {x: number, y: number};*/\n\t/*:: export type PositionOffsetControlPosition = {x: number|string, y: number|string};*/\n\n\n\t//\n\t// Define <DraggableCore>.\n\t//\n\t// <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can\n\t// work well with libraries that require more control over the element.\n\t//\n\n\t/*:: export type DraggableCoreProps = {\n\t  allowAnyClick: boolean,\n\t  cancel: string,\n\t  children: ReactElement<any>,\n\t  disabled: boolean,\n\t  enableUserSelectHack: boolean,\n\t  offsetParent: HTMLElement,\n\t  grid: [number, number],\n\t  handle: string,\n\t  onStart: DraggableEventHandler,\n\t  onDrag: DraggableEventHandler,\n\t  onStop: DraggableEventHandler,\n\t  onMouseDown: (e: MouseEvent) => void,\n\t};*/\n\n\tvar DraggableCore = function (_React$Component) {\n\t  inherits(DraggableCore, _React$Component);\n\n\t  function DraggableCore() {\n\t    var _ref;\n\n\t    var _temp, _this, _ret;\n\n\t    classCallCheck(this, DraggableCore);\n\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\n\t    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = DraggableCore.__proto__ || Object.getPrototypeOf(DraggableCore)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n\t      dragging: false,\n\t      // Used while dragging to determine deltas.\n\t      lastX: NaN, lastY: NaN,\n\t      touchIdentifier: null\n\t    }, _this.handleDragStart = function (e) {\n\t      // Make it possible to attach event handlers on top of this one.\n\t      _this.props.onMouseDown(e);\n\n\t      // Only accept left-clicks.\n\t      if (!_this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false;\n\n\t      // Get nodes. Be sure to grab relative document (could be iframed)\n\t      var thisNode = ReactDOM.findDOMNode(_this);\n\t      if (!thisNode || !thisNode.ownerDocument || !thisNode.ownerDocument.body) {\n\t        throw new Error('<DraggableCore> not mounted on DragStart!');\n\t      }\n\t      var ownerDocument = thisNode.ownerDocument;\n\n\t      // Short circuit if handle or cancel prop was provided and selector doesn't match.\n\n\t      if (_this.props.disabled || !(e.target instanceof ownerDocument.defaultView.Node) || _this.props.handle && !matchesSelectorAndParentsTo(e.target, _this.props.handle, thisNode) || _this.props.cancel && matchesSelectorAndParentsTo(e.target, _this.props.cancel, thisNode)) {\n\t        return;\n\t      }\n\n\t      // Set touch identifier in component state if this is a touch event. This allows us to\n\t      // distinguish between individual touches on multitouch screens by identifying which\n\t      // touchpoint was set to this element.\n\t      var touchIdentifier = getTouchIdentifier(e);\n\t      _this.setState({ touchIdentifier: touchIdentifier });\n\n\t      // Get the current drag point from the event. This is used as the offset.\n\t      var position = getControlPosition(e, touchIdentifier, _this);\n\t      if (position == null) return; // not possible but satisfies flow\n\t      var x = position.x,\n\t          y = position.y;\n\n\t      // Create an event object with all the data parents need to make a decision here.\n\n\t      var coreEvent = createCoreData(_this, x, y);\n\n\t      // Call event handler. If it returns explicit false, cancel.\n\t      log('calling', _this.props.onStart);\n\t      var shouldUpdate = _this.props.onStart(e, coreEvent);\n\t      if (shouldUpdate === false) return;\n\n\t      // Add a style to the body to disable user-select. This prevents text from\n\t      // being selected all over the page.\n\t      if (_this.props.enableUserSelectHack) addUserSelectStyles(ownerDocument);\n\n\t      // Initiate dragging. Set the current x and y as offsets\n\t      // so we know how much we've moved during the drag. This allows us\n\t      // to drag elements around even if they have been moved, without issue.\n\t      _this.setState({\n\t        dragging: true,\n\n\t        lastX: x,\n\t        lastY: y\n\t      });\n\n\t      // Add events to the document directly so we catch when the user's mouse/touch moves outside of\n\t      // this element. We use different events depending on whether or not we have detected that this\n\t      // is a touch-capable device.\n\t      addEvent(ownerDocument, dragEventFor.move, _this.handleDrag);\n\t      addEvent(ownerDocument, dragEventFor.stop, _this.handleDragStop);\n\t    }, _this.handleDrag = function (e) {\n\n\t      // Prevent scrolling on mobile devices, like ipad/iphone.\n\t      if (e.type === 'touchmove') e.preventDefault();\n\n\t      // Get the current drag point from the event. This is used as the offset.\n\t      var position = getControlPosition(e, _this.state.touchIdentifier, _this);\n\t      if (position == null) return;\n\t      var x = position.x,\n\t          y = position.y;\n\n\t      // Snap to grid if prop has been provided\n\n\t      if (Array.isArray(_this.props.grid)) {\n\t        var _deltaX = x - _this.state.lastX,\n\t            _deltaY = y - _this.state.lastY;\n\n\t        var _snapToGrid = snapToGrid(_this.props.grid, _deltaX, _deltaY);\n\n\t        var _snapToGrid2 = slicedToArray(_snapToGrid, 2);\n\n\t        _deltaX = _snapToGrid2[0];\n\t        _deltaY = _snapToGrid2[1];\n\n\t        if (!_deltaX && !_deltaY) return; // skip useless drag\n\t        x = _this.state.lastX + _deltaX, y = _this.state.lastY + _deltaY;\n\t      }\n\n\t      var coreEvent = createCoreData(_this, x, y);\n\n\t      // Call event handler. If it returns explicit false, trigger end.\n\t      var shouldUpdate = _this.props.onDrag(e, coreEvent);\n\t      if (shouldUpdate === false) {\n\t        try {\n\t          // $FlowIgnore\n\t          _this.handleDragStop(new MouseEvent('mouseup'));\n\t        } catch (err) {\n\t          // Old browsers\n\t          var event = ((document.createEvent('MouseEvents') /*: any*/) /*: MouseTouchEvent*/);\n\t          // I see why this insanity was deprecated\n\t          // $FlowIgnore\n\t          event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\t          _this.handleDragStop(event);\n\t        }\n\t        return;\n\t      }\n\n\t      _this.setState({\n\t        lastX: x,\n\t        lastY: y\n\t      });\n\t    }, _this.handleDragStop = function (e) {\n\t      if (!_this.state.dragging) return;\n\n\t      var position = getControlPosition(e, _this.state.touchIdentifier, _this);\n\t      if (position == null) return;\n\t      var x = position.x,\n\t          y = position.y;\n\n\t      var coreEvent = createCoreData(_this, x, y);\n\n\t      var thisNode = ReactDOM.findDOMNode(_this);\n\t      if (thisNode) {\n\t        // Remove user-select hack\n\t        if (_this.props.enableUserSelectHack) removeUserSelectStyles(thisNode.ownerDocument);\n\t      }\n\n\t      // Reset the el.\n\t      _this.setState({\n\t        dragging: false,\n\t        lastX: NaN,\n\t        lastY: NaN\n\t      });\n\n\t      // Call event handler\n\t      _this.props.onStop(e, coreEvent);\n\n\t      if (thisNode) {\n\t        removeEvent(thisNode.ownerDocument, dragEventFor.move, _this.handleDrag);\n\t        removeEvent(thisNode.ownerDocument, dragEventFor.stop, _this.handleDragStop);\n\t      }\n\t    }, _this.onMouseDown = function (e) {\n\t      dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse\n\n\t      return _this.handleDragStart(e);\n\t    }, _this.onMouseUp = function (e) {\n\t      dragEventFor = eventsFor.mouse;\n\n\t      return _this.handleDragStop(e);\n\t    }, _this.onTouchStart = function (e) {\n\t      // We're on a touch device now, so change the event handlers\n\t      dragEventFor = eventsFor.touch;\n\n\t      return _this.handleDragStart(e);\n\t    }, _this.onTouchEnd = function (e) {\n\t      // We're on a touch device now, so change the event handlers\n\t      dragEventFor = eventsFor.touch;\n\n\t      return _this.handleDragStop(e);\n\t    }, _temp), possibleConstructorReturn(_this, _ret);\n\t  }\n\n\t  createClass(DraggableCore, [{\n\t    key: 'componentWillUnmount',\n\t    value: function componentWillUnmount() {\n\t      // Remove any leftover event handlers. Remove both touch and mouse handlers in case\n\t      // some browser quirk caused a touch event to fire during a mouse move, or vice versa.\n\t      var thisNode = ReactDOM.findDOMNode(this);\n\t      if (thisNode) {\n\t        var ownerDocument = thisNode.ownerDocument;\n\n\t        removeEvent(ownerDocument, eventsFor.mouse.move, this.handleDrag);\n\t        removeEvent(ownerDocument, eventsFor.touch.move, this.handleDrag);\n\t        removeEvent(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);\n\t        removeEvent(ownerDocument, eventsFor.touch.stop, this.handleDragStop);\n\t        if (this.props.enableUserSelectHack) removeUserSelectStyles(ownerDocument);\n\t      }\n\t    }\n\n\t    // Same as onMouseDown (start drag), but now consider this a touch device.\n\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      // Reuse the child provided\n\t      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n\t      return React.cloneElement(React.Children.only(this.props.children), {\n\t        style: styleHacks(this.props.children.props.style),\n\n\t        // Note: mouseMove handler is attached to document so it will still function\n\t        // when the user drags quickly and leaves the bounds of the element.\n\t        onMouseDown: this.onMouseDown,\n\t        onTouchStart: this.onTouchStart,\n\t        onMouseUp: this.onMouseUp,\n\t        onTouchEnd: this.onTouchEnd\n\t      });\n\t    }\n\t  }]);\n\t  return DraggableCore;\n\t}(React.Component);\n\n\tDraggableCore.displayName = 'DraggableCore';\n\tDraggableCore.propTypes = {\n\t  /**\n\t   * `allowAnyClick` allows dragging using any mouse button.\n\t   * By default, we only accept the left button.\n\t   *\n\t   * Defaults to `false`.\n\t   */\n\t  allowAnyClick: propTypes.bool,\n\n\t  /**\n\t   * `disabled`, if true, stops the <Draggable> from dragging. All handlers,\n\t   * with the exception of `onMouseDown`, will not fire.\n\t   */\n\t  disabled: propTypes.bool,\n\n\t  /**\n\t   * By default, we add 'user-select:none' attributes to the document body\n\t   * to prevent ugly text selection during drag. If this is causing problems\n\t   * for your app, set this to `false`.\n\t   */\n\t  enableUserSelectHack: propTypes.bool,\n\n\t  /**\n\t   * `offsetParent`, if set, uses the passed DOM node to compute drag offsets\n\t   * instead of using the parent node.\n\t   */\n\t  offsetParent: function offsetParent(props /*: DraggableCoreProps*/, propName /*: $Keys<DraggableCoreProps>*/) {\n\t    if (props[propName] && props[propName].nodeType !== 1) {\n\t      throw new Error('Draggable\\'s offsetParent must be a DOM Node.');\n\t    }\n\t  },\n\n\t  /**\n\t   * `grid` specifies the x and y that dragging should snap to.\n\t   */\n\t  grid: propTypes.arrayOf(propTypes.number),\n\n\t  /**\n\t   * `scale` specifies the scale of the area you are dragging inside of. It allows\n\t   * the drag deltas to scale correctly with how far zoomed in/out you are.\n\t   */\n\t  scale: propTypes.number,\n\n\t  /**\n\t   * `handle` specifies a selector to be used as the handle that initiates drag.\n\t   *\n\t   * Example:\n\t   *\n\t   * ```jsx\n\t   *   let App = React.createClass({\n\t   *       render: function () {\n\t   *         return (\n\t   *            <Draggable handle=\".handle\">\n\t   *              <div>\n\t   *                  <div className=\"handle\">Click me to drag</div>\n\t   *                  <div>This is some other content</div>\n\t   *              </div>\n\t   *           </Draggable>\n\t   *         );\n\t   *       }\n\t   *   });\n\t   * ```\n\t   */\n\t  handle: propTypes.string,\n\n\t  /**\n\t   * `cancel` specifies a selector to be used to prevent drag initialization.\n\t   *\n\t   * Example:\n\t   *\n\t   * ```jsx\n\t   *   let App = React.createClass({\n\t   *       render: function () {\n\t   *           return(\n\t   *               <Draggable cancel=\".cancel\">\n\t   *                   <div>\n\t   *                     <div className=\"cancel\">You can't drag from here</div>\n\t   *                     <div>Dragging here works fine</div>\n\t   *                   </div>\n\t   *               </Draggable>\n\t   *           );\n\t   *       }\n\t   *   });\n\t   * ```\n\t   */\n\t  cancel: propTypes.string,\n\n\t  /**\n\t   * Called when dragging starts.\n\t   * If this function returns the boolean false, dragging will be canceled.\n\t   */\n\t  onStart: propTypes.func,\n\n\t  /**\n\t   * Called while dragging.\n\t   * If this function returns the boolean false, dragging will be canceled.\n\t   */\n\t  onDrag: propTypes.func,\n\n\t  /**\n\t   * Called when dragging stops.\n\t   * If this function returns the boolean false, the drag will remain active.\n\t   */\n\t  onStop: propTypes.func,\n\n\t  /**\n\t   * A workaround option which can be passed if onMouseDown needs to be accessed,\n\t   * since it'll always be blocked (as there is internal use of onMouseDown)\n\t   */\n\t  onMouseDown: propTypes.func,\n\n\t  /**\n\t   * These properties should be defined on the child, not here.\n\t   */\n\t  className: dontSetMe,\n\t  style: dontSetMe,\n\t  transform: dontSetMe\n\t};\n\tDraggableCore.defaultProps = {\n\t  allowAnyClick: false, // by default only accept left click\n\t  cancel: null,\n\t  disabled: false,\n\t  enableUserSelectHack: true,\n\t  offsetParent: null,\n\t  handle: null,\n\t  grid: null,\n\t  transform: null,\n\t  onStart: function onStart() {},\n\t  onDrag: function onDrag() {},\n\t  onStop: function onStop() {},\n\t  onMouseDown: function onMouseDown() {}\n\t};\n\n\t/*:: import type {DraggableEventHandler} from './utils/types';*/\n\t/*:: import type {Element as ReactElement} from 'react';*/\n\t/*:: type DraggableState = {\n\t  dragging: boolean,\n\t  dragged: boolean,\n\t  x: number, y: number,\n\t  slackX: number, slackY: number,\n\t  isElementSVG: boolean\n\t};*/\n\n\n\t//\n\t// Define <Draggable>\n\t//\n\n\t/*:: export type DraggableProps = {\n\t  ...$Exact<DraggableCoreProps>,\n\t  axis: 'both' | 'x' | 'y' | 'none',\n\t  bounds: DraggableBounds | string | false,\n\t  defaultClassName: string,\n\t  defaultClassNameDragging: string,\n\t  defaultClassNameDragged: string,\n\t  defaultPosition: ControlPosition,\n\t  positionOffset: PositionOffsetControlPosition,\n\t  position: ControlPosition,\n\t  scale: number\n\t};*/\n\n\tvar Draggable = function (_React$Component) {\n\t  inherits(Draggable, _React$Component);\n\n\t  function Draggable(props /*: DraggableProps*/) {\n\t    classCallCheck(this, Draggable);\n\n\t    var _this = possibleConstructorReturn(this, (Draggable.__proto__ || Object.getPrototypeOf(Draggable)).call(this, props));\n\n\t    _this.onDragStart = function (e, coreData) {\n\n\t      // Short-circuit if user's callback killed it.\n\t      var shouldStart = _this.props.onStart(e, createDraggableData(_this, coreData));\n\t      // Kills start event on core as well, so move handlers are never bound.\n\t      if (shouldStart === false) return false;\n\n\t      _this.setState({ dragging: true, dragged: true });\n\t    };\n\n\t    _this.onDrag = function (e, coreData) {\n\t      if (!_this.state.dragging) return false;\n\n\t      var uiData = createDraggableData(_this, coreData);\n\n\t      var newState /*: $Shape<DraggableState>*/ = {\n\t        x: uiData.x,\n\t        y: uiData.y\n\t      };\n\n\t      // Keep within bounds.\n\t      if (_this.props.bounds) {\n\t        // Save original x and y.\n\t        var _x = newState.x,\n\t            _y = newState.y;\n\n\t        // Add slack to the values used to calculate bound position. This will ensure that if\n\t        // we start removing slack, the element won't react to it right away until it's been\n\t        // completely removed.\n\n\t        newState.x += _this.state.slackX;\n\t        newState.y += _this.state.slackY;\n\n\t        // Get bound position. This will ceil/floor the x and y within the boundaries.\n\n\t        var _getBoundPosition = getBoundPosition(_this, newState.x, newState.y),\n\t            _getBoundPosition2 = slicedToArray(_getBoundPosition, 2),\n\t            newStateX = _getBoundPosition2[0],\n\t            newStateY = _getBoundPosition2[1];\n\n\t        newState.x = newStateX;\n\t        newState.y = newStateY;\n\n\t        // Recalculate slack by noting how much was shaved by the boundPosition handler.\n\t        newState.slackX = _this.state.slackX + (_x - newState.x);\n\t        newState.slackY = _this.state.slackY + (_y - newState.y);\n\n\t        // Update the event we fire to reflect what really happened after bounds took effect.\n\t        uiData.x = newState.x;\n\t        uiData.y = newState.y;\n\t        uiData.deltaX = newState.x - _this.state.x;\n\t        uiData.deltaY = newState.y - _this.state.y;\n\t      }\n\n\t      // Short-circuit if user's callback killed it.\n\t      var shouldUpdate = _this.props.onDrag(e, uiData);\n\t      if (shouldUpdate === false) return false;\n\n\t      _this.setState(newState);\n\t    };\n\n\t    _this.onDragStop = function (e, coreData) {\n\t      if (!_this.state.dragging) return false;\n\n\t      // Short-circuit if user's callback killed it.\n\t      var shouldStop = _this.props.onStop(e, createDraggableData(_this, coreData));\n\t      if (shouldStop === false) return false;\n\n\t      var newState /*: $Shape<DraggableState>*/ = {\n\t        dragging: false,\n\t        slackX: 0,\n\t        slackY: 0\n\t      };\n\n\t      // If this is a controlled component, the result of this operation will be to\n\t      // revert back to the old position. We expect a handler on `onDragStop`, at the least.\n\t      var controlled = Boolean(_this.props.position);\n\t      if (controlled) {\n\t        var _this$props$position = _this.props.position,\n\t            _x2 = _this$props$position.x,\n\t            _y2 = _this$props$position.y;\n\n\t        newState.x = _x2;\n\t        newState.y = _y2;\n\t      }\n\n\t      _this.setState(newState);\n\t    };\n\n\t    _this.state = {\n\t      // Whether or not we are currently dragging.\n\t      dragging: false,\n\n\t      // Whether or not we have been dragged before.\n\t      dragged: false,\n\n\t      // Current transform x and y.\n\t      x: props.position ? props.position.x : props.defaultPosition.x,\n\t      y: props.position ? props.position.y : props.defaultPosition.y,\n\n\t      // Used for compensating for out-of-bounds drags\n\t      slackX: 0, slackY: 0,\n\n\t      // Can only determine if SVG after mounting\n\t      isElementSVG: false\n\t    };\n\t    return _this;\n\t  }\n\n\t  createClass(Draggable, [{\n\t    key: 'componentWillMount',\n\t    value: function componentWillMount() {\n\t      if (this.props.position && !(this.props.onDrag || this.props.onStop)) {\n\t        // eslint-disable-next-line\n\t        console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' + 'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' + '`position` of this element.');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      // Check to see if the element passed is an instanceof SVGElement\n\t      if (typeof window.SVGElement !== 'undefined' && ReactDOM.findDOMNode(this) instanceof window.SVGElement) {\n\t        this.setState({ isElementSVG: true });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'componentWillReceiveProps',\n\t    value: function componentWillReceiveProps(nextProps /*: Object*/) {\n\t      // Set x/y if position has changed\n\t      if (nextProps.position && (!this.props.position || nextProps.position.x !== this.props.position.x || nextProps.position.y !== this.props.position.y)) {\n\t        this.setState({ x: nextProps.position.x, y: nextProps.position.y });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'componentWillUnmount',\n\t    value: function componentWillUnmount() {\n\t      this.setState({ dragging: false }); // prevents invariant if unmounted while dragging\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() /*: ReactElement<any>*/ {\n\t      var _classNames;\n\n\t      var style = {},\n\t          svgTransform = null;\n\n\t      // If this is controlled, we don't want to move it - unless it's dragging.\n\t      var controlled = Boolean(this.props.position);\n\t      var draggable = !controlled || this.state.dragging;\n\n\t      var position = this.props.position || this.props.defaultPosition;\n\t      var transformOpts = {\n\t        // Set left if horizontal drag is enabled\n\t        x: canDragX(this) && draggable ? this.state.x : position.x,\n\n\t        // Set top if vertical drag is enabled\n\t        y: canDragY(this) && draggable ? this.state.y : position.y\n\t      };\n\n\t      // If this element was SVG, we use the `transform` attribute.\n\t      if (this.state.isElementSVG) {\n\t        svgTransform = createSVGTransform(transformOpts, this.props.positionOffset);\n\t      } else {\n\t        // Add a CSS transform to move the element around. This allows us to move the element around\n\t        // without worrying about whether or not it is relatively or absolutely positioned.\n\t        // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>\n\t        // has a clean slate.\n\t        style = createCSSTransform(transformOpts, this.props.positionOffset);\n\t      }\n\n\t      var _props = this.props,\n\t          defaultClassName = _props.defaultClassName,\n\t          defaultClassNameDragging = _props.defaultClassNameDragging,\n\t          defaultClassNameDragged = _props.defaultClassNameDragged;\n\n\n\t      var children = React.Children.only(this.props.children);\n\n\t      // Mark with class while dragging\n\t      var className = classnames(children.props.className || '', defaultClassName, (_classNames = {}, defineProperty(_classNames, defaultClassNameDragging, this.state.dragging), defineProperty(_classNames, defaultClassNameDragged, this.state.dragged), _classNames));\n\n\t      // Reuse the child provided\n\t      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n\t      return React.createElement(\n\t        DraggableCore,\n\t        _extends({}, this.props, { onStart: this.onDragStart, onDrag: this.onDrag, onStop: this.onDragStop }),\n\t        React.cloneElement(children, {\n\t          className: className,\n\t          style: _extends({}, children.props.style, style),\n\t          transform: svgTransform\n\t        })\n\t      );\n\t    }\n\t  }]);\n\t  return Draggable;\n\t}(React.Component);\n\n\tDraggable.displayName = 'Draggable';\n\tDraggable.propTypes = _extends({}, DraggableCore.propTypes, {\n\n\t  /**\n\t   * `axis` determines which axis the draggable can move.\n\t   *\n\t   *  Note that all callbacks will still return data as normal. This only\n\t   *  controls flushing to the DOM.\n\t   *\n\t   * 'both' allows movement horizontally and vertically.\n\t   * 'x' limits movement to horizontal axis.\n\t   * 'y' limits movement to vertical axis.\n\t   * 'none' limits all movement.\n\t   *\n\t   * Defaults to 'both'.\n\t   */\n\t  axis: propTypes.oneOf(['both', 'x', 'y', 'none']),\n\n\t  /**\n\t   * `bounds` determines the range of movement available to the element.\n\t   * Available values are:\n\t   *\n\t   * 'parent' restricts movement within the Draggable's parent node.\n\t   *\n\t   * Alternatively, pass an object with the following properties, all of which are optional:\n\t   *\n\t   * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}\n\t   *\n\t   * All values are in px.\n\t   *\n\t   * Example:\n\t   *\n\t   * ```jsx\n\t   *   let App = React.createClass({\n\t   *       render: function () {\n\t   *         return (\n\t   *            <Draggable bounds={{right: 300, bottom: 300}}>\n\t   *              <div>Content</div>\n\t   *           </Draggable>\n\t   *         );\n\t   *       }\n\t   *   });\n\t   * ```\n\t   */\n\t  bounds: propTypes.oneOfType([propTypes.shape({\n\t    left: propTypes.number,\n\t    right: propTypes.number,\n\t    top: propTypes.number,\n\t    bottom: propTypes.number\n\t  }), propTypes.string, propTypes.oneOf([false])]),\n\n\t  defaultClassName: propTypes.string,\n\t  defaultClassNameDragging: propTypes.string,\n\t  defaultClassNameDragged: propTypes.string,\n\n\t  /**\n\t   * `defaultPosition` specifies the x and y that the dragged item should start at\n\t   *\n\t   * Example:\n\t   *\n\t   * ```jsx\n\t   *      let App = React.createClass({\n\t   *          render: function () {\n\t   *              return (\n\t   *                  <Draggable defaultPosition={{x: 25, y: 25}}>\n\t   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n\t   *                  </Draggable>\n\t   *              );\n\t   *          }\n\t   *      });\n\t   * ```\n\t   */\n\t  defaultPosition: propTypes.shape({\n\t    x: propTypes.number,\n\t    y: propTypes.number\n\t  }),\n\t  positionOffset: propTypes.shape({\n\t    x: propTypes.oneOfType([propTypes.number, propTypes.string]),\n\t    y: propTypes.oneOfType([propTypes.number, propTypes.string])\n\t  }),\n\n\t  /**\n\t   * `position`, if present, defines the current position of the element.\n\t   *\n\t   *  This is similar to how form elements in React work - if no `position` is supplied, the component\n\t   *  is uncontrolled.\n\t   *\n\t   * Example:\n\t   *\n\t   * ```jsx\n\t   *      let App = React.createClass({\n\t   *          render: function () {\n\t   *              return (\n\t   *                  <Draggable position={{x: 25, y: 25}}>\n\t   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n\t   *                  </Draggable>\n\t   *              );\n\t   *          }\n\t   *      });\n\t   * ```\n\t   */\n\t  position: propTypes.shape({\n\t    x: propTypes.number,\n\t    y: propTypes.number\n\t  }),\n\n\t  /**\n\t   * These properties should be defined on the child, not here.\n\t   */\n\t  className: dontSetMe,\n\t  style: dontSetMe,\n\t  transform: dontSetMe\n\t});\n\tDraggable.defaultProps = _extends({}, DraggableCore.defaultProps, {\n\t  axis: 'both',\n\t  bounds: false,\n\t  defaultClassName: 'react-draggable',\n\t  defaultClassNameDragging: 'react-draggable-dragging',\n\t  defaultClassNameDragged: 'react-draggable-dragged',\n\t  defaultPosition: { x: 0, y: 0 },\n\t  position: null,\n\t  scale: 1\n\t});\n\n\t// Previous versions of this lib exported <Draggable> as the root export. As to not break\n\t// them, or TypeScript, we export *both* as the root and as 'default'.\n\t// See https://github.com/mzabriskie/react-draggable/pull/254\n\t// and https://github.com/mzabriskie/react-draggable/issues/266\n\tDraggable.default = Draggable;\n\tDraggable.DraggableCore = DraggableCore;\n\n\treturn Draggable;\n\n})));\n//# sourceMappingURL=react-draggable.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vY29tbW9uLWNvbXBvbmVudHMvbm9kZV9tb2R1bGVzL3JlYWN0LWRyYWdnYWJsZS9kaXN0L3JlYWN0LWRyYWdnYWJsZS5qcz9lNjYyIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdyZWFjdC1kb20nKSwgcmVxdWlyZSgncmVhY3QnKSkgOlxuXHR0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydyZWFjdC1kb20nLCAncmVhY3QnXSwgZmFjdG9yeSkgOlxuXHQoZ2xvYmFsLlJlYWN0RHJhZ2dhYmxlID0gZmFjdG9yeShnbG9iYWwuUmVhY3RET00sZ2xvYmFsLlJlYWN0KSk7XG59KHRoaXMsIChmdW5jdGlvbiAoUmVhY3RET00sUmVhY3QpIHsgJ3VzZSBzdHJpY3QnO1xuXG5cdFJlYWN0RE9NID0gUmVhY3RET00gJiYgUmVhY3RET00uaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSA/IFJlYWN0RE9NWydkZWZhdWx0J10gOiBSZWFjdERPTTtcblx0UmVhY3QgPSBSZWFjdCAmJiBSZWFjdC5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdCcpID8gUmVhY3RbJ2RlZmF1bHQnXSA6IFJlYWN0O1xuXG5cdGZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBtb2R1bGUpIHtcblx0XHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG5cdH1cblxuXHQvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqXG5cdCAqIFxuXHQgKi9cblxuXHRmdW5jdGlvbiBtYWtlRW1wdHlGdW5jdGlvbihhcmcpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIGFyZztcblx0ICB9O1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhbmQgZGlzY2FyZHMgaW5wdXRzOyBpdCBoYXMgbm8gc2lkZSBlZmZlY3RzLiBUaGlzIGlzXG5cdCAqIHByaW1hcmlseSB1c2VmdWwgaWRpb21hdGljYWxseSBmb3Igb3ZlcnJpZGFibGUgZnVuY3Rpb24gZW5kcG9pbnRzIHdoaWNoXG5cdCAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG5cdCAqL1xuXHR2YXIgZW1wdHlGdW5jdGlvbiA9IGZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fTtcblxuXHRlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKGZhbHNlKTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWUgPSBtYWtlRW1wdHlGdW5jdGlvbih0cnVlKTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcblx0ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCA9IGZ1bmN0aW9uIChhcmcpIHtcblx0ICByZXR1cm4gYXJnO1xuXHR9O1xuXG5cdHZhciBlbXB0eUZ1bmN0aW9uXzEgPSBlbXB0eUZ1bmN0aW9uO1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cblx0ICpcblx0ICovXG5cblx0LyoqXG5cdCAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cblx0ICpcblx0ICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcblx0ICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG5cdCAqIGV4cGVjdGluZy5cblx0ICpcblx0ICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcblx0ICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuXHQgKi9cblxuXHR2YXIgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHt9O1xuXG5cdHtcblx0ICB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cblx0ZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG5cdCAgdmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtcblxuXHQgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICB2YXIgZXJyb3I7XG5cdCAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuXHQgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuXHQgICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuXHQgICAgICB9KSk7XG5cdCAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG5cdCAgICB9XG5cblx0ICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcblx0ICAgIHRocm93IGVycm9yO1xuXHQgIH1cblx0fVxuXG5cdHZhciBpbnZhcmlhbnRfMSA9IGludmFyaWFudDtcblxuXHQvKipcblx0ICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuXHQgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG5cdCAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG5cdCAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuXHQgKi9cblxuXHR2YXIgd2FybmluZyA9IGVtcHR5RnVuY3Rpb25fMTtcblxuXHR7XG5cdCAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIHByaW50V2FybmluZyhmb3JtYXQpIHtcblx0ICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblxuXHQgICAgdmFyIGFyZ0luZGV4ID0gMDtcblx0ICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0ICAgIH0pO1xuXHQgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuXHQgICAgfVxuXHQgICAgdHJ5IHtcblx0ICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuXHQgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcblx0ICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG5cdCAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcblx0ICAgIH0gY2F0Y2ggKHgpIHt9XG5cdCAgfTtcblxuXHQgIHdhcm5pbmcgPSBmdW5jdGlvbiB3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG5cdCAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKGZvcm1hdC5pbmRleE9mKCdGYWlsZWQgQ29tcG9zaXRlIHByb3BUeXBlOiAnKSA9PT0gMCkge1xuXHQgICAgICByZXR1cm47IC8vIElnbm9yZSBDb21wb3NpdGVDb21wb25lbnQgcHJvcHR5cGUgY2hlY2suXG5cdCAgICB9XG5cblx0ICAgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcblx0ICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuXHQgICAgICB9XG5cblx0ICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHVuZGVmaW5lZCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cblx0dmFyIHdhcm5pbmdfMSA9IHdhcm5pbmc7XG5cblx0Lypcblx0b2JqZWN0LWFzc2lnblxuXHQoYykgU2luZHJlIFNvcmh1c1xuXHRAbGljZW5zZSBNSVRcblx0Ki9cblx0LyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblx0dmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cdHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdHZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuXHRmdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0XHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHRcdH1cblxuXHRcdHJldHVybiBPYmplY3QodmFsKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0XHR0cnkge1xuXHRcdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0XHR9KTtcblx0XHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0XHR9KTtcblx0XHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0dmFyIG9iamVjdEFzc2lnbiA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHRcdHZhciBmcm9tO1xuXHRcdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdFx0dmFyIHN5bWJvbHM7XG5cblx0XHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdG87XG5cdH07XG5cblx0LyoqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuXHQgKi9cblxuXHR2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5cdHZhciBSZWFjdFByb3BUeXBlc1NlY3JldF8xID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG5cblx0e1xuXHQgIHZhciBpbnZhcmlhbnQkMSA9IGludmFyaWFudF8xO1xuXHQgIHZhciB3YXJuaW5nJDEgPSB3YXJuaW5nXzE7XG5cdCAgdmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0JDEgPSBSZWFjdFByb3BUeXBlc1NlY3JldF8xO1xuXHQgIHZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBc3NlcnQgdGhhdCB0aGUgdmFsdWVzIG1hdGNoIHdpdGggdGhlIHR5cGUgc3BlY3MuXG5cdCAqIEVycm9yIG1lc3NhZ2VzIGFyZSBtZW1vcml6ZWQgYW5kIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gdHlwZVNwZWNzIE1hcCBvZiBuYW1lIHRvIGEgUmVhY3RQcm9wVHlwZVxuXHQgKiBAcGFyYW0ge29iamVjdH0gdmFsdWVzIFJ1bnRpbWUgdmFsdWVzIHRoYXQgbmVlZCB0byBiZSB0eXBlLWNoZWNrZWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50TmFtZSBOYW1lIG9mIHRoZSBjb21wb25lbnQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuXHQgKiBAcGFyYW0gez9GdW5jdGlvbn0gZ2V0U3RhY2sgUmV0dXJucyB0aGUgY29tcG9uZW50IHN0YWNrLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXModHlwZVNwZWNzLCB2YWx1ZXMsIGxvY2F0aW9uLCBjb21wb25lbnROYW1lLCBnZXRTdGFjaykge1xuXHQgIHtcblx0ICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcblx0ICAgICAgaWYgKHR5cGVTcGVjcy5oYXNPd25Qcm9wZXJ0eSh0eXBlU3BlY05hbWUpKSB7XG5cdCAgICAgICAgdmFyIGVycm9yO1xuXHQgICAgICAgIC8vIFByb3AgdHlwZSB2YWxpZGF0aW9uIG1heSB0aHJvdy4gSW4gY2FzZSB0aGV5IGRvLCB3ZSBkb24ndCB3YW50IHRvXG5cdCAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuXHQgICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IGFuIGludmFyaWFudCB0aGF0IGdldHMgY2F1Z2h0LiBJdCdzIHRoZSBzYW1lXG5cdCAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG5cdCAgICAgICAgICBpbnZhcmlhbnQkMSh0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gPT09ICdmdW5jdGlvbicsICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgKyAndGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCVzYC4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSk7XG5cdCAgICAgICAgICBlcnJvciA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgUmVhY3RQcm9wVHlwZXNTZWNyZXQkMSk7XG5cdCAgICAgICAgfSBjYXRjaCAoZXgpIHtcblx0ICAgICAgICAgIGVycm9yID0gZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHdhcm5pbmckMSghZXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciwgJyVzOiB0eXBlIHNwZWNpZmljYXRpb24gb2YgJXMgYCVzYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgKyAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuICcgKyAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgKyAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgbG9jYXRpb24sIHR5cGVTcGVjTmFtZSwgdHlwZW9mIGVycm9yKTtcblx0ICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuXHQgICAgICAgICAgLy8gT25seSBtb25pdG9yIHRoaXMgZmFpbHVyZSBvbmNlIGJlY2F1c2UgdGhlcmUgdGVuZHMgdG8gYmUgYSBsb3Qgb2YgdGhlXG5cdCAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuXHQgICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yLm1lc3NhZ2VdID0gdHJ1ZTtcblxuXHQgICAgICAgICAgdmFyIHN0YWNrID0gZ2V0U3RhY2sgPyBnZXRTdGFjaygpIDogJyc7XG5cblx0ICAgICAgICAgIHdhcm5pbmckMShmYWxzZSwgJ0ZhaWxlZCAlcyB0eXBlOiAlcyVzJywgbG9jYXRpb24sIGVycm9yLm1lc3NhZ2UsIHN0YWNrICE9IG51bGwgPyBzdGFjayA6ICcnKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblxuXHR2YXIgY2hlY2tQcm9wVHlwZXNfMSA9IGNoZWNrUHJvcFR5cGVzO1xuXG5cdHZhciBmYWN0b3J5V2l0aFR5cGVDaGVja2VycyA9IGZ1bmN0aW9uKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG5cdCAgLyogZ2xvYmFsIFN5bWJvbCAqL1xuXHQgIHZhciBJVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcblx0ICB2YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblxuXHQgIC8qKlxuXHQgICAqIFJldHVybnMgdGhlIGl0ZXJhdG9yIG1ldGhvZCBmdW5jdGlvbiBjb250YWluZWQgb24gdGhlIGl0ZXJhYmxlIG9iamVjdC5cblx0ICAgKlxuXHQgICAqIEJlIHN1cmUgdG8gaW52b2tlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBpdGVyYWJsZSBhcyBjb250ZXh0OlxuXHQgICAqXG5cdCAgICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcblx0ICAgKiAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcblx0ICAgKiAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwobXlJdGVyYWJsZSk7XG5cdCAgICogICAgICAgLi4uXG5cdCAgICogICAgIH1cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuXHQgICAqIEByZXR1cm4gez9mdW5jdGlvbn1cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcblx0ICAgIHZhciBpdGVyYXRvckZuID0gbWF5YmVJdGVyYWJsZSAmJiAoSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXSk7XG5cdCAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgcmV0dXJuIGl0ZXJhdG9yRm47XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgLyoqXG5cdCAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIHRoYXQgYWxsb3cgZGVjbGFyYXRpb24gYW5kIHZhbGlkYXRpb24gb2YgcHJvcHMgdGhhdCBhcmVcblx0ICAgKiBzdXBwbGllZCB0byBSZWFjdCBjb21wb25lbnRzLiBFeGFtcGxlIHVzYWdlOlxuXHQgICAqXG5cdCAgICogICB2YXIgUHJvcHMgPSByZXF1aXJlKCdSZWFjdFByb3BUeXBlcycpO1xuXHQgICAqICAgdmFyIE15QXJ0aWNsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ICAgKiAgICAgcHJvcFR5cGVzOiB7XG5cdCAgICogICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIHByb3AgbmFtZWQgXCJkZXNjcmlwdGlvblwiLlxuXHQgICAqICAgICAgIGRlc2NyaXB0aW9uOiBQcm9wcy5zdHJpbmcsXG5cdCAgICpcblx0ICAgKiAgICAgICAvLyBBIHJlcXVpcmVkIGVudW0gcHJvcCBuYW1lZCBcImNhdGVnb3J5XCIuXG5cdCAgICogICAgICAgY2F0ZWdvcnk6IFByb3BzLm9uZU9mKFsnTmV3cycsJ1Bob3RvcyddKS5pc1JlcXVpcmVkLFxuXHQgICAqXG5cdCAgICogICAgICAgLy8gQSBwcm9wIG5hbWVkIFwiZGlhbG9nXCIgdGhhdCByZXF1aXJlcyBhbiBpbnN0YW5jZSBvZiBEaWFsb2cuXG5cdCAgICogICAgICAgZGlhbG9nOiBQcm9wcy5pbnN0YW5jZU9mKERpYWxvZykuaXNSZXF1aXJlZFxuXHQgICAqICAgICB9LFxuXHQgICAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkgeyAuLi4gfVxuXHQgICAqICAgfSk7XG5cdCAgICpcblx0ICAgKiBBIG1vcmUgZm9ybWFsIHNwZWNpZmljYXRpb24gb2YgaG93IHRoZXNlIG1ldGhvZHMgYXJlIHVzZWQ6XG5cdCAgICpcblx0ICAgKiAgIHR5cGUgOj0gYXJyYXl8Ym9vbHxmdW5jfG9iamVjdHxudW1iZXJ8c3RyaW5nfG9uZU9mKFsuLi5dKXxpbnN0YW5jZU9mKC4uLilcblx0ICAgKiAgIGRlY2wgOj0gUmVhY3RQcm9wVHlwZXMue3R5cGV9KC5pc1JlcXVpcmVkKT9cblx0ICAgKlxuXHQgICAqIEVhY2ggYW5kIGV2ZXJ5IGRlY2xhcmF0aW9uIHByb2R1Y2VzIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBzaWduYXR1cmUuIFRoaXNcblx0ICAgKiBhbGxvd3MgdGhlIGNyZWF0aW9uIG9mIGN1c3RvbSB2YWxpZGF0aW9uIGZ1bmN0aW9ucy4gRm9yIGV4YW1wbGU6XG5cdCAgICpcblx0ICAgKiAgdmFyIE15TGluayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ICAgKiAgICBwcm9wVHlwZXM6IHtcblx0ICAgKiAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBvciBVUkkgcHJvcCBuYW1lZCBcImhyZWZcIi5cblx0ICAgKiAgICAgIGhyZWY6IGZ1bmN0aW9uKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuXHQgICAqICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAqICAgICAgICBpZiAocHJvcFZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHByb3BWYWx1ZSAhPT0gJ3N0cmluZycgJiZcblx0ICAgKiAgICAgICAgICAgICEocHJvcFZhbHVlIGluc3RhbmNlb2YgVVJJKSkge1xuXHQgICAqICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXG5cdCAgICogICAgICAgICAgICAnRXhwZWN0ZWQgYSBzdHJpbmcgb3IgYW4gVVJJIGZvciAnICsgcHJvcE5hbWUgKyAnIGluICcgK1xuXHQgICAqICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuXHQgICAqICAgICAgICAgICk7XG5cdCAgICogICAgICAgIH1cblx0ICAgKiAgICAgIH1cblx0ICAgKiAgICB9LFxuXHQgICAqICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7Li4ufVxuXHQgICAqICB9KTtcblx0ICAgKlxuXHQgICAqIEBpbnRlcm5hbFxuXHQgICAqL1xuXG5cdCAgdmFyIEFOT05ZTU9VUyA9ICc8PGFub255bW91cz4+JztcblxuXHQgIC8vIEltcG9ydGFudCFcblx0ICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qc2AuXG5cdCAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuXHQgICAgYXJyYXk6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdhcnJheScpLFxuXHQgICAgYm9vbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Jvb2xlYW4nKSxcblx0ICAgIGZ1bmM6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdmdW5jdGlvbicpLFxuXHQgICAgbnVtYmVyOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignbnVtYmVyJyksXG5cdCAgICBvYmplY3Q6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdvYmplY3QnKSxcblx0ICAgIHN0cmluZzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N0cmluZycpLFxuXHQgICAgc3ltYm9sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3ltYm9sJyksXG5cblx0ICAgIGFueTogY3JlYXRlQW55VHlwZUNoZWNrZXIoKSxcblx0ICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcblx0ICAgIGVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpLFxuXHQgICAgaW5zdGFuY2VPZjogY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcixcblx0ICAgIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG5cdCAgICBvYmplY3RPZjogY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcixcblx0ICAgIG9uZU9mOiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIsXG5cdCAgICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG5cdCAgICBzaGFwZTogY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcixcblx0ICAgIGV4YWN0OiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyLFxuXHQgIH07XG5cblx0ICAvKipcblx0ICAgKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG5cdCAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG5cdCAgICovXG5cdCAgLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXHQgIGZ1bmN0aW9uIGlzKHgsIHkpIHtcblx0ICAgIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cblx0ICAgIGlmICh4ID09PSB5KSB7XG5cdCAgICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxuXHQgICAgICAvLyBTdGVwcyA2LmItNi5lOiArMCAhPSAtMFxuXHQgICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBTdGVwIDYuYTogTmFOID09IE5hTlxuXHQgICAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuXHQgICAgfVxuXHQgIH1cblx0ICAvKmVzbGludC1lbmFibGUgbm8tc2VsZi1jb21wYXJlKi9cblxuXHQgIC8qKlxuXHQgICAqIFdlIHVzZSBhbiBFcnJvci1saWtlIG9iamVjdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBhcyBwZW9wbGUgbWF5IGNhbGxcblx0ICAgKiBQcm9wVHlwZXMgZGlyZWN0bHkgYW5kIGluc3BlY3QgdGhlaXIgb3V0cHV0LiBIb3dldmVyLCB3ZSBkb24ndCB1c2UgcmVhbFxuXHQgICAqIEVycm9ycyBhbnltb3JlLiBXZSBkb24ndCBpbnNwZWN0IHRoZWlyIHN0YWNrIGFueXdheSwgYW5kIGNyZWF0aW5nIHRoZW1cblx0ICAgKiBpcyBwcm9oaWJpdGl2ZWx5IGV4cGVuc2l2ZSBpZiB0aGV5IGFyZSBjcmVhdGVkIHRvbyBvZnRlbiwgc3VjaCBhcyB3aGF0XG5cdCAgICogaGFwcGVucyBpbiBvbmVPZlR5cGUoKSBmb3IgYW55IHR5cGUgYmVmb3JlIHRoZSBvbmUgdGhhdCBtYXRjaGVkLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIFByb3BUeXBlRXJyb3IobWVzc2FnZSkge1xuXHQgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcblx0ICAgIHRoaXMuc3RhY2sgPSAnJztcblx0ICB9XG5cdCAgLy8gTWFrZSBgaW5zdGFuY2VvZiBFcnJvcmAgc3RpbGwgd29yayBmb3IgcmV0dXJuZWQgZXJyb3JzLlxuXHQgIFByb3BUeXBlRXJyb3IucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuXG5cdCAgZnVuY3Rpb24gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpIHtcblx0ICAgIHtcblx0ICAgICAgdmFyIG1hbnVhbFByb3BUeXBlQ2FsbENhY2hlID0ge307XG5cdCAgICAgIHZhciBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA9IDA7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjaGVja1R5cGUoaXNSZXF1aXJlZCwgcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcblx0ICAgICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuXHQgICAgICBwcm9wRnVsbE5hbWUgPSBwcm9wRnVsbE5hbWUgfHwgcHJvcE5hbWU7XG5cblx0ICAgICAgaWYgKHNlY3JldCAhPT0gUmVhY3RQcm9wVHlwZXNTZWNyZXRfMSkge1xuXHQgICAgICAgIGlmICh0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG5cdCAgICAgICAgICAvLyBOZXcgYmVoYXZpb3Igb25seSBmb3IgdXNlcnMgb2YgYHByb3AtdHlwZXNgIHBhY2thZ2Vcblx0ICAgICAgICAgIGludmFyaWFudF8xKFxuXHQgICAgICAgICAgICBmYWxzZSxcblx0ICAgICAgICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuXHQgICAgICAgICAgICAnVXNlIGBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKWAgdG8gY2FsbCB0aGVtLiAnICtcblx0ICAgICAgICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoXCJkZXZlbG9wbWVudFwiICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgICAvLyBPbGQgYmVoYXZpb3IgZm9yIHBlb3BsZSB1c2luZyBSZWFjdC5Qcm9wVHlwZXNcblx0ICAgICAgICAgIHZhciBjYWNoZUtleSA9IGNvbXBvbmVudE5hbWUgKyAnOicgKyBwcm9wTmFtZTtcblx0ICAgICAgICAgIGlmIChcblx0ICAgICAgICAgICAgIW1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSAmJlxuXHQgICAgICAgICAgICAvLyBBdm9pZCBzcGFtbWluZyB0aGUgY29uc29sZSBiZWNhdXNlIHRoZXkgYXJlIG9mdGVuIG5vdCBhY3Rpb25hYmxlIGV4Y2VwdCBmb3IgbGliIGF1dGhvcnNcblx0ICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPCAzXG5cdCAgICAgICAgICApIHtcblx0ICAgICAgICAgICAgd2FybmluZ18xKFxuXHQgICAgICAgICAgICAgIGZhbHNlLFxuXHQgICAgICAgICAgICAgICdZb3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgYSBSZWFjdC5Qcm9wVHlwZXMgdmFsaWRhdGlvbiAnICtcblx0ICAgICAgICAgICAgICAnZnVuY3Rpb24gZm9yIHRoZSBgJXNgIHByb3Agb24gYCVzYC4gVGhpcyBpcyBkZXByZWNhdGVkICcgK1xuXHQgICAgICAgICAgICAgICdhbmQgd2lsbCB0aHJvdyBpbiB0aGUgc3RhbmRhbG9uZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG5cdCAgICAgICAgICAgICAgJ1lvdSBtYXkgYmUgc2VlaW5nIHRoaXMgd2FybmluZyBkdWUgdG8gYSB0aGlyZC1wYXJ0eSBQcm9wVHlwZXMgJyArXG5cdCAgICAgICAgICAgICAgJ2xpYnJhcnkuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmctZG9udC1jYWxsLXByb3B0eXBlcyAnICsgJ2ZvciBkZXRhaWxzLicsXG5cdCAgICAgICAgICAgICAgcHJvcEZ1bGxOYW1lLFxuXHQgICAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGVbY2FjaGVLZXldID0gdHJ1ZTtcblx0ICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQrKztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG5cdCAgICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcblx0ICAgICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCAnICsgKCdpbiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgbnVsbGAuJykpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgdW5kZWZpbmVkYC4nKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHZhciBjaGFpbmVkQ2hlY2tUeXBlID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgZmFsc2UpO1xuXHQgICAgY2hhaW5lZENoZWNrVHlwZS5pc1JlcXVpcmVkID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgdHJ1ZSk7XG5cblx0ICAgIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xuXHQgIH1cblxuXHQgIGZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKGV4cGVjdGVkVHlwZSkge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSBleHBlY3RlZFR5cGUpIHtcblx0ICAgICAgICAvLyBgcHJvcFZhbHVlYCBiZWluZyBpbnN0YW5jZSBvZiwgc2F5LCBkYXRlL3JlZ2V4cCwgcGFzcyB0aGUgJ29iamVjdCdcblx0ICAgICAgICAvLyBjaGVjaywgYnV0IHdlIGNhbiBvZmZlciBhIG1vcmUgcHJlY2lzZSBlcnJvciBtZXNzYWdlIGhlcmUgcmF0aGVyIHRoYW5cblx0ICAgICAgICAvLyAnb2YgdHlwZSBgb2JqZWN0YCcuXG5cdCAgICAgICAgdmFyIHByZWNpc2VUeXBlID0gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKTtcblxuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByZWNpc2VUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdgJyArIGV4cGVjdGVkVHlwZSArICdgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gY3JlYXRlQW55VHlwZUNoZWNrZXIoKSB7XG5cdCAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZW1wdHlGdW5jdGlvbl8xLnRoYXRSZXR1cm5zTnVsbCk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIGFycmF5T2YuJyk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScsIFJlYWN0UHJvcFR5cGVzU2VjcmV0XzEpO1xuXHQgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdCAgICAgICAgICByZXR1cm4gZXJyb3I7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQuJykpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICBpZiAoIShwcm9wc1twcm9wTmFtZV0gaW5zdGFuY2VvZiBleHBlY3RlZENsYXNzKSkge1xuXHQgICAgICAgIHZhciBleHBlY3RlZENsYXNzTmFtZSA9IGV4cGVjdGVkQ2xhc3MubmFtZSB8fCBBTk9OWU1PVVM7XG5cdCAgICAgICAgdmFyIGFjdHVhbENsYXNzTmFtZSA9IGdldENsYXNzTmFtZShwcm9wc1twcm9wTmFtZV0pO1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIGFjdHVhbENsYXNzTmFtZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnaW5zdGFuY2Ugb2YgYCcgKyBleHBlY3RlZENsYXNzTmFtZSArICdgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gY3JlYXRlRW51bVR5cGVDaGVja2VyKGV4cGVjdGVkVmFsdWVzKSB7XG5cdCAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhwZWN0ZWRWYWx1ZXMpKSB7XG5cdCAgICAgIHdhcm5pbmdfMShmYWxzZSwgJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpO1xuXHQgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvbl8xLnRoYXRSZXR1cm5zTnVsbDtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoaXMocHJvcFZhbHVlLCBleHBlY3RlZFZhbHVlc1tpXSkpIHtcblx0ICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXG5cdCAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcyk7XG5cdCAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdmFsdWUgYCcgKyBwcm9wVmFsdWUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgb25lIG9mICcgKyB2YWx1ZXNTdHJpbmcgKyAnLicpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBvYmplY3RPZi4nKTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXHQgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gb2JqZWN0LicpKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcFZhbHVlKSB7XG5cdCAgICAgICAgaWYgKHByb3BWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdCAgICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXRfMSk7XG5cdCAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHQgICAgICAgICAgICByZXR1cm4gZXJyb3I7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiBjcmVhdGVVbmlvblR5cGVDaGVja2VyKGFycmF5T2ZUeXBlQ2hlY2tlcnMpIHtcblx0ICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheU9mVHlwZUNoZWNrZXJzKSkge1xuXHQgICAgICB3YXJuaW5nXzEoZmFsc2UsICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJyk7XG5cdCAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uXzEudGhhdFJldHVybnNOdWxsO1xuXHQgICAgfVxuXG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuXHQgICAgICBpZiAodHlwZW9mIGNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICB3YXJuaW5nXzEoXG5cdCAgICAgICAgICBmYWxzZSxcblx0ICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZS4gRXhwZWN0ZWQgYW4gYXJyYXkgb2YgY2hlY2sgZnVuY3Rpb25zLCBidXQgJyArXG5cdCAgICAgICAgICAncmVjZWl2ZWQgJXMgYXQgaW5kZXggJXMuJyxcblx0ICAgICAgICAgIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyhjaGVja2VyKSxcblx0ICAgICAgICAgIGlcblx0ICAgICAgICApO1xuXHQgICAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uXzEudGhhdFJldHVybnNOdWxsO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG5cdCAgICAgICAgaWYgKGNoZWNrZXIocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBSZWFjdFByb3BUeXBlc1NlY3JldF8xKSA9PSBudWxsKSB7XG5cdCAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLicpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgaWYgKCFpc05vZGUocHJvcHNbcHJvcE5hbWVdKSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLicpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBrZXkgaW4gc2hhcGVUeXBlcykge1xuXHQgICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuXHQgICAgICAgIGlmICghY2hlY2tlcikge1xuXHQgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0XzEpO1xuXHQgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgcmV0dXJuIGVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcblx0ICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblx0ICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcblx0ICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcblx0ICAgICAgfVxuXHQgICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGFsbCBrZXlzIGluIGNhc2Ugc29tZSBhcmUgcmVxdWlyZWQgYnV0IG1pc3NpbmcgZnJvbVxuXHQgICAgICAvLyBwcm9wcy5cblx0ICAgICAgdmFyIGFsbEtleXMgPSBvYmplY3RBc3NpZ24oe30sIHByb3BzW3Byb3BOYW1lXSwgc2hhcGVUeXBlcyk7XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiBhbGxLZXlzKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG5cdCAgICAgICAgaWYgKCFjaGVja2VyKSB7XG5cdCAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoXG5cdCAgICAgICAgICAgICdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICtcblx0ICAgICAgICAgICAgJ1xcbkJhZCBvYmplY3Q6ICcgKyBKU09OLnN0cmluZ2lmeShwcm9wc1twcm9wTmFtZV0sIG51bGwsICcgICcpICtcblx0ICAgICAgICAgICAgJ1xcblZhbGlkIGtleXM6ICcgKyAgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXMoc2hhcGVUeXBlcyksIG51bGwsICcgICcpXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldF8xKTtcblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgIHJldHVybiBlcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gaXNOb2RlKHByb3BWYWx1ZSkge1xuXHQgICAgc3dpdGNoICh0eXBlb2YgcHJvcFZhbHVlKSB7XG5cdCAgICAgIGNhc2UgJ251bWJlcic6XG5cdCAgICAgIGNhc2UgJ3N0cmluZyc6XG5cdCAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuXHQgICAgICAgIHJldHVybiAhcHJvcFZhbHVlO1xuXHQgICAgICBjYXNlICdvYmplY3QnOlxuXHQgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcblx0ICAgICAgICAgIHJldHVybiBwcm9wVmFsdWUuZXZlcnkoaXNOb2RlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCBpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG5cdCAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4ocHJvcFZhbHVlKTtcblx0ICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuXHQgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKHByb3BWYWx1ZSk7XG5cdCAgICAgICAgICB2YXIgc3RlcDtcblx0ICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuXHQgICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdCAgICAgICAgICAgICAgaWYgKCFpc05vZGUoc3RlcC52YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIC8vIEl0ZXJhdG9yIHdpbGwgcHJvdmlkZSBlbnRyeSBbayx2XSB0dXBsZXMgcmF0aGVyIHRoYW4gdmFsdWVzLlxuXHQgICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdCAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcblx0ICAgICAgICAgICAgICBpZiAoZW50cnkpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgZnVuY3Rpb24gaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkge1xuXHQgICAgLy8gTmF0aXZlIFN5bWJvbC5cblx0ICAgIGlmIChwcm9wVHlwZSA9PT0gJ3N5bWJvbCcpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cblx0ICAgIC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXG5cdCAgICBpZiAocHJvcFZhbHVlWydAQHRvU3RyaW5nVGFnJ10gPT09ICdTeW1ib2wnKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXG5cdCAgICAvLyBGYWxsYmFjayBmb3Igbm9uLXNwZWMgY29tcGxpYW50IFN5bWJvbHMgd2hpY2ggYXJlIHBvbHlmaWxsZWQuXG5cdCAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wVmFsdWUgaW5zdGFuY2VvZiBTeW1ib2wpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cblx0ICAvLyBFcXVpdmFsZW50IG9mIGB0eXBlb2ZgIGJ1dCB3aXRoIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGFycmF5IGFuZCByZWdleHAuXG5cdCAgZnVuY3Rpb24gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKSB7XG5cdCAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuXHQgICAgICByZXR1cm4gJ2FycmF5Jztcblx0ICAgIH1cblx0ICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcblx0ICAgICAgLy8gT2xkIHdlYmtpdHMgKGF0IGxlYXN0IHVudGlsIEFuZHJvaWQgNC4wKSByZXR1cm4gJ2Z1bmN0aW9uJyByYXRoZXIgdGhhblxuXHQgICAgICAvLyAnb2JqZWN0JyBmb3IgdHlwZW9mIGEgUmVnRXhwLiBXZSdsbCBub3JtYWxpemUgdGhpcyBoZXJlIHNvIHRoYXQgL2JsYS9cblx0ICAgICAgLy8gcGFzc2VzIFByb3BUeXBlcy5vYmplY3QuXG5cdCAgICAgIHJldHVybiAnb2JqZWN0Jztcblx0ICAgIH1cblx0ICAgIGlmIChpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSkge1xuXHQgICAgICByZXR1cm4gJ3N5bWJvbCc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcHJvcFR5cGU7XG5cdCAgfVxuXG5cdCAgLy8gVGhpcyBoYW5kbGVzIG1vcmUgdHlwZXMgdGhhbiBgZ2V0UHJvcFR5cGVgLiBPbmx5IHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuXHQgIC8vIFNlZSBgY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXJgLlxuXHQgIGZ1bmN0aW9uIGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSkge1xuXHQgICAgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHByb3BWYWx1ZSA9PT0gbnVsbCkge1xuXHQgICAgICByZXR1cm4gJycgKyBwcm9wVmFsdWU7XG5cdCAgICB9XG5cdCAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuXHQgICAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuXHQgICAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuXHQgICAgICAgIHJldHVybiAnZGF0ZSc7XG5cdCAgICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG5cdCAgICAgICAgcmV0dXJuICdyZWdleHAnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcHJvcFR5cGU7XG5cdCAgfVxuXG5cdCAgLy8gUmV0dXJucyBhIHN0cmluZyB0aGF0IGlzIHBvc3RmaXhlZCB0byBhIHdhcm5pbmcgYWJvdXQgYW4gaW52YWxpZCB0eXBlLlxuXHQgIC8vIEZvciBleGFtcGxlLCBcInVuZGVmaW5lZFwiIG9yIFwib2YgdHlwZSBhcnJheVwiXG5cdCAgZnVuY3Rpb24gZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKHZhbHVlKSB7XG5cdCAgICB2YXIgdHlwZSA9IGdldFByZWNpc2VUeXBlKHZhbHVlKTtcblx0ICAgIHN3aXRjaCAodHlwZSkge1xuXHQgICAgICBjYXNlICdhcnJheSc6XG5cdCAgICAgIGNhc2UgJ29iamVjdCc6XG5cdCAgICAgICAgcmV0dXJuICdhbiAnICsgdHlwZTtcblx0ICAgICAgY2FzZSAnYm9vbGVhbic6XG5cdCAgICAgIGNhc2UgJ2RhdGUnOlxuXHQgICAgICBjYXNlICdyZWdleHAnOlxuXHQgICAgICAgIHJldHVybiAnYSAnICsgdHlwZTtcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICByZXR1cm4gdHlwZTtcblx0ICAgIH1cblx0ICB9XG5cblx0ICAvLyBSZXR1cm5zIGNsYXNzIG5hbWUgb2YgdGhlIG9iamVjdCwgaWYgYW55LlxuXHQgIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcblx0ICAgIGlmICghcHJvcFZhbHVlLmNvbnN0cnVjdG9yIHx8ICFwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZSkge1xuXHQgICAgICByZXR1cm4gQU5PTllNT1VTO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lO1xuXHQgIH1cblxuXHQgIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gY2hlY2tQcm9wVHlwZXNfMTtcblx0ICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuXHQgIHJldHVybiBSZWFjdFByb3BUeXBlcztcblx0fTtcblxuXHR2YXIgcHJvcFR5cGVzID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHQvKipcblx0ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG5cdCAqL1xuXG5cdHtcblx0ICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcblx0ICAgIFN5bWJvbC5mb3IgJiZcblx0ICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcblx0ICAgIDB4ZWFjNztcblxuXHQgIHZhciBpc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG5cdCAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuXHQgICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcblx0ICB9O1xuXG5cdCAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG5cdCAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuXHQgIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcblx0ICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcblx0fVxuXHR9KTtcblxuXHR2YXIgY2xhc3NuYW1lcyA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcblx0LyohXG5cdCAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG5cdCAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcblx0ICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG5cdCovXG5cdC8qIGdsb2JhbCBkZWZpbmUgKi9cblxuXHQoZnVuY3Rpb24gKCkge1xuXG5cdFx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5cdFx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHRcdH1cblxuXHRcdGlmICgnb2JqZWN0JyAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRcdG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiB1bmRlZmluZWQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHVuZGVmaW5lZC5hbWQgPT09ICdvYmplY3QnICYmIHVuZGVmaW5lZC5hbWQpIHtcblx0XHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRcdHVuZGVmaW5lZCgnY2xhc3NuYW1lcycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0XHR9XG5cdH0oKSk7XG5cdH0pO1xuXG5cdC8vIEBjcmVkaXRzIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3JvZ296aG5pa29mZi9hNDNjZmVkMjdjNDFlNGU2OGNkY1xuXHRmdW5jdGlvbiBmaW5kSW5BcnJheShhcnJheSAvKjogQXJyYXk8YW55PiB8IFRvdWNoTGlzdCovLCBjYWxsYmFjayAvKjogRnVuY3Rpb24qLykgLyo6IGFueSovIHtcblx0ICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgIGlmIChjYWxsYmFjay5hcHBseShjYWxsYmFjaywgW2FycmF5W2ldLCBpLCBhcnJheV0pKSByZXR1cm4gYXJyYXlbaV07XG5cdCAgfVxuXHR9XG5cblx0ZnVuY3Rpb24gaXNGdW5jdGlvbihmdW5jIC8qOiBhbnkqLykgLyo6IGJvb2xlYW4qLyB7XG5cdCAgcmV0dXJuIHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmdW5jKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblx0fVxuXG5cdGZ1bmN0aW9uIGlzTnVtKG51bSAvKjogYW55Ki8pIC8qOiBib29sZWFuKi8ge1xuXHQgIHJldHVybiB0eXBlb2YgbnVtID09PSAnbnVtYmVyJyAmJiAhaXNOYU4obnVtKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGludChhIC8qOiBzdHJpbmcqLykgLyo6IG51bWJlciovIHtcblx0ICByZXR1cm4gcGFyc2VJbnQoYSwgMTApO1xuXHR9XG5cblx0ZnVuY3Rpb24gZG9udFNldE1lKHByb3BzIC8qOiBPYmplY3QqLywgcHJvcE5hbWUgLyo6IHN0cmluZyovLCBjb21wb25lbnROYW1lIC8qOiBzdHJpbmcqLykge1xuXHQgIGlmIChwcm9wc1twcm9wTmFtZV0pIHtcblx0ICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgcHJvcCAnICsgcHJvcE5hbWUgKyAnIHBhc3NlZCB0byAnICsgY29tcG9uZW50TmFtZSArICcgLSBkbyBub3Qgc2V0IHRoaXMsIHNldCBpdCBvbiB0aGUgY2hpbGQuJyk7XG5cdCAgfVxuXHR9XG5cblx0dmFyIHByZWZpeGVzID0gWydNb3onLCAnV2Via2l0JywgJ08nLCAnbXMnXTtcblx0ZnVuY3Rpb24gZ2V0UHJlZml4KCkgLyo6IHN0cmluZyovIHtcblx0ICB2YXIgcHJvcCAvKjogc3RyaW5nKi8gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICd0cmFuc2Zvcm0nO1xuXG5cdCAgLy8gQ2hlY2tpbmcgc3BlY2lmaWNhbGx5IGZvciAnd2luZG93LmRvY3VtZW50JyBpcyBmb3IgcHNldWRvLWJyb3dzZXIgc2VydmVyLXNpZGVcblx0ICAvLyBlbnZpcm9ubWVudHMgdGhhdCBkZWZpbmUgJ3dpbmRvdycgYXMgdGhlIGdsb2JhbCBjb250ZXh0LlxuXHQgIC8vIEUuZy4gUmVhY3QtcmFpbHMgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yYWlscy9wdWxsLzg0KVxuXHQgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygd2luZG93LmRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuICcnO1xuXG5cdCAgdmFyIHN0eWxlID0gd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtcblxuXHQgIGlmIChwcm9wIGluIHN0eWxlKSByZXR1cm4gJyc7XG5cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBpZiAoYnJvd3NlclByZWZpeFRvS2V5KHByb3AsIHByZWZpeGVzW2ldKSBpbiBzdHlsZSkgcmV0dXJuIHByZWZpeGVzW2ldO1xuXHQgIH1cblxuXHQgIHJldHVybiAnJztcblx0fVxuXG5cdGZ1bmN0aW9uIGJyb3dzZXJQcmVmaXhUb0tleShwcm9wIC8qOiBzdHJpbmcqLywgcHJlZml4IC8qOiBzdHJpbmcqLykgLyo6IHN0cmluZyovIHtcblx0ICByZXR1cm4gcHJlZml4ID8gJycgKyBwcmVmaXggKyBrZWJhYlRvVGl0bGVDYXNlKHByb3ApIDogcHJvcDtcblx0fVxuXG5cdGZ1bmN0aW9uIGtlYmFiVG9UaXRsZUNhc2Uoc3RyIC8qOiBzdHJpbmcqLykgLyo6IHN0cmluZyovIHtcblx0ICB2YXIgb3V0ID0gJyc7XG5cdCAgdmFyIHNob3VsZENhcGl0YWxpemUgPSB0cnVlO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBpZiAoc2hvdWxkQ2FwaXRhbGl6ZSkge1xuXHQgICAgICBvdXQgKz0gc3RyW2ldLnRvVXBwZXJDYXNlKCk7XG5cdCAgICAgIHNob3VsZENhcGl0YWxpemUgPSBmYWxzZTtcblx0ICAgIH0gZWxzZSBpZiAoc3RyW2ldID09PSAnLScpIHtcblx0ICAgICAgc2hvdWxkQ2FwaXRhbGl6ZSA9IHRydWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBvdXQgKz0gc3RyW2ldO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gb3V0O1xuXHR9XG5cblx0Ly8gRGVmYXVsdCBleHBvcnQgaXMgdGhlIHByZWZpeCBpdHNlbGYsIGxpa2UgJ01veicsICdXZWJraXQnLCBldGNcblx0Ly8gTm90ZSB0aGF0IHlvdSBtYXkgaGF2ZSB0byByZS10ZXN0IGZvciBjZXJ0YWluIHRoaW5nczsgZm9yIGluc3RhbmNlLCBDaHJvbWUgNTBcblx0Ly8gY2FuIGhhbmRsZSB1bnByZWZpeGVkIGB0cmFuc2Zvcm1gLCBidXQgbm90IHVucHJlZml4ZWQgYHVzZXItc2VsZWN0YFxuXHR2YXIgYnJvd3NlclByZWZpeCA9IGdldFByZWZpeCgpO1xuXG5cdHZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcblx0ICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcblx0ICB9XG5cdH07XG5cblx0dmFyIGNyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuXHQgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG5cdCAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcblx0ICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcblx0ICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuXHQgICAgfVxuXHQgIH1cblxuXHQgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG5cdCAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuXHQgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG5cdCAgICByZXR1cm4gQ29uc3RydWN0b3I7XG5cdCAgfTtcblx0fSgpO1xuXG5cdHZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcblx0ICBpZiAoa2V5IGluIG9iaikge1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG5cdCAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgICB3cml0YWJsZTogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIG9ialtrZXldID0gdmFsdWU7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIG9iajtcblx0fTtcblxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0ICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuXHQgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuXHQgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuXHQgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cblx0ICByZXR1cm4gdGFyZ2V0O1xuXHR9O1xuXG5cdHZhciBpbmhlcml0cyA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuXHQgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuXHQgIH1cblxuXHQgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuXHQgICAgY29uc3RydWN0b3I6IHtcblx0ICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuXHQgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcblx0ICAgICAgd3JpdGFibGU6IHRydWUsXG5cdCAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgICAgfVxuXHQgIH0pO1xuXHQgIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcblx0fTtcblxuXHR2YXIgcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG5cdCAgaWYgKCFzZWxmKSB7XG5cdCAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG5cdH07XG5cblx0dmFyIHNsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHtcblx0ICAgIHZhciBfYXJyID0gW107XG5cdCAgICB2YXIgX24gPSB0cnVlO1xuXHQgICAgdmFyIF9kID0gZmFsc2U7XG5cdCAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cblx0ICAgIHRyeSB7XG5cdCAgICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcblx0ICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG5cdCAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgX2QgPSB0cnVlO1xuXHQgICAgICBfZSA9IGVycjtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTtcblx0ICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBfYXJyO1xuXHQgIH1cblxuXHQgIHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG5cdCAgICAgIHJldHVybiBhcnI7XG5cdCAgICB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkge1xuXHQgICAgICByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XG5cdCAgICB9XG5cdCAgfTtcblx0fSgpO1xuXG5cdC8qOjogaW1wb3J0IHR5cGUge0NvbnRyb2xQb3NpdGlvbiwgUG9zaXRpb25PZmZzZXRDb250cm9sUG9zaXRpb24sIE1vdXNlVG91Y2hFdmVudH0gZnJvbSAnLi90eXBlcyc7Ki9cblxuXG5cdHZhciBtYXRjaGVzU2VsZWN0b3JGdW5jID0gJyc7XG5cdGZ1bmN0aW9uIG1hdGNoZXNTZWxlY3RvcihlbCAvKjogTm9kZSovLCBzZWxlY3RvciAvKjogc3RyaW5nKi8pIC8qOiBib29sZWFuKi8ge1xuXHQgIGlmICghbWF0Y2hlc1NlbGVjdG9yRnVuYykge1xuXHQgICAgbWF0Y2hlc1NlbGVjdG9yRnVuYyA9IGZpbmRJbkFycmF5KFsnbWF0Y2hlcycsICd3ZWJraXRNYXRjaGVzU2VsZWN0b3InLCAnbW96TWF0Y2hlc1NlbGVjdG9yJywgJ21zTWF0Y2hlc1NlbGVjdG9yJywgJ29NYXRjaGVzU2VsZWN0b3InXSwgZnVuY3Rpb24gKG1ldGhvZCkge1xuXHQgICAgICAvLyAkRmxvd0lnbm9yZTogRG9lc24ndCB0aGluayBlbGVtZW50cyBhcmUgaW5kZXhhYmxlXG5cdCAgICAgIHJldHVybiBpc0Z1bmN0aW9uKGVsW21ldGhvZF0pO1xuXHQgICAgfSk7XG5cdCAgfVxuXG5cdCAgLy8gTWlnaHQgbm90IGJlIGZvdW5kIGVudGlyZWx5IChub3QgYW4gRWxlbWVudD8pIC0gaW4gdGhhdCBjYXNlLCBiYWlsXG5cdCAgLy8gJEZsb3dJZ25vcmU6IERvZXNuJ3QgdGhpbmsgZWxlbWVudHMgYXJlIGluZGV4YWJsZVxuXHQgIGlmICghaXNGdW5jdGlvbihlbFttYXRjaGVzU2VsZWN0b3JGdW5jXSkpIHJldHVybiBmYWxzZTtcblxuXHQgIC8vICRGbG93SWdub3JlOiBEb2Vzbid0IHRoaW5rIGVsZW1lbnRzIGFyZSBpbmRleGFibGVcblx0ICByZXR1cm4gZWxbbWF0Y2hlc1NlbGVjdG9yRnVuY10oc2VsZWN0b3IpO1xuXHR9XG5cblx0Ly8gV29ya3MgdXAgdGhlIHRyZWUgdG8gdGhlIGRyYWdnYWJsZSBpdHNlbGYgYXR0ZW1wdGluZyB0byBtYXRjaCBzZWxlY3Rvci5cblx0ZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yQW5kUGFyZW50c1RvKGVsIC8qOiBOb2RlKi8sIHNlbGVjdG9yIC8qOiBzdHJpbmcqLywgYmFzZU5vZGUgLyo6IE5vZGUqLykgLyo6IGJvb2xlYW4qLyB7XG5cdCAgdmFyIG5vZGUgPSBlbDtcblx0ICBkbyB7XG5cdCAgICBpZiAobWF0Y2hlc1NlbGVjdG9yKG5vZGUsIHNlbGVjdG9yKSkgcmV0dXJuIHRydWU7XG5cdCAgICBpZiAobm9kZSA9PT0gYmFzZU5vZGUpIHJldHVybiBmYWxzZTtcblx0ICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG5cdCAgfSB3aGlsZSAobm9kZSk7XG5cblx0ICByZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRmdW5jdGlvbiBhZGRFdmVudChlbCAvKjogP05vZGUqLywgZXZlbnQgLyo6IHN0cmluZyovLCBoYW5kbGVyIC8qOiBGdW5jdGlvbiovKSAvKjogdm9pZCovIHtcblx0ICBpZiAoIWVsKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIGlmIChlbC5hdHRhY2hFdmVudCkge1xuXHQgICAgZWwuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBoYW5kbGVyKTtcblx0ICB9IGVsc2UgaWYgKGVsLmFkZEV2ZW50TGlzdGVuZXIpIHtcblx0ICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIHRydWUpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyAkRmxvd0lnbm9yZTogRG9lc24ndCB0aGluayBlbGVtZW50cyBhcmUgaW5kZXhhYmxlXG5cdCAgICBlbFsnb24nICsgZXZlbnRdID0gaGFuZGxlcjtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiByZW1vdmVFdmVudChlbCAvKjogP05vZGUqLywgZXZlbnQgLyo6IHN0cmluZyovLCBoYW5kbGVyIC8qOiBGdW5jdGlvbiovKSAvKjogdm9pZCovIHtcblx0ICBpZiAoIWVsKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIGlmIChlbC5kZXRhY2hFdmVudCkge1xuXHQgICAgZWwuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBoYW5kbGVyKTtcblx0ICB9IGVsc2UgaWYgKGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcblx0ICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIHRydWUpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyAkRmxvd0lnbm9yZTogRG9lc24ndCB0aGluayBlbGVtZW50cyBhcmUgaW5kZXhhYmxlXG5cdCAgICBlbFsnb24nICsgZXZlbnRdID0gbnVsbDtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiBvdXRlckhlaWdodChub2RlIC8qOiBIVE1MRWxlbWVudCovKSAvKjogbnVtYmVyKi8ge1xuXHQgIC8vIFRoaXMgaXMgZGVsaWJlcmF0ZWx5IGV4Y2x1ZGluZyBtYXJnaW4gZm9yIG91ciBjYWxjdWxhdGlvbnMsIHNpbmNlIHdlIGFyZSB1c2luZ1xuXHQgIC8vIG9mZnNldFRvcCB3aGljaCBpcyBpbmNsdWRpbmcgbWFyZ2luLiBTZWUgZ2V0Qm91bmRQb3NpdGlvblxuXHQgIHZhciBoZWlnaHQgPSBub2RlLmNsaWVudEhlaWdodDtcblx0ICB2YXIgY29tcHV0ZWRTdHlsZSA9IG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuXHQgIGhlaWdodCArPSBpbnQoY29tcHV0ZWRTdHlsZS5ib3JkZXJUb3BXaWR0aCk7XG5cdCAgaGVpZ2h0ICs9IGludChjb21wdXRlZFN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKTtcblx0ICByZXR1cm4gaGVpZ2h0O1xuXHR9XG5cblx0ZnVuY3Rpb24gb3V0ZXJXaWR0aChub2RlIC8qOiBIVE1MRWxlbWVudCovKSAvKjogbnVtYmVyKi8ge1xuXHQgIC8vIFRoaXMgaXMgZGVsaWJlcmF0ZWx5IGV4Y2x1ZGluZyBtYXJnaW4gZm9yIG91ciBjYWxjdWxhdGlvbnMsIHNpbmNlIHdlIGFyZSB1c2luZ1xuXHQgIC8vIG9mZnNldExlZnQgd2hpY2ggaXMgaW5jbHVkaW5nIG1hcmdpbi4gU2VlIGdldEJvdW5kUG9zaXRpb25cblx0ICB2YXIgd2lkdGggPSBub2RlLmNsaWVudFdpZHRoO1xuXHQgIHZhciBjb21wdXRlZFN0eWxlID0gbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUobm9kZSk7XG5cdCAgd2lkdGggKz0gaW50KGNvbXB1dGVkU3R5bGUuYm9yZGVyTGVmdFdpZHRoKTtcblx0ICB3aWR0aCArPSBpbnQoY29tcHV0ZWRTdHlsZS5ib3JkZXJSaWdodFdpZHRoKTtcblx0ICByZXR1cm4gd2lkdGg7XG5cdH1cblx0ZnVuY3Rpb24gaW5uZXJIZWlnaHQobm9kZSAvKjogSFRNTEVsZW1lbnQqLykgLyo6IG51bWJlciovIHtcblx0ICB2YXIgaGVpZ2h0ID0gbm9kZS5jbGllbnRIZWlnaHQ7XG5cdCAgdmFyIGNvbXB1dGVkU3R5bGUgPSBub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcblx0ICBoZWlnaHQgLT0gaW50KGNvbXB1dGVkU3R5bGUucGFkZGluZ1RvcCk7XG5cdCAgaGVpZ2h0IC09IGludChjb21wdXRlZFN0eWxlLnBhZGRpbmdCb3R0b20pO1xuXHQgIHJldHVybiBoZWlnaHQ7XG5cdH1cblxuXHRmdW5jdGlvbiBpbm5lcldpZHRoKG5vZGUgLyo6IEhUTUxFbGVtZW50Ki8pIC8qOiBudW1iZXIqLyB7XG5cdCAgdmFyIHdpZHRoID0gbm9kZS5jbGllbnRXaWR0aDtcblx0ICB2YXIgY29tcHV0ZWRTdHlsZSA9IG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuXHQgIHdpZHRoIC09IGludChjb21wdXRlZFN0eWxlLnBhZGRpbmdMZWZ0KTtcblx0ICB3aWR0aCAtPSBpbnQoY29tcHV0ZWRTdHlsZS5wYWRkaW5nUmlnaHQpO1xuXHQgIHJldHVybiB3aWR0aDtcblx0fVxuXG5cdC8vIEdldCBmcm9tIG9mZnNldFBhcmVudFxuXHRmdW5jdGlvbiBvZmZzZXRYWUZyb21QYXJlbnQoZXZ0IC8qOiB7Y2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXJ9Ki8sIG9mZnNldFBhcmVudCAvKjogSFRNTEVsZW1lbnQqLykgLyo6IENvbnRyb2xQb3NpdGlvbiovIHtcblx0ICB2YXIgaXNCb2R5ID0gb2Zmc2V0UGFyZW50ID09PSBvZmZzZXRQYXJlbnQub3duZXJEb2N1bWVudC5ib2R5O1xuXHQgIHZhciBvZmZzZXRQYXJlbnRSZWN0ID0gaXNCb2R5ID8geyBsZWZ0OiAwLCB0b3A6IDAgfSA6IG9mZnNldFBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHQgIHZhciB4ID0gZXZ0LmNsaWVudFggKyBvZmZzZXRQYXJlbnQuc2Nyb2xsTGVmdCAtIG9mZnNldFBhcmVudFJlY3QubGVmdDtcblx0ICB2YXIgeSA9IGV2dC5jbGllbnRZICsgb2Zmc2V0UGFyZW50LnNjcm9sbFRvcCAtIG9mZnNldFBhcmVudFJlY3QudG9wO1xuXG5cdCAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuXHR9XG5cblx0ZnVuY3Rpb24gY3JlYXRlQ1NTVHJhbnNmb3JtKGNvbnRyb2xQb3MgLyo6IENvbnRyb2xQb3NpdGlvbiovLCBwb3NpdGlvbk9mZnNldCAvKjogUG9zaXRpb25PZmZzZXRDb250cm9sUG9zaXRpb24qLykgLyo6IE9iamVjdCovIHtcblx0ICB2YXIgdHJhbnNsYXRpb24gPSBnZXRUcmFuc2xhdGlvbihjb250cm9sUG9zLCBwb3NpdGlvbk9mZnNldCwgJ3B4Jyk7XG5cdCAgcmV0dXJuIGRlZmluZVByb3BlcnR5KHt9LCBicm93c2VyUHJlZml4VG9LZXkoJ3RyYW5zZm9ybScsIGJyb3dzZXJQcmVmaXgpLCB0cmFuc2xhdGlvbik7XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVTVkdUcmFuc2Zvcm0oY29udHJvbFBvcyAvKjogQ29udHJvbFBvc2l0aW9uKi8sIHBvc2l0aW9uT2Zmc2V0IC8qOiBQb3NpdGlvbk9mZnNldENvbnRyb2xQb3NpdGlvbiovKSAvKjogc3RyaW5nKi8ge1xuXHQgIHZhciB0cmFuc2xhdGlvbiA9IGdldFRyYW5zbGF0aW9uKGNvbnRyb2xQb3MsIHBvc2l0aW9uT2Zmc2V0LCAnJyk7XG5cdCAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuXHR9XG5cdGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKF9yZWYyLCBwb3NpdGlvbk9mZnNldCAvKjogUG9zaXRpb25PZmZzZXRDb250cm9sUG9zaXRpb24qLywgdW5pdFN1ZmZpeCAvKjogc3RyaW5nKi8pIC8qOiBzdHJpbmcqLyB7XG5cdCAgdmFyIHggPSBfcmVmMi54LFxuXHQgICAgICB5ID0gX3JlZjIueTtcblxuXHQgIHZhciB0cmFuc2xhdGlvbiA9ICd0cmFuc2xhdGUoJyArIHggKyB1bml0U3VmZml4ICsgJywnICsgeSArIHVuaXRTdWZmaXggKyAnKSc7XG5cdCAgaWYgKHBvc2l0aW9uT2Zmc2V0KSB7XG5cdCAgICB2YXIgZGVmYXVsdFggPSAnJyArICh0eXBlb2YgcG9zaXRpb25PZmZzZXQueCA9PT0gJ3N0cmluZycgPyBwb3NpdGlvbk9mZnNldC54IDogcG9zaXRpb25PZmZzZXQueCArIHVuaXRTdWZmaXgpO1xuXHQgICAgdmFyIGRlZmF1bHRZID0gJycgKyAodHlwZW9mIHBvc2l0aW9uT2Zmc2V0LnkgPT09ICdzdHJpbmcnID8gcG9zaXRpb25PZmZzZXQueSA6IHBvc2l0aW9uT2Zmc2V0LnkgKyB1bml0U3VmZml4KTtcblx0ICAgIHRyYW5zbGF0aW9uID0gJ3RyYW5zbGF0ZSgnICsgZGVmYXVsdFggKyAnLCAnICsgZGVmYXVsdFkgKyAnKScgKyB0cmFuc2xhdGlvbjtcblx0ICB9XG5cdCAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0VG91Y2goZSAvKjogTW91c2VUb3VjaEV2ZW50Ki8sIGlkZW50aWZpZXIgLyo6IG51bWJlciovKSAvKjogP3tjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcn0qLyB7XG5cdCAgcmV0dXJuIGUudGFyZ2V0VG91Y2hlcyAmJiBmaW5kSW5BcnJheShlLnRhcmdldFRvdWNoZXMsIGZ1bmN0aW9uICh0KSB7XG5cdCAgICByZXR1cm4gaWRlbnRpZmllciA9PT0gdC5pZGVudGlmaWVyO1xuXHQgIH0pIHx8IGUuY2hhbmdlZFRvdWNoZXMgJiYgZmluZEluQXJyYXkoZS5jaGFuZ2VkVG91Y2hlcywgZnVuY3Rpb24gKHQpIHtcblx0ICAgIHJldHVybiBpZGVudGlmaWVyID09PSB0LmlkZW50aWZpZXI7XG5cdCAgfSk7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRUb3VjaElkZW50aWZpZXIoZSAvKjogTW91c2VUb3VjaEV2ZW50Ki8pIC8qOiA/bnVtYmVyKi8ge1xuXHQgIGlmIChlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzWzBdKSByZXR1cm4gZS50YXJnZXRUb3VjaGVzWzBdLmlkZW50aWZpZXI7XG5cdCAgaWYgKGUuY2hhbmdlZFRvdWNoZXMgJiYgZS5jaGFuZ2VkVG91Y2hlc1swXSkgcmV0dXJuIGUuY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllcjtcblx0fVxuXG5cdC8vIFVzZXItc2VsZWN0IEhhY2tzOlxuXHQvL1xuXHQvLyBVc2VmdWwgZm9yIHByZXZlbnRpbmcgYmx1ZSBoaWdobGlnaHRzIGFsbCBvdmVyIGV2ZXJ5dGhpbmcgd2hlbiBkcmFnZ2luZy5cblxuXHQvLyBOb3RlIHdlJ3JlIHBhc3NpbmcgYGRvY3VtZW50YCBiL2Mgd2UgY291bGQgYmUgaWZyYW1lZFxuXHRmdW5jdGlvbiBhZGRVc2VyU2VsZWN0U3R5bGVzKGRvYyAvKjogP0RvY3VtZW50Ki8pIHtcblx0ICBpZiAoIWRvYykgcmV0dXJuO1xuXHQgIHZhciBzdHlsZUVsID0gZG9jLmdldEVsZW1lbnRCeUlkKCdyZWFjdC1kcmFnZ2FibGUtc3R5bGUtZWwnKTtcblx0ICBpZiAoIXN0eWxlRWwpIHtcblx0ICAgIHN0eWxlRWwgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblx0ICAgIHN0eWxlRWwudHlwZSA9ICd0ZXh0L2Nzcyc7XG5cdCAgICBzdHlsZUVsLmlkID0gJ3JlYWN0LWRyYWdnYWJsZS1zdHlsZS1lbCc7XG5cdCAgICBzdHlsZUVsLmlubmVySFRNTCA9ICcucmVhY3QtZHJhZ2dhYmxlLXRyYW5zcGFyZW50LXNlbGVjdGlvbiAqOjotbW96LXNlbGVjdGlvbiB7YmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7fVxcbic7XG5cdCAgICBzdHlsZUVsLmlubmVySFRNTCArPSAnLnJlYWN0LWRyYWdnYWJsZS10cmFuc3BhcmVudC1zZWxlY3Rpb24gKjo6c2VsZWN0aW9uIHtiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDt9XFxuJztcblx0ICAgIGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xuXHQgIH1cblx0ICBpZiAoZG9jLmJvZHkpIGFkZENsYXNzTmFtZShkb2MuYm9keSwgJ3JlYWN0LWRyYWdnYWJsZS10cmFuc3BhcmVudC1zZWxlY3Rpb24nKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlbW92ZVVzZXJTZWxlY3RTdHlsZXMoZG9jIC8qOiA/RG9jdW1lbnQqLykge1xuXHQgIHRyeSB7XG5cdCAgICBpZiAoZG9jICYmIGRvYy5ib2R5KSByZW1vdmVDbGFzc05hbWUoZG9jLmJvZHksICdyZWFjdC1kcmFnZ2FibGUtdHJhbnNwYXJlbnQtc2VsZWN0aW9uJyk7XG5cdCAgICAvLyAkRmxvd0lnbm9yZTogSUVcblx0ICAgIGlmIChkb2Muc2VsZWN0aW9uKSB7XG5cdCAgICAgIC8vICRGbG93SWdub3JlOiBJRVxuXHQgICAgICBkb2Muc2VsZWN0aW9uLmVtcHR5KCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7IC8vIHJlbW92ZSBzZWxlY3Rpb24gY2F1c2VkIGJ5IHNjcm9sbFxuXHQgICAgfVxuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIC8vIHByb2JhYmx5IElFXG5cdCAgfVxuXHR9XG5cblx0ZnVuY3Rpb24gc3R5bGVIYWNrcygpIC8qOiBPYmplY3QqLyB7XG5cdCAgdmFyIGNoaWxkU3R5bGUgLyo6IE9iamVjdCovID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuXHQgIC8vIFdvcmthcm91bmQgSUUgcG9pbnRlciBldmVudHM7IHNlZSAjNTFcblx0ICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXphYnJpc2tpZS9yZWFjdC1kcmFnZ2FibGUvaXNzdWVzLzUxI2lzc3VlY29tbWVudC0xMDM0ODgyNzhcblx0ICByZXR1cm4gX2V4dGVuZHMoe1xuXHQgICAgdG91Y2hBY3Rpb246ICdub25lJ1xuXHQgIH0sIGNoaWxkU3R5bGUpO1xuXHR9XG5cblx0ZnVuY3Rpb24gYWRkQ2xhc3NOYW1lKGVsIC8qOiBIVE1MRWxlbWVudCovLCBjbGFzc05hbWUgLyo6IHN0cmluZyovKSB7XG5cdCAgaWYgKGVsLmNsYXNzTGlzdCkge1xuXHQgICAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBpZiAoIWVsLmNsYXNzTmFtZS5tYXRjaChuZXcgUmVnRXhwKCcoPzpefFxcXFxzKScgKyBjbGFzc05hbWUgKyAnKD8hXFxcXFMpJykpKSB7XG5cdCAgICAgIGVsLmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cblx0ZnVuY3Rpb24gcmVtb3ZlQ2xhc3NOYW1lKGVsIC8qOiBIVE1MRWxlbWVudCovLCBjbGFzc05hbWUgLyo6IHN0cmluZyovKSB7XG5cdCAgaWYgKGVsLmNsYXNzTGlzdCkge1xuXHQgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCcoPzpefFxcXFxzKScgKyBjbGFzc05hbWUgKyAnKD8hXFxcXFMpJywgJ2cnKSwgJycpO1xuXHQgIH1cblx0fVxuXG5cdC8qOjogaW1wb3J0IHR5cGUgRHJhZ2dhYmxlIGZyb20gJy4uL0RyYWdnYWJsZSc7Ki9cblx0Lyo6OiBpbXBvcnQgdHlwZSB7Qm91bmRzLCBDb250cm9sUG9zaXRpb24sIERyYWdnYWJsZURhdGEsIE1vdXNlVG91Y2hFdmVudH0gZnJvbSAnLi90eXBlcyc7Ki9cblx0Lyo6OiBpbXBvcnQgdHlwZSBEcmFnZ2FibGVDb3JlIGZyb20gJy4uL0RyYWdnYWJsZUNvcmUnOyovXG5cblxuXHRmdW5jdGlvbiBnZXRCb3VuZFBvc2l0aW9uKGRyYWdnYWJsZSAvKjogRHJhZ2dhYmxlKi8sIHggLyo6IG51bWJlciovLCB5IC8qOiBudW1iZXIqLykgLyo6IFtudW1iZXIsIG51bWJlcl0qLyB7XG5cdCAgLy8gSWYgbm8gYm91bmRzLCBzaG9ydC1jaXJjdWl0IGFuZCBtb3ZlIG9uXG5cdCAgaWYgKCFkcmFnZ2FibGUucHJvcHMuYm91bmRzKSByZXR1cm4gW3gsIHldO1xuXG5cdCAgLy8gQ2xvbmUgbmV3IGJvdW5kc1xuXHQgIHZhciBib3VuZHMgPSBkcmFnZ2FibGUucHJvcHMuYm91bmRzO1xuXG5cdCAgYm91bmRzID0gdHlwZW9mIGJvdW5kcyA9PT0gJ3N0cmluZycgPyBib3VuZHMgOiBjbG9uZUJvdW5kcyhib3VuZHMpO1xuXHQgIHZhciBub2RlID0gZmluZERPTU5vZGUoZHJhZ2dhYmxlKTtcblxuXHQgIGlmICh0eXBlb2YgYm91bmRzID09PSAnc3RyaW5nJykge1xuXHQgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQ7XG5cblx0ICAgIHZhciBvd25lcldpbmRvdyA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cdCAgICB2YXIgYm91bmROb2RlID0gdm9pZCAwO1xuXHQgICAgaWYgKGJvdW5kcyA9PT0gJ3BhcmVudCcpIHtcblx0ICAgICAgYm91bmROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgYm91bmROb2RlID0gb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJvdW5kcyk7XG5cdCAgICB9XG5cdCAgICBpZiAoIShib3VuZE5vZGUgaW5zdGFuY2VvZiBvd25lcldpbmRvdy5IVE1MRWxlbWVudCkpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3VuZHMgc2VsZWN0b3IgXCInICsgYm91bmRzICsgJ1wiIGNvdWxkIG5vdCBmaW5kIGFuIGVsZW1lbnQuJyk7XG5cdCAgICB9XG5cdCAgICB2YXIgbm9kZVN0eWxlID0gb3duZXJXaW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcblx0ICAgIHZhciBib3VuZE5vZGVTdHlsZSA9IG93bmVyV2luZG93LmdldENvbXB1dGVkU3R5bGUoYm91bmROb2RlKTtcblx0ICAgIC8vIENvbXB1dGUgYm91bmRzLiBUaGlzIGlzIGEgcGFpbiB3aXRoIHBhZGRpbmcgYW5kIG9mZnNldHMgYnV0IHRoaXMgZ2V0cyBpdCBleGFjdGx5IHJpZ2h0LlxuXHQgICAgYm91bmRzID0ge1xuXHQgICAgICBsZWZ0OiAtbm9kZS5vZmZzZXRMZWZ0ICsgaW50KGJvdW5kTm9kZVN0eWxlLnBhZGRpbmdMZWZ0KSArIGludChub2RlU3R5bGUubWFyZ2luTGVmdCksXG5cdCAgICAgIHRvcDogLW5vZGUub2Zmc2V0VG9wICsgaW50KGJvdW5kTm9kZVN0eWxlLnBhZGRpbmdUb3ApICsgaW50KG5vZGVTdHlsZS5tYXJnaW5Ub3ApLFxuXHQgICAgICByaWdodDogaW5uZXJXaWR0aChib3VuZE5vZGUpIC0gb3V0ZXJXaWR0aChub2RlKSAtIG5vZGUub2Zmc2V0TGVmdCArIGludChib3VuZE5vZGVTdHlsZS5wYWRkaW5nUmlnaHQpIC0gaW50KG5vZGVTdHlsZS5tYXJnaW5SaWdodCksXG5cdCAgICAgIGJvdHRvbTogaW5uZXJIZWlnaHQoYm91bmROb2RlKSAtIG91dGVySGVpZ2h0KG5vZGUpIC0gbm9kZS5vZmZzZXRUb3AgKyBpbnQoYm91bmROb2RlU3R5bGUucGFkZGluZ0JvdHRvbSkgLSBpbnQobm9kZVN0eWxlLm1hcmdpbkJvdHRvbSlcblx0ICAgIH07XG5cdCAgfVxuXG5cdCAgLy8gS2VlcCB4IGFuZCB5IGJlbG93IHJpZ2h0IGFuZCBib3R0b20gbGltaXRzLi4uXG5cdCAgaWYgKGlzTnVtKGJvdW5kcy5yaWdodCkpIHggPSBNYXRoLm1pbih4LCBib3VuZHMucmlnaHQpO1xuXHQgIGlmIChpc051bShib3VuZHMuYm90dG9tKSkgeSA9IE1hdGgubWluKHksIGJvdW5kcy5ib3R0b20pO1xuXG5cdCAgLy8gQnV0IGFib3ZlIGxlZnQgYW5kIHRvcCBsaW1pdHMuXG5cdCAgaWYgKGlzTnVtKGJvdW5kcy5sZWZ0KSkgeCA9IE1hdGgubWF4KHgsIGJvdW5kcy5sZWZ0KTtcblx0ICBpZiAoaXNOdW0oYm91bmRzLnRvcCkpIHkgPSBNYXRoLm1heCh5LCBib3VuZHMudG9wKTtcblxuXHQgIHJldHVybiBbeCwgeV07XG5cdH1cblxuXHRmdW5jdGlvbiBzbmFwVG9HcmlkKGdyaWQgLyo6IFtudW1iZXIsIG51bWJlcl0qLywgcGVuZGluZ1ggLyo6IG51bWJlciovLCBwZW5kaW5nWSAvKjogbnVtYmVyKi8pIC8qOiBbbnVtYmVyLCBudW1iZXJdKi8ge1xuXHQgIHZhciB4ID0gTWF0aC5yb3VuZChwZW5kaW5nWCAvIGdyaWRbMF0pICogZ3JpZFswXTtcblx0ICB2YXIgeSA9IE1hdGgucm91bmQocGVuZGluZ1kgLyBncmlkWzFdKSAqIGdyaWRbMV07XG5cdCAgcmV0dXJuIFt4LCB5XTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNhbkRyYWdYKGRyYWdnYWJsZSAvKjogRHJhZ2dhYmxlKi8pIC8qOiBib29sZWFuKi8ge1xuXHQgIHJldHVybiBkcmFnZ2FibGUucHJvcHMuYXhpcyA9PT0gJ2JvdGgnIHx8IGRyYWdnYWJsZS5wcm9wcy5heGlzID09PSAneCc7XG5cdH1cblxuXHRmdW5jdGlvbiBjYW5EcmFnWShkcmFnZ2FibGUgLyo6IERyYWdnYWJsZSovKSAvKjogYm9vbGVhbiovIHtcblx0ICByZXR1cm4gZHJhZ2dhYmxlLnByb3BzLmF4aXMgPT09ICdib3RoJyB8fCBkcmFnZ2FibGUucHJvcHMuYXhpcyA9PT0gJ3knO1xuXHR9XG5cblx0Ly8gR2V0IHt4LCB5fSBwb3NpdGlvbnMgZnJvbSBldmVudC5cblx0ZnVuY3Rpb24gZ2V0Q29udHJvbFBvc2l0aW9uKGUgLyo6IE1vdXNlVG91Y2hFdmVudCovLCB0b3VjaElkZW50aWZpZXIgLyo6ID9udW1iZXIqLywgZHJhZ2dhYmxlQ29yZSAvKjogRHJhZ2dhYmxlQ29yZSovKSAvKjogP0NvbnRyb2xQb3NpdGlvbiovIHtcblx0ICB2YXIgdG91Y2hPYmogPSB0eXBlb2YgdG91Y2hJZGVudGlmaWVyID09PSAnbnVtYmVyJyA/IGdldFRvdWNoKGUsIHRvdWNoSWRlbnRpZmllcikgOiBudWxsO1xuXHQgIGlmICh0eXBlb2YgdG91Y2hJZGVudGlmaWVyID09PSAnbnVtYmVyJyAmJiAhdG91Y2hPYmopIHJldHVybiBudWxsOyAvLyBub3QgdGhlIHJpZ2h0IHRvdWNoXG5cdCAgdmFyIG5vZGUgPSBmaW5kRE9NTm9kZShkcmFnZ2FibGVDb3JlKTtcblx0ICAvLyBVc2VyIGNhbiBwcm92aWRlIGFuIG9mZnNldFBhcmVudCBpZiBkZXNpcmVkLlxuXHQgIHZhciBvZmZzZXRQYXJlbnQgPSBkcmFnZ2FibGVDb3JlLnByb3BzLm9mZnNldFBhcmVudCB8fCBub2RlLm9mZnNldFBhcmVudCB8fCBub2RlLm93bmVyRG9jdW1lbnQuYm9keTtcblx0ICByZXR1cm4gb2Zmc2V0WFlGcm9tUGFyZW50KHRvdWNoT2JqIHx8IGUsIG9mZnNldFBhcmVudCk7XG5cdH1cblxuXHQvLyBDcmVhdGUgYW4gZGF0YSBvYmplY3QgZXhwb3NlZCBieSA8RHJhZ2dhYmxlQ29yZT4ncyBldmVudHNcblx0ZnVuY3Rpb24gY3JlYXRlQ29yZURhdGEoZHJhZ2dhYmxlIC8qOiBEcmFnZ2FibGVDb3JlKi8sIHggLyo6IG51bWJlciovLCB5IC8qOiBudW1iZXIqLykgLyo6IERyYWdnYWJsZURhdGEqLyB7XG5cdCAgdmFyIHN0YXRlID0gZHJhZ2dhYmxlLnN0YXRlO1xuXHQgIHZhciBpc1N0YXJ0ID0gIWlzTnVtKHN0YXRlLmxhc3RYKTtcblx0ICB2YXIgbm9kZSA9IGZpbmRET01Ob2RlKGRyYWdnYWJsZSk7XG5cblx0ICBpZiAoaXNTdGFydCkge1xuXHQgICAgLy8gSWYgdGhpcyBpcyBvdXIgZmlyc3QgbW92ZSwgdXNlIHRoZSB4IGFuZCB5IGFzIGxhc3QgY29vcmRzLlxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgbm9kZTogbm9kZSxcblx0ICAgICAgZGVsdGFYOiAwLCBkZWx0YVk6IDAsXG5cdCAgICAgIGxhc3RYOiB4LCBsYXN0WTogeSxcblx0ICAgICAgeDogeCwgeTogeVxuXHQgICAgfTtcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gT3RoZXJ3aXNlIGNhbGN1bGF0ZSBwcm9wZXIgdmFsdWVzLlxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgbm9kZTogbm9kZSxcblx0ICAgICAgZGVsdGFYOiB4IC0gc3RhdGUubGFzdFgsIGRlbHRhWTogeSAtIHN0YXRlLmxhc3RZLFxuXHQgICAgICBsYXN0WDogc3RhdGUubGFzdFgsIGxhc3RZOiBzdGF0ZS5sYXN0WSxcblx0ICAgICAgeDogeCwgeTogeVxuXHQgICAgfTtcblx0ICB9XG5cdH1cblxuXHQvLyBDcmVhdGUgYW4gZGF0YSBleHBvc2VkIGJ5IDxEcmFnZ2FibGU+J3MgZXZlbnRzXG5cdGZ1bmN0aW9uIGNyZWF0ZURyYWdnYWJsZURhdGEoZHJhZ2dhYmxlIC8qOiBEcmFnZ2FibGUqLywgY29yZURhdGEgLyo6IERyYWdnYWJsZURhdGEqLykgLyo6IERyYWdnYWJsZURhdGEqLyB7XG5cdCAgdmFyIHNjYWxlID0gZHJhZ2dhYmxlLnByb3BzLnNjYWxlO1xuXHQgIHJldHVybiB7XG5cdCAgICBub2RlOiBjb3JlRGF0YS5ub2RlLFxuXHQgICAgeDogZHJhZ2dhYmxlLnN0YXRlLnggKyBjb3JlRGF0YS5kZWx0YVggLyBzY2FsZSxcblx0ICAgIHk6IGRyYWdnYWJsZS5zdGF0ZS55ICsgY29yZURhdGEuZGVsdGFZIC8gc2NhbGUsXG5cdCAgICBkZWx0YVg6IGNvcmVEYXRhLmRlbHRhWCAvIHNjYWxlLFxuXHQgICAgZGVsdGFZOiBjb3JlRGF0YS5kZWx0YVkgLyBzY2FsZSxcblx0ICAgIGxhc3RYOiBkcmFnZ2FibGUuc3RhdGUueCxcblx0ICAgIGxhc3RZOiBkcmFnZ2FibGUuc3RhdGUueVxuXHQgIH07XG5cdH1cblxuXHQvLyBBIGxvdCBmYXN0ZXIgdGhhbiBzdHJpbmdpZnkvcGFyc2Vcblx0ZnVuY3Rpb24gY2xvbmVCb3VuZHMoYm91bmRzIC8qOiBCb3VuZHMqLykgLyo6IEJvdW5kcyovIHtcblx0ICByZXR1cm4ge1xuXHQgICAgbGVmdDogYm91bmRzLmxlZnQsXG5cdCAgICB0b3A6IGJvdW5kcy50b3AsXG5cdCAgICByaWdodDogYm91bmRzLnJpZ2h0LFxuXHQgICAgYm90dG9tOiBib3VuZHMuYm90dG9tXG5cdCAgfTtcblx0fVxuXG5cdGZ1bmN0aW9uIGZpbmRET01Ob2RlKGRyYWdnYWJsZSAvKjogRHJhZ2dhYmxlIHwgRHJhZ2dhYmxlQ29yZSovKSAvKjogSFRNTEVsZW1lbnQqLyB7XG5cdCAgdmFyIG5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZShkcmFnZ2FibGUpO1xuXHQgIGlmICghbm9kZSkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCc8RHJhZ2dhYmxlQ29yZT46IFVubW91bnRlZCBkdXJpbmcgZXZlbnQhJyk7XG5cdCAgfVxuXHQgIC8vICRGbG93SWdub3JlIHdlIGNhbid0IGFzc2VydCBvbiBIVE1MRWxlbWVudCBkdWUgdG8gdGVzdHMuLi4gRklYTUVcblx0ICByZXR1cm4gbm9kZTtcblx0fVxuXG5cdC8qZXNsaW50IG5vLWNvbnNvbGU6MCovXG5cdGZ1bmN0aW9uIGxvZygpIHtcblx0fVxuXG5cdC8qOjogaW1wb3J0IHR5cGUge0V2ZW50SGFuZGxlciwgTW91c2VUb3VjaEV2ZW50fSBmcm9tICcuL3V0aWxzL3R5cGVzJzsqL1xuXG5cblx0Ly8gU2ltcGxlIGFic3RyYWN0aW9uIGZvciBkcmFnZ2luZyBldmVudHMgbmFtZXMuXG5cdC8qOjogaW1wb3J0IHR5cGUge0VsZW1lbnQgYXMgUmVhY3RFbGVtZW50fSBmcm9tICdyZWFjdCc7Ki9cblx0dmFyIGV2ZW50c0ZvciA9IHtcblx0ICB0b3VjaDoge1xuXHQgICAgc3RhcnQ6ICd0b3VjaHN0YXJ0Jyxcblx0ICAgIG1vdmU6ICd0b3VjaG1vdmUnLFxuXHQgICAgc3RvcDogJ3RvdWNoZW5kJ1xuXHQgIH0sXG5cdCAgbW91c2U6IHtcblx0ICAgIHN0YXJ0OiAnbW91c2Vkb3duJyxcblx0ICAgIG1vdmU6ICdtb3VzZW1vdmUnLFxuXHQgICAgc3RvcDogJ21vdXNldXAnXG5cdCAgfVxuXHR9O1xuXG5cdC8vIERlZmF1bHQgdG8gbW91c2UgZXZlbnRzLlxuXHR2YXIgZHJhZ0V2ZW50Rm9yID0gZXZlbnRzRm9yLm1vdXNlO1xuXG5cdC8qOjogdHlwZSBEcmFnZ2FibGVDb3JlU3RhdGUgPSB7XG5cdCAgZHJhZ2dpbmc6IGJvb2xlYW4sXG5cdCAgbGFzdFg6IG51bWJlcixcblx0ICBsYXN0WTogbnVtYmVyLFxuXHQgIHRvdWNoSWRlbnRpZmllcjogP251bWJlclxuXHR9OyovXG5cdC8qOjogZXhwb3J0IHR5cGUgRHJhZ2dhYmxlQm91bmRzID0ge1xuXHQgIGxlZnQ6IG51bWJlcixcblx0ICByaWdodDogbnVtYmVyLFxuXHQgIHRvcDogbnVtYmVyLFxuXHQgIGJvdHRvbTogbnVtYmVyLFxuXHR9OyovXG5cdC8qOjogZXhwb3J0IHR5cGUgRHJhZ2dhYmxlRGF0YSA9IHtcblx0ICBub2RlOiBIVE1MRWxlbWVudCxcblx0ICB4OiBudW1iZXIsIHk6IG51bWJlcixcblx0ICBkZWx0YVg6IG51bWJlciwgZGVsdGFZOiBudW1iZXIsXG5cdCAgbGFzdFg6IG51bWJlciwgbGFzdFk6IG51bWJlcixcblx0fTsqL1xuXHQvKjo6IGV4cG9ydCB0eXBlIERyYWdnYWJsZUV2ZW50SGFuZGxlciA9IChlOiBNb3VzZUV2ZW50LCBkYXRhOiBEcmFnZ2FibGVEYXRhKSA9PiB2b2lkOyovXG5cdC8qOjogZXhwb3J0IHR5cGUgQ29udHJvbFBvc2l0aW9uID0ge3g6IG51bWJlciwgeTogbnVtYmVyfTsqL1xuXHQvKjo6IGV4cG9ydCB0eXBlIFBvc2l0aW9uT2Zmc2V0Q29udHJvbFBvc2l0aW9uID0ge3g6IG51bWJlcnxzdHJpbmcsIHk6IG51bWJlcnxzdHJpbmd9OyovXG5cblxuXHQvL1xuXHQvLyBEZWZpbmUgPERyYWdnYWJsZUNvcmU+LlxuXHQvL1xuXHQvLyA8RHJhZ2dhYmxlQ29yZT4gaXMgZm9yIGFkdmFuY2VkIHVzYWdlIG9mIDxEcmFnZ2FibGU+LiBJdCBtYWludGFpbnMgbWluaW1hbCBpbnRlcm5hbCBzdGF0ZSBzbyBpdCBjYW5cblx0Ly8gd29yayB3ZWxsIHdpdGggbGlicmFyaWVzIHRoYXQgcmVxdWlyZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgZWxlbWVudC5cblx0Ly9cblxuXHQvKjo6IGV4cG9ydCB0eXBlIERyYWdnYWJsZUNvcmVQcm9wcyA9IHtcblx0ICBhbGxvd0FueUNsaWNrOiBib29sZWFuLFxuXHQgIGNhbmNlbDogc3RyaW5nLFxuXHQgIGNoaWxkcmVuOiBSZWFjdEVsZW1lbnQ8YW55Pixcblx0ICBkaXNhYmxlZDogYm9vbGVhbixcblx0ICBlbmFibGVVc2VyU2VsZWN0SGFjazogYm9vbGVhbixcblx0ICBvZmZzZXRQYXJlbnQ6IEhUTUxFbGVtZW50LFxuXHQgIGdyaWQ6IFtudW1iZXIsIG51bWJlcl0sXG5cdCAgaGFuZGxlOiBzdHJpbmcsXG5cdCAgb25TdGFydDogRHJhZ2dhYmxlRXZlbnRIYW5kbGVyLFxuXHQgIG9uRHJhZzogRHJhZ2dhYmxlRXZlbnRIYW5kbGVyLFxuXHQgIG9uU3RvcDogRHJhZ2dhYmxlRXZlbnRIYW5kbGVyLFxuXHQgIG9uTW91c2VEb3duOiAoZTogTW91c2VFdmVudCkgPT4gdm9pZCxcblx0fTsqL1xuXG5cdHZhciBEcmFnZ2FibGVDb3JlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBpbmhlcml0cyhEcmFnZ2FibGVDb3JlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuXHQgIGZ1bmN0aW9uIERyYWdnYWJsZUNvcmUoKSB7XG5cdCAgICB2YXIgX3JlZjtcblxuXHQgICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuXHQgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgRHJhZ2dhYmxlQ29yZSk7XG5cblx0ICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IERyYWdnYWJsZUNvcmUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEcmFnZ2FibGVDb3JlKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGRyYWdnaW5nOiBmYWxzZSxcblx0ICAgICAgLy8gVXNlZCB3aGlsZSBkcmFnZ2luZyB0byBkZXRlcm1pbmUgZGVsdGFzLlxuXHQgICAgICBsYXN0WDogTmFOLCBsYXN0WTogTmFOLFxuXHQgICAgICB0b3VjaElkZW50aWZpZXI6IG51bGxcblx0ICAgIH0sIF90aGlzLmhhbmRsZURyYWdTdGFydCA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIC8vIE1ha2UgaXQgcG9zc2libGUgdG8gYXR0YWNoIGV2ZW50IGhhbmRsZXJzIG9uIHRvcCBvZiB0aGlzIG9uZS5cblx0ICAgICAgX3RoaXMucHJvcHMub25Nb3VzZURvd24oZSk7XG5cblx0ICAgICAgLy8gT25seSBhY2NlcHQgbGVmdC1jbGlja3MuXG5cdCAgICAgIGlmICghX3RoaXMucHJvcHMuYWxsb3dBbnlDbGljayAmJiB0eXBlb2YgZS5idXR0b24gPT09ICdudW1iZXInICYmIGUuYnV0dG9uICE9PSAwKSByZXR1cm4gZmFsc2U7XG5cblx0ICAgICAgLy8gR2V0IG5vZGVzLiBCZSBzdXJlIHRvIGdyYWIgcmVsYXRpdmUgZG9jdW1lbnQgKGNvdWxkIGJlIGlmcmFtZWQpXG5cdCAgICAgIHZhciB0aGlzTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKF90aGlzKTtcblx0ICAgICAgaWYgKCF0aGlzTm9kZSB8fCAhdGhpc05vZGUub3duZXJEb2N1bWVudCB8fCAhdGhpc05vZGUub3duZXJEb2N1bWVudC5ib2R5KSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCc8RHJhZ2dhYmxlQ29yZT4gbm90IG1vdW50ZWQgb24gRHJhZ1N0YXJ0IScpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBvd25lckRvY3VtZW50ID0gdGhpc05vZGUub3duZXJEb2N1bWVudDtcblxuXHQgICAgICAvLyBTaG9ydCBjaXJjdWl0IGlmIGhhbmRsZSBvciBjYW5jZWwgcHJvcCB3YXMgcHJvdmlkZWQgYW5kIHNlbGVjdG9yIGRvZXNuJ3QgbWF0Y2guXG5cblx0ICAgICAgaWYgKF90aGlzLnByb3BzLmRpc2FibGVkIHx8ICEoZS50YXJnZXQgaW5zdGFuY2VvZiBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3Lk5vZGUpIHx8IF90aGlzLnByb3BzLmhhbmRsZSAmJiAhbWF0Y2hlc1NlbGVjdG9yQW5kUGFyZW50c1RvKGUudGFyZ2V0LCBfdGhpcy5wcm9wcy5oYW5kbGUsIHRoaXNOb2RlKSB8fCBfdGhpcy5wcm9wcy5jYW5jZWwgJiYgbWF0Y2hlc1NlbGVjdG9yQW5kUGFyZW50c1RvKGUudGFyZ2V0LCBfdGhpcy5wcm9wcy5jYW5jZWwsIHRoaXNOb2RlKSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXG5cdCAgICAgIC8vIFNldCB0b3VjaCBpZGVudGlmaWVyIGluIGNvbXBvbmVudCBzdGF0ZSBpZiB0aGlzIGlzIGEgdG91Y2ggZXZlbnQuIFRoaXMgYWxsb3dzIHVzIHRvXG5cdCAgICAgIC8vIGRpc3Rpbmd1aXNoIGJldHdlZW4gaW5kaXZpZHVhbCB0b3VjaGVzIG9uIG11bHRpdG91Y2ggc2NyZWVucyBieSBpZGVudGlmeWluZyB3aGljaFxuXHQgICAgICAvLyB0b3VjaHBvaW50IHdhcyBzZXQgdG8gdGhpcyBlbGVtZW50LlxuXHQgICAgICB2YXIgdG91Y2hJZGVudGlmaWVyID0gZ2V0VG91Y2hJZGVudGlmaWVyKGUpO1xuXHQgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHRvdWNoSWRlbnRpZmllcjogdG91Y2hJZGVudGlmaWVyIH0pO1xuXG5cdCAgICAgIC8vIEdldCB0aGUgY3VycmVudCBkcmFnIHBvaW50IGZyb20gdGhlIGV2ZW50LiBUaGlzIGlzIHVzZWQgYXMgdGhlIG9mZnNldC5cblx0ICAgICAgdmFyIHBvc2l0aW9uID0gZ2V0Q29udHJvbFBvc2l0aW9uKGUsIHRvdWNoSWRlbnRpZmllciwgX3RoaXMpO1xuXHQgICAgICBpZiAocG9zaXRpb24gPT0gbnVsbCkgcmV0dXJuOyAvLyBub3QgcG9zc2libGUgYnV0IHNhdGlzZmllcyBmbG93XG5cdCAgICAgIHZhciB4ID0gcG9zaXRpb24ueCxcblx0ICAgICAgICAgIHkgPSBwb3NpdGlvbi55O1xuXG5cdCAgICAgIC8vIENyZWF0ZSBhbiBldmVudCBvYmplY3Qgd2l0aCBhbGwgdGhlIGRhdGEgcGFyZW50cyBuZWVkIHRvIG1ha2UgYSBkZWNpc2lvbiBoZXJlLlxuXG5cdCAgICAgIHZhciBjb3JlRXZlbnQgPSBjcmVhdGVDb3JlRGF0YShfdGhpcywgeCwgeSk7XG5cblx0ICAgICAgLy8gQ2FsbCBldmVudCBoYW5kbGVyLiBJZiBpdCByZXR1cm5zIGV4cGxpY2l0IGZhbHNlLCBjYW5jZWwuXG5cdCAgICAgIGxvZygnY2FsbGluZycsIF90aGlzLnByb3BzLm9uU3RhcnQpO1xuXHQgICAgICB2YXIgc2hvdWxkVXBkYXRlID0gX3RoaXMucHJvcHMub25TdGFydChlLCBjb3JlRXZlbnQpO1xuXHQgICAgICBpZiAoc2hvdWxkVXBkYXRlID09PSBmYWxzZSkgcmV0dXJuO1xuXG5cdCAgICAgIC8vIEFkZCBhIHN0eWxlIHRvIHRoZSBib2R5IHRvIGRpc2FibGUgdXNlci1zZWxlY3QuIFRoaXMgcHJldmVudHMgdGV4dCBmcm9tXG5cdCAgICAgIC8vIGJlaW5nIHNlbGVjdGVkIGFsbCBvdmVyIHRoZSBwYWdlLlxuXHQgICAgICBpZiAoX3RoaXMucHJvcHMuZW5hYmxlVXNlclNlbGVjdEhhY2spIGFkZFVzZXJTZWxlY3RTdHlsZXMob3duZXJEb2N1bWVudCk7XG5cblx0ICAgICAgLy8gSW5pdGlhdGUgZHJhZ2dpbmcuIFNldCB0aGUgY3VycmVudCB4IGFuZCB5IGFzIG9mZnNldHNcblx0ICAgICAgLy8gc28gd2Uga25vdyBob3cgbXVjaCB3ZSd2ZSBtb3ZlZCBkdXJpbmcgdGhlIGRyYWcuIFRoaXMgYWxsb3dzIHVzXG5cdCAgICAgIC8vIHRvIGRyYWcgZWxlbWVudHMgYXJvdW5kIGV2ZW4gaWYgdGhleSBoYXZlIGJlZW4gbW92ZWQsIHdpdGhvdXQgaXNzdWUuXG5cdCAgICAgIF90aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBkcmFnZ2luZzogdHJ1ZSxcblxuXHQgICAgICAgIGxhc3RYOiB4LFxuXHQgICAgICAgIGxhc3RZOiB5XG5cdCAgICAgIH0pO1xuXG5cdCAgICAgIC8vIEFkZCBldmVudHMgdG8gdGhlIGRvY3VtZW50IGRpcmVjdGx5IHNvIHdlIGNhdGNoIHdoZW4gdGhlIHVzZXIncyBtb3VzZS90b3VjaCBtb3ZlcyBvdXRzaWRlIG9mXG5cdCAgICAgIC8vIHRoaXMgZWxlbWVudC4gV2UgdXNlIGRpZmZlcmVudCBldmVudHMgZGVwZW5kaW5nIG9uIHdoZXRoZXIgb3Igbm90IHdlIGhhdmUgZGV0ZWN0ZWQgdGhhdCB0aGlzXG5cdCAgICAgIC8vIGlzIGEgdG91Y2gtY2FwYWJsZSBkZXZpY2UuXG5cdCAgICAgIGFkZEV2ZW50KG93bmVyRG9jdW1lbnQsIGRyYWdFdmVudEZvci5tb3ZlLCBfdGhpcy5oYW5kbGVEcmFnKTtcblx0ICAgICAgYWRkRXZlbnQob3duZXJEb2N1bWVudCwgZHJhZ0V2ZW50Rm9yLnN0b3AsIF90aGlzLmhhbmRsZURyYWdTdG9wKTtcblx0ICAgIH0sIF90aGlzLmhhbmRsZURyYWcgPSBmdW5jdGlvbiAoZSkge1xuXG5cdCAgICAgIC8vIFByZXZlbnQgc2Nyb2xsaW5nIG9uIG1vYmlsZSBkZXZpY2VzLCBsaWtlIGlwYWQvaXBob25lLlxuXHQgICAgICBpZiAoZS50eXBlID09PSAndG91Y2htb3ZlJykgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdCAgICAgIC8vIEdldCB0aGUgY3VycmVudCBkcmFnIHBvaW50IGZyb20gdGhlIGV2ZW50LiBUaGlzIGlzIHVzZWQgYXMgdGhlIG9mZnNldC5cblx0ICAgICAgdmFyIHBvc2l0aW9uID0gZ2V0Q29udHJvbFBvc2l0aW9uKGUsIF90aGlzLnN0YXRlLnRvdWNoSWRlbnRpZmllciwgX3RoaXMpO1xuXHQgICAgICBpZiAocG9zaXRpb24gPT0gbnVsbCkgcmV0dXJuO1xuXHQgICAgICB2YXIgeCA9IHBvc2l0aW9uLngsXG5cdCAgICAgICAgICB5ID0gcG9zaXRpb24ueTtcblxuXHQgICAgICAvLyBTbmFwIHRvIGdyaWQgaWYgcHJvcCBoYXMgYmVlbiBwcm92aWRlZFxuXG5cdCAgICAgIGlmIChBcnJheS5pc0FycmF5KF90aGlzLnByb3BzLmdyaWQpKSB7XG5cdCAgICAgICAgdmFyIF9kZWx0YVggPSB4IC0gX3RoaXMuc3RhdGUubGFzdFgsXG5cdCAgICAgICAgICAgIF9kZWx0YVkgPSB5IC0gX3RoaXMuc3RhdGUubGFzdFk7XG5cblx0ICAgICAgICB2YXIgX3NuYXBUb0dyaWQgPSBzbmFwVG9HcmlkKF90aGlzLnByb3BzLmdyaWQsIF9kZWx0YVgsIF9kZWx0YVkpO1xuXG5cdCAgICAgICAgdmFyIF9zbmFwVG9HcmlkMiA9IHNsaWNlZFRvQXJyYXkoX3NuYXBUb0dyaWQsIDIpO1xuXG5cdCAgICAgICAgX2RlbHRhWCA9IF9zbmFwVG9HcmlkMlswXTtcblx0ICAgICAgICBfZGVsdGFZID0gX3NuYXBUb0dyaWQyWzFdO1xuXG5cdCAgICAgICAgaWYgKCFfZGVsdGFYICYmICFfZGVsdGFZKSByZXR1cm47IC8vIHNraXAgdXNlbGVzcyBkcmFnXG5cdCAgICAgICAgeCA9IF90aGlzLnN0YXRlLmxhc3RYICsgX2RlbHRhWCwgeSA9IF90aGlzLnN0YXRlLmxhc3RZICsgX2RlbHRhWTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHZhciBjb3JlRXZlbnQgPSBjcmVhdGVDb3JlRGF0YShfdGhpcywgeCwgeSk7XG5cblx0ICAgICAgLy8gQ2FsbCBldmVudCBoYW5kbGVyLiBJZiBpdCByZXR1cm5zIGV4cGxpY2l0IGZhbHNlLCB0cmlnZ2VyIGVuZC5cblx0ICAgICAgdmFyIHNob3VsZFVwZGF0ZSA9IF90aGlzLnByb3BzLm9uRHJhZyhlLCBjb3JlRXZlbnQpO1xuXHQgICAgICBpZiAoc2hvdWxkVXBkYXRlID09PSBmYWxzZSkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAvLyAkRmxvd0lnbm9yZVxuXHQgICAgICAgICAgX3RoaXMuaGFuZGxlRHJhZ1N0b3AobmV3IE1vdXNlRXZlbnQoJ21vdXNldXAnKSk7XG5cdCAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgICAvLyBPbGQgYnJvd3NlcnNcblx0ICAgICAgICAgIHZhciBldmVudCA9ICgoZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJykgLyo6IGFueSovKSAvKjogTW91c2VUb3VjaEV2ZW50Ki8pO1xuXHQgICAgICAgICAgLy8gSSBzZWUgd2h5IHRoaXMgaW5zYW5pdHkgd2FzIGRlcHJlY2F0ZWRcblx0ICAgICAgICAgIC8vICRGbG93SWdub3JlXG5cdCAgICAgICAgICBldmVudC5pbml0TW91c2VFdmVudCgnbW91c2V1cCcsIHRydWUsIHRydWUsIHdpbmRvdywgMCwgMCwgMCwgMCwgMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpO1xuXHQgICAgICAgICAgX3RoaXMuaGFuZGxlRHJhZ1N0b3AoZXZlbnQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblxuXHQgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgbGFzdFg6IHgsXG5cdCAgICAgICAgbGFzdFk6IHlcblx0ICAgICAgfSk7XG5cdCAgICB9LCBfdGhpcy5oYW5kbGVEcmFnU3RvcCA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIGlmICghX3RoaXMuc3RhdGUuZHJhZ2dpbmcpIHJldHVybjtcblxuXHQgICAgICB2YXIgcG9zaXRpb24gPSBnZXRDb250cm9sUG9zaXRpb24oZSwgX3RoaXMuc3RhdGUudG91Y2hJZGVudGlmaWVyLCBfdGhpcyk7XG5cdCAgICAgIGlmIChwb3NpdGlvbiA9PSBudWxsKSByZXR1cm47XG5cdCAgICAgIHZhciB4ID0gcG9zaXRpb24ueCxcblx0ICAgICAgICAgIHkgPSBwb3NpdGlvbi55O1xuXG5cdCAgICAgIHZhciBjb3JlRXZlbnQgPSBjcmVhdGVDb3JlRGF0YShfdGhpcywgeCwgeSk7XG5cblx0ICAgICAgdmFyIHRoaXNOb2RlID0gUmVhY3RET00uZmluZERPTU5vZGUoX3RoaXMpO1xuXHQgICAgICBpZiAodGhpc05vZGUpIHtcblx0ICAgICAgICAvLyBSZW1vdmUgdXNlci1zZWxlY3QgaGFja1xuXHQgICAgICAgIGlmIChfdGhpcy5wcm9wcy5lbmFibGVVc2VyU2VsZWN0SGFjaykgcmVtb3ZlVXNlclNlbGVjdFN0eWxlcyh0aGlzTm9kZS5vd25lckRvY3VtZW50KTtcblx0ICAgICAgfVxuXG5cdCAgICAgIC8vIFJlc2V0IHRoZSBlbC5cblx0ICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGRyYWdnaW5nOiBmYWxzZSxcblx0ICAgICAgICBsYXN0WDogTmFOLFxuXHQgICAgICAgIGxhc3RZOiBOYU5cblx0ICAgICAgfSk7XG5cblx0ICAgICAgLy8gQ2FsbCBldmVudCBoYW5kbGVyXG5cdCAgICAgIF90aGlzLnByb3BzLm9uU3RvcChlLCBjb3JlRXZlbnQpO1xuXG5cdCAgICAgIGlmICh0aGlzTm9kZSkge1xuXHQgICAgICAgIHJlbW92ZUV2ZW50KHRoaXNOb2RlLm93bmVyRG9jdW1lbnQsIGRyYWdFdmVudEZvci5tb3ZlLCBfdGhpcy5oYW5kbGVEcmFnKTtcblx0ICAgICAgICByZW1vdmVFdmVudCh0aGlzTm9kZS5vd25lckRvY3VtZW50LCBkcmFnRXZlbnRGb3Iuc3RvcCwgX3RoaXMuaGFuZGxlRHJhZ1N0b3ApO1xuXHQgICAgICB9XG5cdCAgICB9LCBfdGhpcy5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIGRyYWdFdmVudEZvciA9IGV2ZW50c0Zvci5tb3VzZTsgLy8gb24gdG91Y2hzY3JlZW4gbGFwdG9wcyB3ZSBjb3VsZCBzd2l0Y2ggYmFjayB0byBtb3VzZVxuXG5cdCAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVEcmFnU3RhcnQoZSk7XG5cdCAgICB9LCBfdGhpcy5vbk1vdXNlVXAgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBkcmFnRXZlbnRGb3IgPSBldmVudHNGb3IubW91c2U7XG5cblx0ICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZURyYWdTdG9wKGUpO1xuXHQgICAgfSwgX3RoaXMub25Ub3VjaFN0YXJ0ID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgLy8gV2UncmUgb24gYSB0b3VjaCBkZXZpY2Ugbm93LCBzbyBjaGFuZ2UgdGhlIGV2ZW50IGhhbmRsZXJzXG5cdCAgICAgIGRyYWdFdmVudEZvciA9IGV2ZW50c0Zvci50b3VjaDtcblxuXHQgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlRHJhZ1N0YXJ0KGUpO1xuXHQgICAgfSwgX3RoaXMub25Ub3VjaEVuZCA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIC8vIFdlJ3JlIG9uIGEgdG91Y2ggZGV2aWNlIG5vdywgc28gY2hhbmdlIHRoZSBldmVudCBoYW5kbGVyc1xuXHQgICAgICBkcmFnRXZlbnRGb3IgPSBldmVudHNGb3IudG91Y2g7XG5cblx0ICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZURyYWdTdG9wKGUpO1xuXHQgICAgfSwgX3RlbXApLCBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcblx0ICB9XG5cblx0ICBjcmVhdGVDbGFzcyhEcmFnZ2FibGVDb3JlLCBbe1xuXHQgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICAvLyBSZW1vdmUgYW55IGxlZnRvdmVyIGV2ZW50IGhhbmRsZXJzLiBSZW1vdmUgYm90aCB0b3VjaCBhbmQgbW91c2UgaGFuZGxlcnMgaW4gY2FzZVxuXHQgICAgICAvLyBzb21lIGJyb3dzZXIgcXVpcmsgY2F1c2VkIGEgdG91Y2ggZXZlbnQgdG8gZmlyZSBkdXJpbmcgYSBtb3VzZSBtb3ZlLCBvciB2aWNlIHZlcnNhLlxuXHQgICAgICB2YXIgdGhpc05vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICAgICAgaWYgKHRoaXNOb2RlKSB7XG5cdCAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzTm9kZS5vd25lckRvY3VtZW50O1xuXG5cdCAgICAgICAgcmVtb3ZlRXZlbnQob3duZXJEb2N1bWVudCwgZXZlbnRzRm9yLm1vdXNlLm1vdmUsIHRoaXMuaGFuZGxlRHJhZyk7XG5cdCAgICAgICAgcmVtb3ZlRXZlbnQob3duZXJEb2N1bWVudCwgZXZlbnRzRm9yLnRvdWNoLm1vdmUsIHRoaXMuaGFuZGxlRHJhZyk7XG5cdCAgICAgICAgcmVtb3ZlRXZlbnQob3duZXJEb2N1bWVudCwgZXZlbnRzRm9yLm1vdXNlLnN0b3AsIHRoaXMuaGFuZGxlRHJhZ1N0b3ApO1xuXHQgICAgICAgIHJlbW92ZUV2ZW50KG93bmVyRG9jdW1lbnQsIGV2ZW50c0Zvci50b3VjaC5zdG9wLCB0aGlzLmhhbmRsZURyYWdTdG9wKTtcblx0ICAgICAgICBpZiAodGhpcy5wcm9wcy5lbmFibGVVc2VyU2VsZWN0SGFjaykgcmVtb3ZlVXNlclNlbGVjdFN0eWxlcyhvd25lckRvY3VtZW50KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICAvLyBTYW1lIGFzIG9uTW91c2VEb3duIChzdGFydCBkcmFnKSwgYnV0IG5vdyBjb25zaWRlciB0aGlzIGEgdG91Y2ggZGV2aWNlLlxuXG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIC8vIFJldXNlIHRoZSBjaGlsZCBwcm92aWRlZFxuXHQgICAgICAvLyBUaGlzIG1ha2VzIGl0IGZsZXhpYmxlIHRvIHVzZSB3aGF0ZXZlciBlbGVtZW50IGlzIHdhbnRlZCAoZGl2LCB1bCwgZXRjKVxuXHQgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KFJlYWN0LkNoaWxkcmVuLm9ubHkodGhpcy5wcm9wcy5jaGlsZHJlbiksIHtcblx0ICAgICAgICBzdHlsZTogc3R5bGVIYWNrcyh0aGlzLnByb3BzLmNoaWxkcmVuLnByb3BzLnN0eWxlKSxcblxuXHQgICAgICAgIC8vIE5vdGU6IG1vdXNlTW92ZSBoYW5kbGVyIGlzIGF0dGFjaGVkIHRvIGRvY3VtZW50IHNvIGl0IHdpbGwgc3RpbGwgZnVuY3Rpb25cblx0ICAgICAgICAvLyB3aGVuIHRoZSB1c2VyIGRyYWdzIHF1aWNrbHkgYW5kIGxlYXZlcyB0aGUgYm91bmRzIG9mIHRoZSBlbGVtZW50LlxuXHQgICAgICAgIG9uTW91c2VEb3duOiB0aGlzLm9uTW91c2VEb3duLFxuXHQgICAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5vblRvdWNoU3RhcnQsXG5cdCAgICAgICAgb25Nb3VzZVVwOiB0aGlzLm9uTW91c2VVcCxcblx0ICAgICAgICBvblRvdWNoRW5kOiB0aGlzLm9uVG91Y2hFbmRcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBEcmFnZ2FibGVDb3JlO1xuXHR9KFJlYWN0LkNvbXBvbmVudCk7XG5cblx0RHJhZ2dhYmxlQ29yZS5kaXNwbGF5TmFtZSA9ICdEcmFnZ2FibGVDb3JlJztcblx0RHJhZ2dhYmxlQ29yZS5wcm9wVHlwZXMgPSB7XG5cdCAgLyoqXG5cdCAgICogYGFsbG93QW55Q2xpY2tgIGFsbG93cyBkcmFnZ2luZyB1c2luZyBhbnkgbW91c2UgYnV0dG9uLlxuXHQgICAqIEJ5IGRlZmF1bHQsIHdlIG9ubHkgYWNjZXB0IHRoZSBsZWZ0IGJ1dHRvbi5cblx0ICAgKlxuXHQgICAqIERlZmF1bHRzIHRvIGBmYWxzZWAuXG5cdCAgICovXG5cdCAgYWxsb3dBbnlDbGljazogcHJvcFR5cGVzLmJvb2wsXG5cblx0ICAvKipcblx0ICAgKiBgZGlzYWJsZWRgLCBpZiB0cnVlLCBzdG9wcyB0aGUgPERyYWdnYWJsZT4gZnJvbSBkcmFnZ2luZy4gQWxsIGhhbmRsZXJzLFxuXHQgICAqIHdpdGggdGhlIGV4Y2VwdGlvbiBvZiBgb25Nb3VzZURvd25gLCB3aWxsIG5vdCBmaXJlLlxuXHQgICAqL1xuXHQgIGRpc2FibGVkOiBwcm9wVHlwZXMuYm9vbCxcblxuXHQgIC8qKlxuXHQgICAqIEJ5IGRlZmF1bHQsIHdlIGFkZCAndXNlci1zZWxlY3Q6bm9uZScgYXR0cmlidXRlcyB0byB0aGUgZG9jdW1lbnQgYm9keVxuXHQgICAqIHRvIHByZXZlbnQgdWdseSB0ZXh0IHNlbGVjdGlvbiBkdXJpbmcgZHJhZy4gSWYgdGhpcyBpcyBjYXVzaW5nIHByb2JsZW1zXG5cdCAgICogZm9yIHlvdXIgYXBwLCBzZXQgdGhpcyB0byBgZmFsc2VgLlxuXHQgICAqL1xuXHQgIGVuYWJsZVVzZXJTZWxlY3RIYWNrOiBwcm9wVHlwZXMuYm9vbCxcblxuXHQgIC8qKlxuXHQgICAqIGBvZmZzZXRQYXJlbnRgLCBpZiBzZXQsIHVzZXMgdGhlIHBhc3NlZCBET00gbm9kZSB0byBjb21wdXRlIGRyYWcgb2Zmc2V0c1xuXHQgICAqIGluc3RlYWQgb2YgdXNpbmcgdGhlIHBhcmVudCBub2RlLlxuXHQgICAqL1xuXHQgIG9mZnNldFBhcmVudDogZnVuY3Rpb24gb2Zmc2V0UGFyZW50KHByb3BzIC8qOiBEcmFnZ2FibGVDb3JlUHJvcHMqLywgcHJvcE5hbWUgLyo6ICRLZXlzPERyYWdnYWJsZUNvcmVQcm9wcz4qLykge1xuXHQgICAgaWYgKHByb3BzW3Byb3BOYW1lXSAmJiBwcm9wc1twcm9wTmFtZV0ubm9kZVR5cGUgIT09IDEpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdEcmFnZ2FibGVcXCdzIG9mZnNldFBhcmVudCBtdXN0IGJlIGEgRE9NIE5vZGUuJyk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIC8qKlxuXHQgICAqIGBncmlkYCBzcGVjaWZpZXMgdGhlIHggYW5kIHkgdGhhdCBkcmFnZ2luZyBzaG91bGQgc25hcCB0by5cblx0ICAgKi9cblx0ICBncmlkOiBwcm9wVHlwZXMuYXJyYXlPZihwcm9wVHlwZXMubnVtYmVyKSxcblxuXHQgIC8qKlxuXHQgICAqIGBzY2FsZWAgc3BlY2lmaWVzIHRoZSBzY2FsZSBvZiB0aGUgYXJlYSB5b3UgYXJlIGRyYWdnaW5nIGluc2lkZSBvZi4gSXQgYWxsb3dzXG5cdCAgICogdGhlIGRyYWcgZGVsdGFzIHRvIHNjYWxlIGNvcnJlY3RseSB3aXRoIGhvdyBmYXIgem9vbWVkIGluL291dCB5b3UgYXJlLlxuXHQgICAqL1xuXHQgIHNjYWxlOiBwcm9wVHlwZXMubnVtYmVyLFxuXG5cdCAgLyoqXG5cdCAgICogYGhhbmRsZWAgc3BlY2lmaWVzIGEgc2VsZWN0b3IgdG8gYmUgdXNlZCBhcyB0aGUgaGFuZGxlIHRoYXQgaW5pdGlhdGVzIGRyYWcuXG5cdCAgICpcblx0ICAgKiBFeGFtcGxlOlxuXHQgICAqXG5cdCAgICogYGBganN4XG5cdCAgICogICBsZXQgQXBwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXHQgICAqICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuXHQgICAqICAgICAgICAgcmV0dXJuIChcblx0ICAgKiAgICAgICAgICAgIDxEcmFnZ2FibGUgaGFuZGxlPVwiLmhhbmRsZVwiPlxuXHQgICAqICAgICAgICAgICAgICA8ZGl2PlxuXHQgICAqICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoYW5kbGVcIj5DbGljayBtZSB0byBkcmFnPC9kaXY+XG5cdCAgICogICAgICAgICAgICAgICAgICA8ZGl2PlRoaXMgaXMgc29tZSBvdGhlciBjb250ZW50PC9kaXY+XG5cdCAgICogICAgICAgICAgICAgIDwvZGl2PlxuXHQgICAqICAgICAgICAgICA8L0RyYWdnYWJsZT5cblx0ICAgKiAgICAgICAgICk7XG5cdCAgICogICAgICAgfVxuXHQgICAqICAgfSk7XG5cdCAgICogYGBgXG5cdCAgICovXG5cdCAgaGFuZGxlOiBwcm9wVHlwZXMuc3RyaW5nLFxuXG5cdCAgLyoqXG5cdCAgICogYGNhbmNlbGAgc3BlY2lmaWVzIGEgc2VsZWN0b3IgdG8gYmUgdXNlZCB0byBwcmV2ZW50IGRyYWcgaW5pdGlhbGl6YXRpb24uXG5cdCAgICpcblx0ICAgKiBFeGFtcGxlOlxuXHQgICAqXG5cdCAgICogYGBganN4XG5cdCAgICogICBsZXQgQXBwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXHQgICAqICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuXHQgICAqICAgICAgICAgICByZXR1cm4oXG5cdCAgICogICAgICAgICAgICAgICA8RHJhZ2dhYmxlIGNhbmNlbD1cIi5jYW5jZWxcIj5cblx0ICAgKiAgICAgICAgICAgICAgICAgICA8ZGl2PlxuXHQgICAqICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYW5jZWxcIj5Zb3UgY2FuJ3QgZHJhZyBmcm9tIGhlcmU8L2Rpdj5cblx0ICAgKiAgICAgICAgICAgICAgICAgICAgIDxkaXY+RHJhZ2dpbmcgaGVyZSB3b3JrcyBmaW5lPC9kaXY+XG5cdCAgICogICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cdCAgICogICAgICAgICAgICAgICA8L0RyYWdnYWJsZT5cblx0ICAgKiAgICAgICAgICAgKTtcblx0ICAgKiAgICAgICB9XG5cdCAgICogICB9KTtcblx0ICAgKiBgYGBcblx0ICAgKi9cblx0ICBjYW5jZWw6IHByb3BUeXBlcy5zdHJpbmcsXG5cblx0ICAvKipcblx0ICAgKiBDYWxsZWQgd2hlbiBkcmFnZ2luZyBzdGFydHMuXG5cdCAgICogSWYgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBib29sZWFuIGZhbHNlLCBkcmFnZ2luZyB3aWxsIGJlIGNhbmNlbGVkLlxuXHQgICAqL1xuXHQgIG9uU3RhcnQ6IHByb3BUeXBlcy5mdW5jLFxuXG5cdCAgLyoqXG5cdCAgICogQ2FsbGVkIHdoaWxlIGRyYWdnaW5nLlxuXHQgICAqIElmIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgYm9vbGVhbiBmYWxzZSwgZHJhZ2dpbmcgd2lsbCBiZSBjYW5jZWxlZC5cblx0ICAgKi9cblx0ICBvbkRyYWc6IHByb3BUeXBlcy5mdW5jLFxuXG5cdCAgLyoqXG5cdCAgICogQ2FsbGVkIHdoZW4gZHJhZ2dpbmcgc3RvcHMuXG5cdCAgICogSWYgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBib29sZWFuIGZhbHNlLCB0aGUgZHJhZyB3aWxsIHJlbWFpbiBhY3RpdmUuXG5cdCAgICovXG5cdCAgb25TdG9wOiBwcm9wVHlwZXMuZnVuYyxcblxuXHQgIC8qKlxuXHQgICAqIEEgd29ya2Fyb3VuZCBvcHRpb24gd2hpY2ggY2FuIGJlIHBhc3NlZCBpZiBvbk1vdXNlRG93biBuZWVkcyB0byBiZSBhY2Nlc3NlZCxcblx0ICAgKiBzaW5jZSBpdCdsbCBhbHdheXMgYmUgYmxvY2tlZCAoYXMgdGhlcmUgaXMgaW50ZXJuYWwgdXNlIG9mIG9uTW91c2VEb3duKVxuXHQgICAqL1xuXHQgIG9uTW91c2VEb3duOiBwcm9wVHlwZXMuZnVuYyxcblxuXHQgIC8qKlxuXHQgICAqIFRoZXNlIHByb3BlcnRpZXMgc2hvdWxkIGJlIGRlZmluZWQgb24gdGhlIGNoaWxkLCBub3QgaGVyZS5cblx0ICAgKi9cblx0ICBjbGFzc05hbWU6IGRvbnRTZXRNZSxcblx0ICBzdHlsZTogZG9udFNldE1lLFxuXHQgIHRyYW5zZm9ybTogZG9udFNldE1lXG5cdH07XG5cdERyYWdnYWJsZUNvcmUuZGVmYXVsdFByb3BzID0ge1xuXHQgIGFsbG93QW55Q2xpY2s6IGZhbHNlLCAvLyBieSBkZWZhdWx0IG9ubHkgYWNjZXB0IGxlZnQgY2xpY2tcblx0ICBjYW5jZWw6IG51bGwsXG5cdCAgZGlzYWJsZWQ6IGZhbHNlLFxuXHQgIGVuYWJsZVVzZXJTZWxlY3RIYWNrOiB0cnVlLFxuXHQgIG9mZnNldFBhcmVudDogbnVsbCxcblx0ICBoYW5kbGU6IG51bGwsXG5cdCAgZ3JpZDogbnVsbCxcblx0ICB0cmFuc2Zvcm06IG51bGwsXG5cdCAgb25TdGFydDogZnVuY3Rpb24gb25TdGFydCgpIHt9LFxuXHQgIG9uRHJhZzogZnVuY3Rpb24gb25EcmFnKCkge30sXG5cdCAgb25TdG9wOiBmdW5jdGlvbiBvblN0b3AoKSB7fSxcblx0ICBvbk1vdXNlRG93bjogZnVuY3Rpb24gb25Nb3VzZURvd24oKSB7fVxuXHR9O1xuXG5cdC8qOjogaW1wb3J0IHR5cGUge0RyYWdnYWJsZUV2ZW50SGFuZGxlcn0gZnJvbSAnLi91dGlscy90eXBlcyc7Ki9cblx0Lyo6OiBpbXBvcnQgdHlwZSB7RWxlbWVudCBhcyBSZWFjdEVsZW1lbnR9IGZyb20gJ3JlYWN0JzsqL1xuXHQvKjo6IHR5cGUgRHJhZ2dhYmxlU3RhdGUgPSB7XG5cdCAgZHJhZ2dpbmc6IGJvb2xlYW4sXG5cdCAgZHJhZ2dlZDogYm9vbGVhbixcblx0ICB4OiBudW1iZXIsIHk6IG51bWJlcixcblx0ICBzbGFja1g6IG51bWJlciwgc2xhY2tZOiBudW1iZXIsXG5cdCAgaXNFbGVtZW50U1ZHOiBib29sZWFuXG5cdH07Ki9cblxuXG5cdC8vXG5cdC8vIERlZmluZSA8RHJhZ2dhYmxlPlxuXHQvL1xuXG5cdC8qOjogZXhwb3J0IHR5cGUgRHJhZ2dhYmxlUHJvcHMgPSB7XG5cdCAgLi4uJEV4YWN0PERyYWdnYWJsZUNvcmVQcm9wcz4sXG5cdCAgYXhpczogJ2JvdGgnIHwgJ3gnIHwgJ3knIHwgJ25vbmUnLFxuXHQgIGJvdW5kczogRHJhZ2dhYmxlQm91bmRzIHwgc3RyaW5nIHwgZmFsc2UsXG5cdCAgZGVmYXVsdENsYXNzTmFtZTogc3RyaW5nLFxuXHQgIGRlZmF1bHRDbGFzc05hbWVEcmFnZ2luZzogc3RyaW5nLFxuXHQgIGRlZmF1bHRDbGFzc05hbWVEcmFnZ2VkOiBzdHJpbmcsXG5cdCAgZGVmYXVsdFBvc2l0aW9uOiBDb250cm9sUG9zaXRpb24sXG5cdCAgcG9zaXRpb25PZmZzZXQ6IFBvc2l0aW9uT2Zmc2V0Q29udHJvbFBvc2l0aW9uLFxuXHQgIHBvc2l0aW9uOiBDb250cm9sUG9zaXRpb24sXG5cdCAgc2NhbGU6IG51bWJlclxuXHR9OyovXG5cblx0dmFyIERyYWdnYWJsZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgaW5oZXJpdHMoRHJhZ2dhYmxlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuXHQgIGZ1bmN0aW9uIERyYWdnYWJsZShwcm9wcyAvKjogRHJhZ2dhYmxlUHJvcHMqLykge1xuXHQgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgRHJhZ2dhYmxlKTtcblxuXHQgICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRHJhZ2dhYmxlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRHJhZ2dhYmxlKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG5cdCAgICBfdGhpcy5vbkRyYWdTdGFydCA9IGZ1bmN0aW9uIChlLCBjb3JlRGF0YSkge1xuXG5cdCAgICAgIC8vIFNob3J0LWNpcmN1aXQgaWYgdXNlcidzIGNhbGxiYWNrIGtpbGxlZCBpdC5cblx0ICAgICAgdmFyIHNob3VsZFN0YXJ0ID0gX3RoaXMucHJvcHMub25TdGFydChlLCBjcmVhdGVEcmFnZ2FibGVEYXRhKF90aGlzLCBjb3JlRGF0YSkpO1xuXHQgICAgICAvLyBLaWxscyBzdGFydCBldmVudCBvbiBjb3JlIGFzIHdlbGwsIHNvIG1vdmUgaGFuZGxlcnMgYXJlIG5ldmVyIGJvdW5kLlxuXHQgICAgICBpZiAoc2hvdWxkU3RhcnQgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG5cblx0ICAgICAgX3RoaXMuc2V0U3RhdGUoeyBkcmFnZ2luZzogdHJ1ZSwgZHJhZ2dlZDogdHJ1ZSB9KTtcblx0ICAgIH07XG5cblx0ICAgIF90aGlzLm9uRHJhZyA9IGZ1bmN0aW9uIChlLCBjb3JlRGF0YSkge1xuXHQgICAgICBpZiAoIV90aGlzLnN0YXRlLmRyYWdnaW5nKSByZXR1cm4gZmFsc2U7XG5cblx0ICAgICAgdmFyIHVpRGF0YSA9IGNyZWF0ZURyYWdnYWJsZURhdGEoX3RoaXMsIGNvcmVEYXRhKTtcblxuXHQgICAgICB2YXIgbmV3U3RhdGUgLyo6ICRTaGFwZTxEcmFnZ2FibGVTdGF0ZT4qLyA9IHtcblx0ICAgICAgICB4OiB1aURhdGEueCxcblx0ICAgICAgICB5OiB1aURhdGEueVxuXHQgICAgICB9O1xuXG5cdCAgICAgIC8vIEtlZXAgd2l0aGluIGJvdW5kcy5cblx0ICAgICAgaWYgKF90aGlzLnByb3BzLmJvdW5kcykge1xuXHQgICAgICAgIC8vIFNhdmUgb3JpZ2luYWwgeCBhbmQgeS5cblx0ICAgICAgICB2YXIgX3ggPSBuZXdTdGF0ZS54LFxuXHQgICAgICAgICAgICBfeSA9IG5ld1N0YXRlLnk7XG5cblx0ICAgICAgICAvLyBBZGQgc2xhY2sgdG8gdGhlIHZhbHVlcyB1c2VkIHRvIGNhbGN1bGF0ZSBib3VuZCBwb3NpdGlvbi4gVGhpcyB3aWxsIGVuc3VyZSB0aGF0IGlmXG5cdCAgICAgICAgLy8gd2Ugc3RhcnQgcmVtb3Zpbmcgc2xhY2ssIHRoZSBlbGVtZW50IHdvbid0IHJlYWN0IHRvIGl0IHJpZ2h0IGF3YXkgdW50aWwgaXQncyBiZWVuXG5cdCAgICAgICAgLy8gY29tcGxldGVseSByZW1vdmVkLlxuXG5cdCAgICAgICAgbmV3U3RhdGUueCArPSBfdGhpcy5zdGF0ZS5zbGFja1g7XG5cdCAgICAgICAgbmV3U3RhdGUueSArPSBfdGhpcy5zdGF0ZS5zbGFja1k7XG5cblx0ICAgICAgICAvLyBHZXQgYm91bmQgcG9zaXRpb24uIFRoaXMgd2lsbCBjZWlsL2Zsb29yIHRoZSB4IGFuZCB5IHdpdGhpbiB0aGUgYm91bmRhcmllcy5cblxuXHQgICAgICAgIHZhciBfZ2V0Qm91bmRQb3NpdGlvbiA9IGdldEJvdW5kUG9zaXRpb24oX3RoaXMsIG5ld1N0YXRlLngsIG5ld1N0YXRlLnkpLFxuXHQgICAgICAgICAgICBfZ2V0Qm91bmRQb3NpdGlvbjIgPSBzbGljZWRUb0FycmF5KF9nZXRCb3VuZFBvc2l0aW9uLCAyKSxcblx0ICAgICAgICAgICAgbmV3U3RhdGVYID0gX2dldEJvdW5kUG9zaXRpb24yWzBdLFxuXHQgICAgICAgICAgICBuZXdTdGF0ZVkgPSBfZ2V0Qm91bmRQb3NpdGlvbjJbMV07XG5cblx0ICAgICAgICBuZXdTdGF0ZS54ID0gbmV3U3RhdGVYO1xuXHQgICAgICAgIG5ld1N0YXRlLnkgPSBuZXdTdGF0ZVk7XG5cblx0ICAgICAgICAvLyBSZWNhbGN1bGF0ZSBzbGFjayBieSBub3RpbmcgaG93IG11Y2ggd2FzIHNoYXZlZCBieSB0aGUgYm91bmRQb3NpdGlvbiBoYW5kbGVyLlxuXHQgICAgICAgIG5ld1N0YXRlLnNsYWNrWCA9IF90aGlzLnN0YXRlLnNsYWNrWCArIChfeCAtIG5ld1N0YXRlLngpO1xuXHQgICAgICAgIG5ld1N0YXRlLnNsYWNrWSA9IF90aGlzLnN0YXRlLnNsYWNrWSArIChfeSAtIG5ld1N0YXRlLnkpO1xuXG5cdCAgICAgICAgLy8gVXBkYXRlIHRoZSBldmVudCB3ZSBmaXJlIHRvIHJlZmxlY3Qgd2hhdCByZWFsbHkgaGFwcGVuZWQgYWZ0ZXIgYm91bmRzIHRvb2sgZWZmZWN0LlxuXHQgICAgICAgIHVpRGF0YS54ID0gbmV3U3RhdGUueDtcblx0ICAgICAgICB1aURhdGEueSA9IG5ld1N0YXRlLnk7XG5cdCAgICAgICAgdWlEYXRhLmRlbHRhWCA9IG5ld1N0YXRlLnggLSBfdGhpcy5zdGF0ZS54O1xuXHQgICAgICAgIHVpRGF0YS5kZWx0YVkgPSBuZXdTdGF0ZS55IC0gX3RoaXMuc3RhdGUueTtcblx0ICAgICAgfVxuXG5cdCAgICAgIC8vIFNob3J0LWNpcmN1aXQgaWYgdXNlcidzIGNhbGxiYWNrIGtpbGxlZCBpdC5cblx0ICAgICAgdmFyIHNob3VsZFVwZGF0ZSA9IF90aGlzLnByb3BzLm9uRHJhZyhlLCB1aURhdGEpO1xuXHQgICAgICBpZiAoc2hvdWxkVXBkYXRlID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuXG5cdCAgICAgIF90aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcblx0ICAgIH07XG5cblx0ICAgIF90aGlzLm9uRHJhZ1N0b3AgPSBmdW5jdGlvbiAoZSwgY29yZURhdGEpIHtcblx0ICAgICAgaWYgKCFfdGhpcy5zdGF0ZS5kcmFnZ2luZykgcmV0dXJuIGZhbHNlO1xuXG5cdCAgICAgIC8vIFNob3J0LWNpcmN1aXQgaWYgdXNlcidzIGNhbGxiYWNrIGtpbGxlZCBpdC5cblx0ICAgICAgdmFyIHNob3VsZFN0b3AgPSBfdGhpcy5wcm9wcy5vblN0b3AoZSwgY3JlYXRlRHJhZ2dhYmxlRGF0YShfdGhpcywgY29yZURhdGEpKTtcblx0ICAgICAgaWYgKHNob3VsZFN0b3AgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG5cblx0ICAgICAgdmFyIG5ld1N0YXRlIC8qOiAkU2hhcGU8RHJhZ2dhYmxlU3RhdGU+Ki8gPSB7XG5cdCAgICAgICAgZHJhZ2dpbmc6IGZhbHNlLFxuXHQgICAgICAgIHNsYWNrWDogMCxcblx0ICAgICAgICBzbGFja1k6IDBcblx0ICAgICAgfTtcblxuXHQgICAgICAvLyBJZiB0aGlzIGlzIGEgY29udHJvbGxlZCBjb21wb25lbnQsIHRoZSByZXN1bHQgb2YgdGhpcyBvcGVyYXRpb24gd2lsbCBiZSB0b1xuXHQgICAgICAvLyByZXZlcnQgYmFjayB0byB0aGUgb2xkIHBvc2l0aW9uLiBXZSBleHBlY3QgYSBoYW5kbGVyIG9uIGBvbkRyYWdTdG9wYCwgYXQgdGhlIGxlYXN0LlxuXHQgICAgICB2YXIgY29udHJvbGxlZCA9IEJvb2xlYW4oX3RoaXMucHJvcHMucG9zaXRpb24pO1xuXHQgICAgICBpZiAoY29udHJvbGxlZCkge1xuXHQgICAgICAgIHZhciBfdGhpcyRwcm9wcyRwb3NpdGlvbiA9IF90aGlzLnByb3BzLnBvc2l0aW9uLFxuXHQgICAgICAgICAgICBfeDIgPSBfdGhpcyRwcm9wcyRwb3NpdGlvbi54LFxuXHQgICAgICAgICAgICBfeTIgPSBfdGhpcyRwcm9wcyRwb3NpdGlvbi55O1xuXG5cdCAgICAgICAgbmV3U3RhdGUueCA9IF94Mjtcblx0ICAgICAgICBuZXdTdGF0ZS55ID0gX3kyO1xuXHQgICAgICB9XG5cblx0ICAgICAgX3RoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuXHQgICAgfTtcblxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIC8vIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBjdXJyZW50bHkgZHJhZ2dpbmcuXG5cdCAgICAgIGRyYWdnaW5nOiBmYWxzZSxcblxuXHQgICAgICAvLyBXaGV0aGVyIG9yIG5vdCB3ZSBoYXZlIGJlZW4gZHJhZ2dlZCBiZWZvcmUuXG5cdCAgICAgIGRyYWdnZWQ6IGZhbHNlLFxuXG5cdCAgICAgIC8vIEN1cnJlbnQgdHJhbnNmb3JtIHggYW5kIHkuXG5cdCAgICAgIHg6IHByb3BzLnBvc2l0aW9uID8gcHJvcHMucG9zaXRpb24ueCA6IHByb3BzLmRlZmF1bHRQb3NpdGlvbi54LFxuXHQgICAgICB5OiBwcm9wcy5wb3NpdGlvbiA/IHByb3BzLnBvc2l0aW9uLnkgOiBwcm9wcy5kZWZhdWx0UG9zaXRpb24ueSxcblxuXHQgICAgICAvLyBVc2VkIGZvciBjb21wZW5zYXRpbmcgZm9yIG91dC1vZi1ib3VuZHMgZHJhZ3Ncblx0ICAgICAgc2xhY2tYOiAwLCBzbGFja1k6IDAsXG5cblx0ICAgICAgLy8gQ2FuIG9ubHkgZGV0ZXJtaW5lIGlmIFNWRyBhZnRlciBtb3VudGluZ1xuXHQgICAgICBpc0VsZW1lbnRTVkc6IGZhbHNlXG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblxuXHQgIGNyZWF0ZUNsYXNzKERyYWdnYWJsZSwgW3tcblx0ICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuXHQgICAgICBpZiAodGhpcy5wcm9wcy5wb3NpdGlvbiAmJiAhKHRoaXMucHJvcHMub25EcmFnIHx8IHRoaXMucHJvcHMub25TdG9wKSkge1xuXHQgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXHQgICAgICAgIGNvbnNvbGUud2FybignQSBgcG9zaXRpb25gIHdhcyBhcHBsaWVkIHRvIHRoaXMgPERyYWdnYWJsZT4sIHdpdGhvdXQgZHJhZyBoYW5kbGVycy4gVGhpcyB3aWxsIG1ha2UgdGhpcyAnICsgJ2NvbXBvbmVudCBlZmZlY3RpdmVseSB1bmRyYWdnYWJsZS4gUGxlYXNlIGF0dGFjaCBgb25EcmFnYCBvciBgb25TdG9wYCBoYW5kbGVycyBzbyB5b3UgY2FuIGFkanVzdCB0aGUgJyArICdgcG9zaXRpb25gIG9mIHRoaXMgZWxlbWVudC4nKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBlbGVtZW50IHBhc3NlZCBpcyBhbiBpbnN0YW5jZW9mIFNWR0VsZW1lbnRcblx0ICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuU1ZHRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgUmVhY3RET00uZmluZERPTU5vZGUodGhpcykgaW5zdGFuY2VvZiB3aW5kb3cuU1ZHRWxlbWVudCkge1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0VsZW1lbnRTVkc6IHRydWUgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcyAvKjogT2JqZWN0Ki8pIHtcblx0ICAgICAgLy8gU2V0IHgveSBpZiBwb3NpdGlvbiBoYXMgY2hhbmdlZFxuXHQgICAgICBpZiAobmV4dFByb3BzLnBvc2l0aW9uICYmICghdGhpcy5wcm9wcy5wb3NpdGlvbiB8fCBuZXh0UHJvcHMucG9zaXRpb24ueCAhPT0gdGhpcy5wcm9wcy5wb3NpdGlvbi54IHx8IG5leHRQcm9wcy5wb3NpdGlvbi55ICE9PSB0aGlzLnByb3BzLnBvc2l0aW9uLnkpKSB7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHg6IG5leHRQcm9wcy5wb3NpdGlvbi54LCB5OiBuZXh0UHJvcHMucG9zaXRpb24ueSB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRyYWdnaW5nOiBmYWxzZSB9KTsgLy8gcHJldmVudHMgaW52YXJpYW50IGlmIHVubW91bnRlZCB3aGlsZSBkcmFnZ2luZ1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgLyo6IFJlYWN0RWxlbWVudDxhbnk+Ki8ge1xuXHQgICAgICB2YXIgX2NsYXNzTmFtZXM7XG5cblx0ICAgICAgdmFyIHN0eWxlID0ge30sXG5cdCAgICAgICAgICBzdmdUcmFuc2Zvcm0gPSBudWxsO1xuXG5cdCAgICAgIC8vIElmIHRoaXMgaXMgY29udHJvbGxlZCwgd2UgZG9uJ3Qgd2FudCB0byBtb3ZlIGl0IC0gdW5sZXNzIGl0J3MgZHJhZ2dpbmcuXG5cdCAgICAgIHZhciBjb250cm9sbGVkID0gQm9vbGVhbih0aGlzLnByb3BzLnBvc2l0aW9uKTtcblx0ICAgICAgdmFyIGRyYWdnYWJsZSA9ICFjb250cm9sbGVkIHx8IHRoaXMuc3RhdGUuZHJhZ2dpbmc7XG5cblx0ICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5wcm9wcy5wb3NpdGlvbiB8fCB0aGlzLnByb3BzLmRlZmF1bHRQb3NpdGlvbjtcblx0ICAgICAgdmFyIHRyYW5zZm9ybU9wdHMgPSB7XG5cdCAgICAgICAgLy8gU2V0IGxlZnQgaWYgaG9yaXpvbnRhbCBkcmFnIGlzIGVuYWJsZWRcblx0ICAgICAgICB4OiBjYW5EcmFnWCh0aGlzKSAmJiBkcmFnZ2FibGUgPyB0aGlzLnN0YXRlLnggOiBwb3NpdGlvbi54LFxuXG5cdCAgICAgICAgLy8gU2V0IHRvcCBpZiB2ZXJ0aWNhbCBkcmFnIGlzIGVuYWJsZWRcblx0ICAgICAgICB5OiBjYW5EcmFnWSh0aGlzKSAmJiBkcmFnZ2FibGUgPyB0aGlzLnN0YXRlLnkgOiBwb3NpdGlvbi55XG5cdCAgICAgIH07XG5cblx0ICAgICAgLy8gSWYgdGhpcyBlbGVtZW50IHdhcyBTVkcsIHdlIHVzZSB0aGUgYHRyYW5zZm9ybWAgYXR0cmlidXRlLlxuXHQgICAgICBpZiAodGhpcy5zdGF0ZS5pc0VsZW1lbnRTVkcpIHtcblx0ICAgICAgICBzdmdUcmFuc2Zvcm0gPSBjcmVhdGVTVkdUcmFuc2Zvcm0odHJhbnNmb3JtT3B0cywgdGhpcy5wcm9wcy5wb3NpdGlvbk9mZnNldCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gQWRkIGEgQ1NTIHRyYW5zZm9ybSB0byBtb3ZlIHRoZSBlbGVtZW50IGFyb3VuZC4gVGhpcyBhbGxvd3MgdXMgdG8gbW92ZSB0aGUgZWxlbWVudCBhcm91bmRcblx0ICAgICAgICAvLyB3aXRob3V0IHdvcnJ5aW5nIGFib3V0IHdoZXRoZXIgb3Igbm90IGl0IGlzIHJlbGF0aXZlbHkgb3IgYWJzb2x1dGVseSBwb3NpdGlvbmVkLlxuXHQgICAgICAgIC8vIElmIHRoZSBpdGVtIHlvdSBhcmUgZHJhZ2dpbmcgYWxyZWFkeSBoYXMgYSB0cmFuc2Zvcm0gc2V0LCB3cmFwIGl0IGluIGEgPHNwYW4+IHNvIDxEcmFnZ2FibGU+XG5cdCAgICAgICAgLy8gaGFzIGEgY2xlYW4gc2xhdGUuXG5cdCAgICAgICAgc3R5bGUgPSBjcmVhdGVDU1NUcmFuc2Zvcm0odHJhbnNmb3JtT3B0cywgdGhpcy5wcm9wcy5wb3NpdGlvbk9mZnNldCk7XG5cdCAgICAgIH1cblxuXHQgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWUgPSBfcHJvcHMuZGVmYXVsdENsYXNzTmFtZSxcblx0ICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVEcmFnZ2luZyA9IF9wcm9wcy5kZWZhdWx0Q2xhc3NOYW1lRHJhZ2dpbmcsXG5cdCAgICAgICAgICBkZWZhdWx0Q2xhc3NOYW1lRHJhZ2dlZCA9IF9wcm9wcy5kZWZhdWx0Q2xhc3NOYW1lRHJhZ2dlZDtcblxuXG5cdCAgICAgIHZhciBjaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLm9ubHkodGhpcy5wcm9wcy5jaGlsZHJlbik7XG5cblx0ICAgICAgLy8gTWFyayB3aXRoIGNsYXNzIHdoaWxlIGRyYWdnaW5nXG5cdCAgICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc25hbWVzKGNoaWxkcmVuLnByb3BzLmNsYXNzTmFtZSB8fCAnJywgZGVmYXVsdENsYXNzTmFtZSwgKF9jbGFzc05hbWVzID0ge30sIGRlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBkZWZhdWx0Q2xhc3NOYW1lRHJhZ2dpbmcsIHRoaXMuc3RhdGUuZHJhZ2dpbmcpLCBkZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgZGVmYXVsdENsYXNzTmFtZURyYWdnZWQsIHRoaXMuc3RhdGUuZHJhZ2dlZCksIF9jbGFzc05hbWVzKSk7XG5cblx0ICAgICAgLy8gUmV1c2UgdGhlIGNoaWxkIHByb3ZpZGVkXG5cdCAgICAgIC8vIFRoaXMgbWFrZXMgaXQgZmxleGlibGUgdG8gdXNlIHdoYXRldmVyIGVsZW1lbnQgaXMgd2FudGVkIChkaXYsIHVsLCBldGMpXG5cdCAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIERyYWdnYWJsZUNvcmUsXG5cdCAgICAgICAgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgb25TdGFydDogdGhpcy5vbkRyYWdTdGFydCwgb25EcmFnOiB0aGlzLm9uRHJhZywgb25TdG9wOiB0aGlzLm9uRHJhZ1N0b3AgfSksXG5cdCAgICAgICAgUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7XG5cdCAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0ICAgICAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgY2hpbGRyZW4ucHJvcHMuc3R5bGUsIHN0eWxlKSxcblx0ICAgICAgICAgIHRyYW5zZm9ybTogc3ZnVHJhbnNmb3JtXG5cdCAgICAgICAgfSlcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIERyYWdnYWJsZTtcblx0fShSZWFjdC5Db21wb25lbnQpO1xuXG5cdERyYWdnYWJsZS5kaXNwbGF5TmFtZSA9ICdEcmFnZ2FibGUnO1xuXHREcmFnZ2FibGUucHJvcFR5cGVzID0gX2V4dGVuZHMoe30sIERyYWdnYWJsZUNvcmUucHJvcFR5cGVzLCB7XG5cblx0ICAvKipcblx0ICAgKiBgYXhpc2AgZGV0ZXJtaW5lcyB3aGljaCBheGlzIHRoZSBkcmFnZ2FibGUgY2FuIG1vdmUuXG5cdCAgICpcblx0ICAgKiAgTm90ZSB0aGF0IGFsbCBjYWxsYmFja3Mgd2lsbCBzdGlsbCByZXR1cm4gZGF0YSBhcyBub3JtYWwuIFRoaXMgb25seVxuXHQgICAqICBjb250cm9scyBmbHVzaGluZyB0byB0aGUgRE9NLlxuXHQgICAqXG5cdCAgICogJ2JvdGgnIGFsbG93cyBtb3ZlbWVudCBob3Jpem9udGFsbHkgYW5kIHZlcnRpY2FsbHkuXG5cdCAgICogJ3gnIGxpbWl0cyBtb3ZlbWVudCB0byBob3Jpem9udGFsIGF4aXMuXG5cdCAgICogJ3knIGxpbWl0cyBtb3ZlbWVudCB0byB2ZXJ0aWNhbCBheGlzLlxuXHQgICAqICdub25lJyBsaW1pdHMgYWxsIG1vdmVtZW50LlxuXHQgICAqXG5cdCAgICogRGVmYXVsdHMgdG8gJ2JvdGgnLlxuXHQgICAqL1xuXHQgIGF4aXM6IHByb3BUeXBlcy5vbmVPZihbJ2JvdGgnLCAneCcsICd5JywgJ25vbmUnXSksXG5cblx0ICAvKipcblx0ICAgKiBgYm91bmRzYCBkZXRlcm1pbmVzIHRoZSByYW5nZSBvZiBtb3ZlbWVudCBhdmFpbGFibGUgdG8gdGhlIGVsZW1lbnQuXG5cdCAgICogQXZhaWxhYmxlIHZhbHVlcyBhcmU6XG5cdCAgICpcblx0ICAgKiAncGFyZW50JyByZXN0cmljdHMgbW92ZW1lbnQgd2l0aGluIHRoZSBEcmFnZ2FibGUncyBwYXJlbnQgbm9kZS5cblx0ICAgKlxuXHQgICAqIEFsdGVybmF0aXZlbHksIHBhc3MgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzLCBhbGwgb2Ygd2hpY2ggYXJlIG9wdGlvbmFsOlxuXHQgICAqXG5cdCAgICoge2xlZnQ6IExFRlRfQk9VTkQsIHJpZ2h0OiBSSUdIVF9CT1VORCwgYm90dG9tOiBCT1RUT01fQk9VTkQsIHRvcDogVE9QX0JPVU5EfVxuXHQgICAqXG5cdCAgICogQWxsIHZhbHVlcyBhcmUgaW4gcHguXG5cdCAgICpcblx0ICAgKiBFeGFtcGxlOlxuXHQgICAqXG5cdCAgICogYGBganN4XG5cdCAgICogICBsZXQgQXBwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXHQgICAqICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuXHQgICAqICAgICAgICAgcmV0dXJuIChcblx0ICAgKiAgICAgICAgICAgIDxEcmFnZ2FibGUgYm91bmRzPXt7cmlnaHQ6IDMwMCwgYm90dG9tOiAzMDB9fT5cblx0ICAgKiAgICAgICAgICAgICAgPGRpdj5Db250ZW50PC9kaXY+XG5cdCAgICogICAgICAgICAgIDwvRHJhZ2dhYmxlPlxuXHQgICAqICAgICAgICAgKTtcblx0ICAgKiAgICAgICB9XG5cdCAgICogICB9KTtcblx0ICAgKiBgYGBcblx0ICAgKi9cblx0ICBib3VuZHM6IHByb3BUeXBlcy5vbmVPZlR5cGUoW3Byb3BUeXBlcy5zaGFwZSh7XG5cdCAgICBsZWZ0OiBwcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgcmlnaHQ6IHByb3BUeXBlcy5udW1iZXIsXG5cdCAgICB0b3A6IHByb3BUeXBlcy5udW1iZXIsXG5cdCAgICBib3R0b206IHByb3BUeXBlcy5udW1iZXJcblx0ICB9KSwgcHJvcFR5cGVzLnN0cmluZywgcHJvcFR5cGVzLm9uZU9mKFtmYWxzZV0pXSksXG5cblx0ICBkZWZhdWx0Q2xhc3NOYW1lOiBwcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGRlZmF1bHRDbGFzc05hbWVEcmFnZ2luZzogcHJvcFR5cGVzLnN0cmluZyxcblx0ICBkZWZhdWx0Q2xhc3NOYW1lRHJhZ2dlZDogcHJvcFR5cGVzLnN0cmluZyxcblxuXHQgIC8qKlxuXHQgICAqIGBkZWZhdWx0UG9zaXRpb25gIHNwZWNpZmllcyB0aGUgeCBhbmQgeSB0aGF0IHRoZSBkcmFnZ2VkIGl0ZW0gc2hvdWxkIHN0YXJ0IGF0XG5cdCAgICpcblx0ICAgKiBFeGFtcGxlOlxuXHQgICAqXG5cdCAgICogYGBganN4XG5cdCAgICogICAgICBsZXQgQXBwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXHQgICAqICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuXHQgICAqICAgICAgICAgICAgICByZXR1cm4gKFxuXHQgICAqICAgICAgICAgICAgICAgICAgPERyYWdnYWJsZSBkZWZhdWx0UG9zaXRpb249e3t4OiAyNSwgeTogMjV9fT5cblx0ICAgKiAgICAgICAgICAgICAgICAgICAgICA8ZGl2Pkkgc3RhcnQgd2l0aCB0cmFuc2Zvcm1YOiAyNXB4IGFuZCB0cmFuc2Zvcm1ZOiAyNXB4OzwvZGl2PlxuXHQgICAqICAgICAgICAgICAgICAgICAgPC9EcmFnZ2FibGU+XG5cdCAgICogICAgICAgICAgICAgICk7XG5cdCAgICogICAgICAgICAgfVxuXHQgICAqICAgICAgfSk7XG5cdCAgICogYGBgXG5cdCAgICovXG5cdCAgZGVmYXVsdFBvc2l0aW9uOiBwcm9wVHlwZXMuc2hhcGUoe1xuXHQgICAgeDogcHJvcFR5cGVzLm51bWJlcixcblx0ICAgIHk6IHByb3BUeXBlcy5udW1iZXJcblx0ICB9KSxcblx0ICBwb3NpdGlvbk9mZnNldDogcHJvcFR5cGVzLnNoYXBlKHtcblx0ICAgIHg6IHByb3BUeXBlcy5vbmVPZlR5cGUoW3Byb3BUeXBlcy5udW1iZXIsIHByb3BUeXBlcy5zdHJpbmddKSxcblx0ICAgIHk6IHByb3BUeXBlcy5vbmVPZlR5cGUoW3Byb3BUeXBlcy5udW1iZXIsIHByb3BUeXBlcy5zdHJpbmddKVxuXHQgIH0pLFxuXG5cdCAgLyoqXG5cdCAgICogYHBvc2l0aW9uYCwgaWYgcHJlc2VudCwgZGVmaW5lcyB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudC5cblx0ICAgKlxuXHQgICAqICBUaGlzIGlzIHNpbWlsYXIgdG8gaG93IGZvcm0gZWxlbWVudHMgaW4gUmVhY3Qgd29yayAtIGlmIG5vIGBwb3NpdGlvbmAgaXMgc3VwcGxpZWQsIHRoZSBjb21wb25lbnRcblx0ICAgKiAgaXMgdW5jb250cm9sbGVkLlxuXHQgICAqXG5cdCAgICogRXhhbXBsZTpcblx0ICAgKlxuXHQgICAqIGBgYGpzeFxuXHQgICAqICAgICAgbGV0IEFwcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ICAgKiAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcblx0ICAgKiAgICAgICAgICAgICAgcmV0dXJuIChcblx0ICAgKiAgICAgICAgICAgICAgICAgIDxEcmFnZ2FibGUgcG9zaXRpb249e3t4OiAyNSwgeTogMjV9fT5cblx0ICAgKiAgICAgICAgICAgICAgICAgICAgICA8ZGl2Pkkgc3RhcnQgd2l0aCB0cmFuc2Zvcm1YOiAyNXB4IGFuZCB0cmFuc2Zvcm1ZOiAyNXB4OzwvZGl2PlxuXHQgICAqICAgICAgICAgICAgICAgICAgPC9EcmFnZ2FibGU+XG5cdCAgICogICAgICAgICAgICAgICk7XG5cdCAgICogICAgICAgICAgfVxuXHQgICAqICAgICAgfSk7XG5cdCAgICogYGBgXG5cdCAgICovXG5cdCAgcG9zaXRpb246IHByb3BUeXBlcy5zaGFwZSh7XG5cdCAgICB4OiBwcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgeTogcHJvcFR5cGVzLm51bWJlclxuXHQgIH0pLFxuXG5cdCAgLyoqXG5cdCAgICogVGhlc2UgcHJvcGVydGllcyBzaG91bGQgYmUgZGVmaW5lZCBvbiB0aGUgY2hpbGQsIG5vdCBoZXJlLlxuXHQgICAqL1xuXHQgIGNsYXNzTmFtZTogZG9udFNldE1lLFxuXHQgIHN0eWxlOiBkb250U2V0TWUsXG5cdCAgdHJhbnNmb3JtOiBkb250U2V0TWVcblx0fSk7XG5cdERyYWdnYWJsZS5kZWZhdWx0UHJvcHMgPSBfZXh0ZW5kcyh7fSwgRHJhZ2dhYmxlQ29yZS5kZWZhdWx0UHJvcHMsIHtcblx0ICBheGlzOiAnYm90aCcsXG5cdCAgYm91bmRzOiBmYWxzZSxcblx0ICBkZWZhdWx0Q2xhc3NOYW1lOiAncmVhY3QtZHJhZ2dhYmxlJyxcblx0ICBkZWZhdWx0Q2xhc3NOYW1lRHJhZ2dpbmc6ICdyZWFjdC1kcmFnZ2FibGUtZHJhZ2dpbmcnLFxuXHQgIGRlZmF1bHRDbGFzc05hbWVEcmFnZ2VkOiAncmVhY3QtZHJhZ2dhYmxlLWRyYWdnZWQnLFxuXHQgIGRlZmF1bHRQb3NpdGlvbjogeyB4OiAwLCB5OiAwIH0sXG5cdCAgcG9zaXRpb246IG51bGwsXG5cdCAgc2NhbGU6IDFcblx0fSk7XG5cblx0Ly8gUHJldmlvdXMgdmVyc2lvbnMgb2YgdGhpcyBsaWIgZXhwb3J0ZWQgPERyYWdnYWJsZT4gYXMgdGhlIHJvb3QgZXhwb3J0LiBBcyB0byBub3QgYnJlYWtcblx0Ly8gdGhlbSwgb3IgVHlwZVNjcmlwdCwgd2UgZXhwb3J0ICpib3RoKiBhcyB0aGUgcm9vdCBhbmQgYXMgJ2RlZmF1bHQnLlxuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL216YWJyaXNraWUvcmVhY3QtZHJhZ2dhYmxlL3B1bGwvMjU0XG5cdC8vIGFuZCBodHRwczovL2dpdGh1Yi5jb20vbXphYnJpc2tpZS9yZWFjdC1kcmFnZ2FibGUvaXNzdWVzLzI2NlxuXHREcmFnZ2FibGUuZGVmYXVsdCA9IERyYWdnYWJsZTtcblx0RHJhZ2dhYmxlLkRyYWdnYWJsZUNvcmUgPSBEcmFnZ2FibGVDb3JlO1xuXG5cdHJldHVybiBEcmFnZ2FibGU7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdC1kcmFnZ2FibGUuanMubWFwXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9jb21tb24tY29tcG9uZW50cy9ub2RlX21vZHVsZXMvcmVhY3QtZHJhZ2dhYmxlL2Rpc3QvcmVhY3QtZHJhZ2dhYmxlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/*!***************************!*\
  !*** external "ReactDOM" ***!
  \***************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

module.exports = ReactDOM;

/***/ }),
/* 12 */
/*!*****************************************!*\
  !*** ../common-components/Paragraph.js ***!
  \*****************************************/
/*! exports provided: coreparagraph */
/*! exports used: coreparagraph */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return coreparagraph; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n\n\nvar RichText = wp.editor.RichText;\n\n\nvar config = {\n\tattrs: {\n\t\tclassName: 'sojuz-rich-text'\n\t}\n};\n\nvar coreparagraph = function coreparagraph(_ref) {\n\tvar updateAttrs = _ref.updateAttrs,\n\t    _ref$gridLayoutObject = _ref.gridLayoutObject,\n\t    align = _ref$gridLayoutObject.align,\n\t    fontSize = _ref$gridLayoutObject.fontSize,\n\t    weight = _ref$gridLayoutObject.weight,\n\t    reasignTo = _ref$gridLayoutObject.reasignTo,\n\t    textColor = _ref$gridLayoutObject.textColor,\n\t    backgroundColor = _ref$gridLayoutObject.backgroundColor,\n\t    backgroundOpacity = _ref$gridLayoutObject.backgroundOpacity,\n\t    verticalAlign = _ref$gridLayoutObject.verticalAlign,\n\t    padding = _ref$gridLayoutObject.padding,\n\t    _ref$attrs = _ref.attrs;\n\t_ref$attrs = _ref$attrs === undefined ? {} : _ref$attrs;\n\tvar innerHTML = _ref$attrs.innerHTML;\n\treturn wp.element.createElement(\n\t\t__WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,\n\t\tnull,\n\t\twp.element.createElement('div', {\n\t\t\tstyle: { opacity: backgroundOpacity },\n\t\t\tclassName: 'overlay ' + backgroundColor }),\n\t\twp.element.createElement(RichText, {\n\t\t\tclassName: 'vertical-' + verticalAlign + ' ' + fontSize + ' ' + textColor,\n\t\t\tmultiline: true,\n\t\t\ttagName: 'p',\n\t\t\tvalue: innerHTML,\n\t\t\tonChange: function onChange(innerHTML) {\n\t\t\t\treturn updateAttrs({ innerHTML: innerHTML });\n\t\t\t},\n\t\t\tstyle: { textAlign: align, fontWeight: weight }\n\t\t})\n\t);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vY29tbW9uLWNvbXBvbmVudHMvUGFyYWdyYXBoLmpzPzQ0YTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIFJpY2hUZXh0ID0gd3AuZWRpdG9yLlJpY2hUZXh0O1xuXG5cbnZhciBjb25maWcgPSB7XG5cdGF0dHJzOiB7XG5cdFx0Y2xhc3NOYW1lOiAnc29qdXotcmljaC10ZXh0J1xuXHR9XG59O1xuXG5leHBvcnQgdmFyIGNvcmVwYXJhZ3JhcGggPSBmdW5jdGlvbiBjb3JlcGFyYWdyYXBoKF9yZWYpIHtcblx0dmFyIHVwZGF0ZUF0dHJzID0gX3JlZi51cGRhdGVBdHRycyxcblx0ICAgIF9yZWYkZ3JpZExheW91dE9iamVjdCA9IF9yZWYuZ3JpZExheW91dE9iamVjdCxcblx0ICAgIGFsaWduID0gX3JlZiRncmlkTGF5b3V0T2JqZWN0LmFsaWduLFxuXHQgICAgZm9udFNpemUgPSBfcmVmJGdyaWRMYXlvdXRPYmplY3QuZm9udFNpemUsXG5cdCAgICB3ZWlnaHQgPSBfcmVmJGdyaWRMYXlvdXRPYmplY3Qud2VpZ2h0LFxuXHQgICAgcmVhc2lnblRvID0gX3JlZiRncmlkTGF5b3V0T2JqZWN0LnJlYXNpZ25Ubyxcblx0ICAgIHRleHRDb2xvciA9IF9yZWYkZ3JpZExheW91dE9iamVjdC50ZXh0Q29sb3IsXG5cdCAgICBiYWNrZ3JvdW5kQ29sb3IgPSBfcmVmJGdyaWRMYXlvdXRPYmplY3QuYmFja2dyb3VuZENvbG9yLFxuXHQgICAgYmFja2dyb3VuZE9wYWNpdHkgPSBfcmVmJGdyaWRMYXlvdXRPYmplY3QuYmFja2dyb3VuZE9wYWNpdHksXG5cdCAgICB2ZXJ0aWNhbEFsaWduID0gX3JlZiRncmlkTGF5b3V0T2JqZWN0LnZlcnRpY2FsQWxpZ24sXG5cdCAgICBwYWRkaW5nID0gX3JlZiRncmlkTGF5b3V0T2JqZWN0LnBhZGRpbmcsXG5cdCAgICBfcmVmJGF0dHJzID0gX3JlZi5hdHRycztcblx0X3JlZiRhdHRycyA9IF9yZWYkYXR0cnMgPT09IHVuZGVmaW5lZCA/IHt9IDogX3JlZiRhdHRycztcblx0dmFyIGlubmVySFRNTCA9IF9yZWYkYXR0cnMuaW5uZXJIVE1MO1xuXHRyZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFJlYWN0LkZyYWdtZW50LFxuXHRcdG51bGwsXG5cdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG5cdFx0XHRzdHlsZTogeyBvcGFjaXR5OiBiYWNrZ3JvdW5kT3BhY2l0eSB9LFxuXHRcdFx0Y2xhc3NOYW1lOiAnb3ZlcmxheSAnICsgYmFja2dyb3VuZENvbG9yIH0pLFxuXHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChSaWNoVGV4dCwge1xuXHRcdFx0Y2xhc3NOYW1lOiAndmVydGljYWwtJyArIHZlcnRpY2FsQWxpZ24gKyAnICcgKyBmb250U2l6ZSArICcgJyArIHRleHRDb2xvcixcblx0XHRcdG11bHRpbGluZTogdHJ1ZSxcblx0XHRcdHRhZ05hbWU6ICdwJyxcblx0XHRcdHZhbHVlOiBpbm5lckhUTUwsXG5cdFx0XHRvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoaW5uZXJIVE1MKSB7XG5cdFx0XHRcdHJldHVybiB1cGRhdGVBdHRycyh7IGlubmVySFRNTDogaW5uZXJIVE1MIH0pO1xuXHRcdFx0fSxcblx0XHRcdHN0eWxlOiB7IHRleHRBbGlnbjogYWxpZ24sIGZvbnRXZWlnaHQ6IHdlaWdodCB9XG5cdFx0fSlcblx0KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vY29tbW9uLWNvbXBvbmVudHMvUGFyYWdyYXBoLmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/*!*************************************!*\
  !*** ../common-components/Image.js ***!
  \*************************************/
/*! exports provided: coreimage */
/*! exports used: coreimage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return coreimage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n\n\nvar _wp$editor = wp.editor,\n    MediaUpload = _wp$editor.MediaUpload,\n    MediaUploadCheck = _wp$editor.MediaUploadCheck;\n\n\nvar config = {\n\tattrs: {\n\t\tclassName: 'sadsadsad',\n\t\toverlayColor: '#ffffff',\n\t\toverlayOpacity: 0.5\n\t}\n};\n\nvar coreimage = function coreimage(_ref) {\n\tvar updateAttrs = _ref.updateAttrs,\n\t    _ref$gridLayoutObject = _ref.gridLayoutObject,\n\t    layout = _ref$gridLayoutObject.layout,\n\t    overlayColor = _ref$gridLayoutObject.overlayColor,\n\t    overlayOpacity = _ref$gridLayoutObject.overlayOpacity,\n\t    attrs = _ref.attrs;\n\treturn wp.element.createElement(\n\t\t__WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,\n\t\tnull,\n\t\tattrs && wp.element.createElement(\n\t\t\t'picture',\n\t\t\t{\n\t\t\t\tstyle: { maxHeight: layout.h / 1.25 + 'em' },\n\t\t\t\tclassName: 'img-wrapper' },\n\t\t\twp.element.createElement('img', { src: attrs.url, alt: attrs.alt }),\n\t\t\twp.element.createElement('div', {\n\t\t\t\tstyle: { background: overlayColor, opacity: overlayOpacity },\n\t\t\t\tclassName: 'overlay' })\n\t\t),\n\t\twp.element.createElement(\n\t\t\tMediaUploadCheck,\n\t\t\tnull,\n\t\t\twp.element.createElement(MediaUpload, {\n\t\t\t\tallowedTypes: ['image'],\n\t\t\t\tonSelect: function onSelect(attrs) {\n\t\t\t\t\treturn updateAttrs(attrs);\n\t\t\t\t},\n\t\t\t\trender: function render(_ref2) {\n\t\t\t\t\tvar open = _ref2.open;\n\n\t\t\t\t\treturn wp.element.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ className: 'components-button is-button is-default is-small img-button', onClick: open },\n\t\t\t\t\t\tattrs ? 'Change image' : 'Choose image'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t)\n\t);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vY29tbW9uLWNvbXBvbmVudHMvSW1hZ2UuanM/YTVlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgX3dwJGVkaXRvciA9IHdwLmVkaXRvcixcbiAgICBNZWRpYVVwbG9hZCA9IF93cCRlZGl0b3IuTWVkaWFVcGxvYWQsXG4gICAgTWVkaWFVcGxvYWRDaGVjayA9IF93cCRlZGl0b3IuTWVkaWFVcGxvYWRDaGVjaztcblxuXG52YXIgY29uZmlnID0ge1xuXHRhdHRyczoge1xuXHRcdGNsYXNzTmFtZTogJ3NhZHNhZHNhZCcsXG5cdFx0b3ZlcmxheUNvbG9yOiAnI2ZmZmZmZicsXG5cdFx0b3ZlcmxheU9wYWNpdHk6IDAuNVxuXHR9XG59O1xuXG5leHBvcnQgdmFyIGNvcmVpbWFnZSA9IGZ1bmN0aW9uIGNvcmVpbWFnZShfcmVmKSB7XG5cdHZhciB1cGRhdGVBdHRycyA9IF9yZWYudXBkYXRlQXR0cnMsXG5cdCAgICBfcmVmJGdyaWRMYXlvdXRPYmplY3QgPSBfcmVmLmdyaWRMYXlvdXRPYmplY3QsXG5cdCAgICBsYXlvdXQgPSBfcmVmJGdyaWRMYXlvdXRPYmplY3QubGF5b3V0LFxuXHQgICAgb3ZlcmxheUNvbG9yID0gX3JlZiRncmlkTGF5b3V0T2JqZWN0Lm92ZXJsYXlDb2xvcixcblx0ICAgIG92ZXJsYXlPcGFjaXR5ID0gX3JlZiRncmlkTGF5b3V0T2JqZWN0Lm92ZXJsYXlPcGFjaXR5LFxuXHQgICAgYXR0cnMgPSBfcmVmLmF0dHJzO1xuXHRyZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFJlYWN0LkZyYWdtZW50LFxuXHRcdG51bGwsXG5cdFx0YXR0cnMgJiYgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0J3BpY3R1cmUnLFxuXHRcdFx0e1xuXHRcdFx0XHRzdHlsZTogeyBtYXhIZWlnaHQ6IGxheW91dC5oIC8gMS4yNSArICdlbScgfSxcblx0XHRcdFx0Y2xhc3NOYW1lOiAnaW1nLXdyYXBwZXInIH0sXG5cdFx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHsgc3JjOiBhdHRycy51cmwsIGFsdDogYXR0cnMuYWx0IH0pLFxuXHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG5cdFx0XHRcdHN0eWxlOiB7IGJhY2tncm91bmQ6IG92ZXJsYXlDb2xvciwgb3BhY2l0eTogb3ZlcmxheU9wYWNpdHkgfSxcblx0XHRcdFx0Y2xhc3NOYW1lOiAnb3ZlcmxheScgfSlcblx0XHQpLFxuXHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdE1lZGlhVXBsb2FkQ2hlY2ssXG5cdFx0XHRudWxsLFxuXHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KE1lZGlhVXBsb2FkLCB7XG5cdFx0XHRcdGFsbG93ZWRUeXBlczogWydpbWFnZSddLFxuXHRcdFx0XHRvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QoYXR0cnMpIHtcblx0XHRcdFx0XHRyZXR1cm4gdXBkYXRlQXR0cnMoYXR0cnMpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRyZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihfcmVmMikge1xuXHRcdFx0XHRcdHZhciBvcGVuID0gX3JlZjIub3BlbjtcblxuXHRcdFx0XHRcdHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0XHQnYnV0dG9uJyxcblx0XHRcdFx0XHRcdHsgY2xhc3NOYW1lOiAnY29tcG9uZW50cy1idXR0b24gaXMtYnV0dG9uIGlzLWRlZmF1bHQgaXMtc21hbGwgaW1nLWJ1dHRvbicsIG9uQ2xpY2s6IG9wZW4gfSxcblx0XHRcdFx0XHRcdGF0dHJzID8gJ0NoYW5nZSBpbWFnZScgOiAnQ2hvb3NlIGltYWdlJ1xuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0KVxuXHQpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9jb21tb24tY29tcG9uZW50cy9JbWFnZS5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/*!*******************************************!*\
  !*** ../common-components/CustomImage.js ***!
  \*******************************************/
/*! exports provided: customimage */
/*! exports used: customimage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return customimage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n\n\nvar _wp$editor = wp.editor,\n    MediaUpload = _wp$editor.MediaUpload,\n    MediaUploadCheck = _wp$editor.MediaUploadCheck;\n\n\nvar config = {\n\tattrs: {\n\t\tclassName: 'sadsadsad',\n\t\toverlayColor: '#ffffff',\n\t\toverlayOpacity: 0.5,\n\t\tfitTo: 'content'\n\n\t}\n};\n\nvar customimage = function customimage(_ref) {\n\tvar updateAttrs = _ref.updateAttrs,\n\t    _ref$gridLayoutObject = _ref.gridLayoutObject,\n\t    layout = _ref$gridLayoutObject.layout,\n\t    overlayColor = _ref$gridLayoutObject.overlayColor,\n\t    overlayOpacity = _ref$gridLayoutObject.overlayOpacity,\n\t    attrs = _ref.attrs;\n\treturn wp.element.createElement(\n\t\t__WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,\n\t\tnull,\n\t\tattrs && wp.element.createElement(\n\t\t\t'figure',\n\t\t\t{\n\t\t\t\tstyle: { height: layout.h / 1.35 + 'em' },\n\t\t\t\tclassName: 'img-wrapper' },\n\t\t\twp.element.createElement('img', { src: attrs.url, alt: attrs.alt }),\n\t\t\twp.element.createElement('div', {\n\t\t\t\tstyle: { background: overlayColor, opacity: overlayOpacity },\n\t\t\t\tclassName: 'overlay' })\n\t\t),\n\t\twp.element.createElement(\n\t\t\tMediaUploadCheck,\n\t\t\tnull,\n\t\t\twp.element.createElement(MediaUpload, {\n\t\t\t\tallowedTypes: ['image'],\n\t\t\t\tonSelect: function onSelect(attrs) {\n\t\t\t\t\treturn updateAttrs(attrs);\n\t\t\t\t},\n\t\t\t\trender: function render(_ref2) {\n\t\t\t\t\tvar open = _ref2.open;\n\n\t\t\t\t\treturn wp.element.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ className: 'components-button is-button is-default is-small img-button', onClick: open },\n\t\t\t\t\t\tattrs ? 'Change image' : 'Choose image'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t)\n\t);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vY29tbW9uLWNvbXBvbmVudHMvQ3VzdG9tSW1hZ2UuanM/ZDlkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgX3dwJGVkaXRvciA9IHdwLmVkaXRvcixcbiAgICBNZWRpYVVwbG9hZCA9IF93cCRlZGl0b3IuTWVkaWFVcGxvYWQsXG4gICAgTWVkaWFVcGxvYWRDaGVjayA9IF93cCRlZGl0b3IuTWVkaWFVcGxvYWRDaGVjaztcblxuXG52YXIgY29uZmlnID0ge1xuXHRhdHRyczoge1xuXHRcdGNsYXNzTmFtZTogJ3NhZHNhZHNhZCcsXG5cdFx0b3ZlcmxheUNvbG9yOiAnI2ZmZmZmZicsXG5cdFx0b3ZlcmxheU9wYWNpdHk6IDAuNSxcblx0XHRmaXRUbzogJ2NvbnRlbnQnXG5cblx0fVxufTtcblxuZXhwb3J0IHZhciBjdXN0b21pbWFnZSA9IGZ1bmN0aW9uIGN1c3RvbWltYWdlKF9yZWYpIHtcblx0dmFyIHVwZGF0ZUF0dHJzID0gX3JlZi51cGRhdGVBdHRycyxcblx0ICAgIF9yZWYkZ3JpZExheW91dE9iamVjdCA9IF9yZWYuZ3JpZExheW91dE9iamVjdCxcblx0ICAgIGxheW91dCA9IF9yZWYkZ3JpZExheW91dE9iamVjdC5sYXlvdXQsXG5cdCAgICBvdmVybGF5Q29sb3IgPSBfcmVmJGdyaWRMYXlvdXRPYmplY3Qub3ZlcmxheUNvbG9yLFxuXHQgICAgb3ZlcmxheU9wYWNpdHkgPSBfcmVmJGdyaWRMYXlvdXRPYmplY3Qub3ZlcmxheU9wYWNpdHksXG5cdCAgICBhdHRycyA9IF9yZWYuYXR0cnM7XG5cdHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0UmVhY3QuRnJhZ21lbnQsXG5cdFx0bnVsbCxcblx0XHRhdHRycyAmJiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHQnZmlndXJlJyxcblx0XHRcdHtcblx0XHRcdFx0c3R5bGU6IHsgaGVpZ2h0OiBsYXlvdXQuaCAvIDEuMzUgKyAnZW0nIH0sXG5cdFx0XHRcdGNsYXNzTmFtZTogJ2ltZy13cmFwcGVyJyB9LFxuXHRcdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IHNyYzogYXR0cnMudXJsLCBhbHQ6IGF0dHJzLmFsdCB9KSxcblx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuXHRcdFx0XHRzdHlsZTogeyBiYWNrZ3JvdW5kOiBvdmVybGF5Q29sb3IsIG9wYWNpdHk6IG92ZXJsYXlPcGFjaXR5IH0sXG5cdFx0XHRcdGNsYXNzTmFtZTogJ292ZXJsYXknIH0pXG5cdFx0KSxcblx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRNZWRpYVVwbG9hZENoZWNrLFxuXHRcdFx0bnVsbCxcblx0XHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChNZWRpYVVwbG9hZCwge1xuXHRcdFx0XHRhbGxvd2VkVHlwZXM6IFsnaW1hZ2UnXSxcblx0XHRcdFx0b25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KGF0dHJzKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHVwZGF0ZUF0dHJzKGF0dHJzKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoX3JlZjIpIHtcblx0XHRcdFx0XHR2YXIgb3BlbiA9IF9yZWYyLm9wZW47XG5cblx0XHRcdFx0XHRyZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0J2J1dHRvbicsXG5cdFx0XHRcdFx0XHR7IGNsYXNzTmFtZTogJ2NvbXBvbmVudHMtYnV0dG9uIGlzLWJ1dHRvbiBpcy1kZWZhdWx0IGlzLXNtYWxsIGltZy1idXR0b24nLCBvbkNsaWNrOiBvcGVuIH0sXG5cdFx0XHRcdFx0XHRhdHRycyA/ICdDaGFuZ2UgaW1hZ2UnIDogJ0Nob29zZSBpbWFnZSdcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdClcblx0KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vY29tbW9uLWNvbXBvbmVudHMvQ3VzdG9tSW1hZ2UuanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/*!***************************************!*\
  !*** ../common-components/Heading.js ***!
  \***************************************/
/*! exports provided: coreheading */
/*! exports used: coreheading */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return coreheading; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n\n\nvar RichText = wp.editor.RichText;\n\n\nvar config = {\n\tattrs: {\n\t\tclassName: 'sojuz-rich-text'\n\t}\n};\n\nvar coreheading = function coreheading(_ref) {\n\tvar updateAttrs = _ref.updateAttrs,\n\t    _ref$gridLayoutObject = _ref.gridLayoutObject,\n\t    align = _ref$gridLayoutObject.align,\n\t    textColor = _ref$gridLayoutObject.textColor,\n\t    weight = _ref$gridLayoutObject.weight,\n\t    backgroundColor = _ref$gridLayoutObject.backgroundColor,\n\t    backgroundOpacity = _ref$gridLayoutObject.backgroundOpacity,\n\t    padding = _ref$gridLayoutObject.padding,\n\t    tagName = _ref$gridLayoutObject.tagName,\n\t    verticalAlign = _ref$gridLayoutObject.verticalAlign,\n\t    _ref$attrs = _ref.attrs;\n\t_ref$attrs = _ref$attrs === undefined ? {} : _ref$attrs;\n\tvar innerHTML = _ref$attrs.innerHTML;\n\treturn wp.element.createElement(\n\t\t__WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,\n\t\tnull,\n\t\twp.element.createElement('div', {\n\t\t\tstyle: { opacity: backgroundOpacity },\n\t\t\tclassName: 'overlay ' + backgroundColor }),\n\t\twp.element.createElement(RichText, {\n\t\t\tclassName: 'vertical-' + verticalAlign + ' ' + textColor,\n\t\t\tmultiline: false,\n\t\t\ttagName: tagName,\n\t\t\tvalue: innerHTML,\n\t\t\tstyle: { textAlign: align, fontWeight: weight },\n\t\t\tonChange: function onChange(innerHTML) {\n\t\t\t\treturn updateAttrs({ innerHTML: innerHTML });\n\t\t\t}\n\t\t})\n\t);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vY29tbW9uLWNvbXBvbmVudHMvSGVhZGluZy5qcz8wZTgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnZhciBSaWNoVGV4dCA9IHdwLmVkaXRvci5SaWNoVGV4dDtcblxuXG52YXIgY29uZmlnID0ge1xuXHRhdHRyczoge1xuXHRcdGNsYXNzTmFtZTogJ3NvanV6LXJpY2gtdGV4dCdcblx0fVxufTtcblxuZXhwb3J0IHZhciBjb3JlaGVhZGluZyA9IGZ1bmN0aW9uIGNvcmVoZWFkaW5nKF9yZWYpIHtcblx0dmFyIHVwZGF0ZUF0dHJzID0gX3JlZi51cGRhdGVBdHRycyxcblx0ICAgIF9yZWYkZ3JpZExheW91dE9iamVjdCA9IF9yZWYuZ3JpZExheW91dE9iamVjdCxcblx0ICAgIGFsaWduID0gX3JlZiRncmlkTGF5b3V0T2JqZWN0LmFsaWduLFxuXHQgICAgdGV4dENvbG9yID0gX3JlZiRncmlkTGF5b3V0T2JqZWN0LnRleHRDb2xvcixcblx0ICAgIHdlaWdodCA9IF9yZWYkZ3JpZExheW91dE9iamVjdC53ZWlnaHQsXG5cdCAgICBiYWNrZ3JvdW5kQ29sb3IgPSBfcmVmJGdyaWRMYXlvdXRPYmplY3QuYmFja2dyb3VuZENvbG9yLFxuXHQgICAgYmFja2dyb3VuZE9wYWNpdHkgPSBfcmVmJGdyaWRMYXlvdXRPYmplY3QuYmFja2dyb3VuZE9wYWNpdHksXG5cdCAgICBwYWRkaW5nID0gX3JlZiRncmlkTGF5b3V0T2JqZWN0LnBhZGRpbmcsXG5cdCAgICB0YWdOYW1lID0gX3JlZiRncmlkTGF5b3V0T2JqZWN0LnRhZ05hbWUsXG5cdCAgICB2ZXJ0aWNhbEFsaWduID0gX3JlZiRncmlkTGF5b3V0T2JqZWN0LnZlcnRpY2FsQWxpZ24sXG5cdCAgICBfcmVmJGF0dHJzID0gX3JlZi5hdHRycztcblx0X3JlZiRhdHRycyA9IF9yZWYkYXR0cnMgPT09IHVuZGVmaW5lZCA/IHt9IDogX3JlZiRhdHRycztcblx0dmFyIGlubmVySFRNTCA9IF9yZWYkYXR0cnMuaW5uZXJIVE1MO1xuXHRyZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFJlYWN0LkZyYWdtZW50LFxuXHRcdG51bGwsXG5cdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG5cdFx0XHRzdHlsZTogeyBvcGFjaXR5OiBiYWNrZ3JvdW5kT3BhY2l0eSB9LFxuXHRcdFx0Y2xhc3NOYW1lOiAnb3ZlcmxheSAnICsgYmFja2dyb3VuZENvbG9yIH0pLFxuXHRcdHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChSaWNoVGV4dCwge1xuXHRcdFx0Y2xhc3NOYW1lOiAndmVydGljYWwtJyArIHZlcnRpY2FsQWxpZ24gKyAnICcgKyB0ZXh0Q29sb3IsXG5cdFx0XHRtdWx0aWxpbmU6IGZhbHNlLFxuXHRcdFx0dGFnTmFtZTogdGFnTmFtZSxcblx0XHRcdHZhbHVlOiBpbm5lckhUTUwsXG5cdFx0XHRzdHlsZTogeyB0ZXh0QWxpZ246IGFsaWduLCBmb250V2VpZ2h0OiB3ZWlnaHQgfSxcblx0XHRcdG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShpbm5lckhUTUwpIHtcblx0XHRcdFx0cmV0dXJuIHVwZGF0ZUF0dHJzKHsgaW5uZXJIVE1MOiBpbm5lckhUTUwgfSk7XG5cdFx0XHR9XG5cdFx0fSlcblx0KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vY29tbW9uLWNvbXBvbmVudHMvSGVhZGluZy5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/*!************************************************!*\
  !*** ../common-components/ComponentWrapper.js ***!
  \************************************************/
/*! exports provided: componentwrapper */
/*! exports used: componentwrapper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return componentwrapper; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n\n\nvar componentwrapper = function componentwrapper(_ref) {\n\tvar _ref$gridLayoutObject = _ref.gridLayoutObject,\n\t    backgroundOpacity = _ref$gridLayoutObject.backgroundOpacity,\n\t    backgroundColor = _ref$gridLayoutObject.backgroundColor;\n\treturn wp.element.createElement(\n\t\t__WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,\n\t\tnull,\n\t\twp.element.createElement(\"div\", {\n\t\t\tstyle: { opacity: backgroundOpacity },\n\t\t\tclassName: \"overlay \" + backgroundColor }),\n\t\twp.element.createElement(\n\t\t\t\"div\",\n\t\t\t{ className: \"component-wrapper-image\" },\n\t\t\t\"\\xA0\"\n\t\t)\n\t);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vY29tbW9uLWNvbXBvbmVudHMvQ29tcG9uZW50V3JhcHBlci5qcz81YmU5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCB2YXIgY29tcG9uZW50d3JhcHBlciA9IGZ1bmN0aW9uIGNvbXBvbmVudHdyYXBwZXIoX3JlZikge1xuXHR2YXIgX3JlZiRncmlkTGF5b3V0T2JqZWN0ID0gX3JlZi5ncmlkTGF5b3V0T2JqZWN0LFxuXHQgICAgYmFja2dyb3VuZE9wYWNpdHkgPSBfcmVmJGdyaWRMYXlvdXRPYmplY3QuYmFja2dyb3VuZE9wYWNpdHksXG5cdCAgICBiYWNrZ3JvdW5kQ29sb3IgPSBfcmVmJGdyaWRMYXlvdXRPYmplY3QuYmFja2dyb3VuZENvbG9yO1xuXHRyZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuXHRcdFJlYWN0LkZyYWdtZW50LFxuXHRcdG51bGwsXG5cdFx0d3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcblx0XHRcdHN0eWxlOiB7IG9wYWNpdHk6IGJhY2tncm91bmRPcGFjaXR5IH0sXG5cdFx0XHRjbGFzc05hbWU6IFwib3ZlcmxheSBcIiArIGJhY2tncm91bmRDb2xvciB9KSxcblx0XHR3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcImRpdlwiLFxuXHRcdFx0eyBjbGFzc05hbWU6IFwiY29tcG9uZW50LXdyYXBwZXItaW1hZ2VcIiB9LFxuXHRcdFx0XCJcXHhBMFwiXG5cdFx0KVxuXHQpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9jb21tb24tY29tcG9uZW50cy9Db21wb25lbnRXcmFwcGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/*!**************************************!*\
  !*** ../common-components/Action.js ***!
  \**************************************/
/*! exports provided: customaction */
/*! exports used: customaction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return customaction; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n\n\nvar config = {\n\tattrs: {\n\t\tclassName: 'sadsadsad'\n\t}\n};\n\nvar customaction = function customaction(_ref) {\n\tvar updateAttrs = _ref.updateAttrs,\n\t    attrs = _ref.attrs;\n\treturn wp.element.createElement(\n\t\t'div',\n\t\tnull,\n\t\t'This is action'\n\t);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vY29tbW9uLWNvbXBvbmVudHMvQWN0aW9uLmpzP2VmMjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIGNvbmZpZyA9IHtcblx0YXR0cnM6IHtcblx0XHRjbGFzc05hbWU6ICdzYWRzYWRzYWQnXG5cdH1cbn07XG5cbmV4cG9ydCB2YXIgY3VzdG9tYWN0aW9uID0gZnVuY3Rpb24gY3VzdG9tYWN0aW9uKF9yZWYpIHtcblx0dmFyIHVwZGF0ZUF0dHJzID0gX3JlZi51cGRhdGVBdHRycyxcblx0ICAgIGF0dHJzID0gX3JlZi5hdHRycztcblx0cmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHQnZGl2Jyxcblx0XHRudWxsLFxuXHRcdCdUaGlzIGlzIGFjdGlvbidcblx0KTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vY29tbW9uLWNvbXBvbmVudHMvQWN0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/*!***************************************!*\
  !*** ./src/block/componentsSchema.js ***!
  \***************************************/
/*! exports provided: componentsSchema */
/*! exports used: componentsSchema */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return componentsSchema; });\nvar componentsSchema = {\n\tParagraph: {\n\t\tblockName: 'coreparagraph',\n\t\tname: 'Paragraph',\n\t\tinnerHTML: '',\n\t\tmapQL: [],\n\t\tattrs: {\n\t\t\tinnerHTML: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua...</p>'\n\t\t},\n\t\tdefaultValues: {\n\t\t\talign: 'left',\n\t\t\tfontSize: 'medium',\n\t\t\tweight: 400,\n\t\t\treasignTo: '',\n\t\t\ttextColor: 'black',\n\t\t\tbackgroundColor: '',\n\t\t\tbackgroundOpacity: 0.5,\n\t\t\tverticalAlign: 'top',\n\t\t\tpadding: 0\n\t\t}\n\t},\n\tImage: {\n\t\tblockName: 'customimage',\n\t\tname: 'Image',\n\t\tinnerHTML: '',\n\t\tmapQL: [],\n\t\tattrs: {},\n\t\tdefaultValues: {\n\t\t\tlayout: {},\n\t\t\tbackgroundColor: '',\n\t\t\tbackgroundOpacity: 0.5\n\t\t}\n\t},\n\tHeading: {\n\t\tblockName: 'coreheading',\n\t\tname: 'Heading',\n\t\tinnerHTML: '',\n\t\tmapQL: [],\n\t\tattrs: {\n\t\t\tinnerHTML: 'Probably best example title'\n\t\t},\n\t\tdefaultValues: {\n\t\t\talign: 'left',\n\t\t\ttextColor: 'black',\n\t\t\tweight: 400,\n\t\t\tbackgroundColor: '',\n\t\t\tbackgroundOpacity: 0.5,\n\t\t\tpadding: 0,\n\t\t\ttagName: 'h2',\n\t\t\tverticalAlign: 'top'\n\t\t}\n\t},\n\tComponentWrapper: {\n\t\tblockName: 'componentwrapper',\n\t\tname: 'Empty space',\n\t\tinnerHTML: '',\n\t\tmapQL: [],\n\t\tattrs: {},\n\t\tdefaultValues: {\n\t\t\tbackgroundOpacity: 1,\n\t\t\tbackgroundColor: ''\n\t\t}\n\t},\n\tAction: {\n\t\tblockName: 'customaction',\n\t\tname: 'Action',\n\t\tinnerHTML: '',\n\t\tmapQL: [],\n\t\tattrs: {}\n\t}\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29tcG9uZW50c1NjaGVtYS5qcz80MTA1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgY29tcG9uZW50c1NjaGVtYSA9IHtcblx0UGFyYWdyYXBoOiB7XG5cdFx0YmxvY2tOYW1lOiAnY29yZXBhcmFncmFwaCcsXG5cdFx0bmFtZTogJ1BhcmFncmFwaCcsXG5cdFx0aW5uZXJIVE1MOiAnJyxcblx0XHRtYXBRTDogW10sXG5cdFx0YXR0cnM6IHtcblx0XHRcdGlubmVySFRNTDogJzxwPkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIHNlZCBkbyBlaXVzbW9kIHRlbXBvciBpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmEgYWxpcXVhLi4uPC9wPidcblx0XHR9LFxuXHRcdGRlZmF1bHRWYWx1ZXM6IHtcblx0XHRcdGFsaWduOiAnbGVmdCcsXG5cdFx0XHRmb250U2l6ZTogJ21lZGl1bScsXG5cdFx0XHR3ZWlnaHQ6IDQwMCxcblx0XHRcdHJlYXNpZ25UbzogJycsXG5cdFx0XHR0ZXh0Q29sb3I6ICdibGFjaycsXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICcnLFxuXHRcdFx0YmFja2dyb3VuZE9wYWNpdHk6IDAuNSxcblx0XHRcdHZlcnRpY2FsQWxpZ246ICd0b3AnLFxuXHRcdFx0cGFkZGluZzogMFxuXHRcdH1cblx0fSxcblx0SW1hZ2U6IHtcblx0XHRibG9ja05hbWU6ICdjdXN0b21pbWFnZScsXG5cdFx0bmFtZTogJ0ltYWdlJyxcblx0XHRpbm5lckhUTUw6ICcnLFxuXHRcdG1hcFFMOiBbXSxcblx0XHRhdHRyczoge30sXG5cdFx0ZGVmYXVsdFZhbHVlczoge1xuXHRcdFx0bGF5b3V0OiB7fSxcblx0XHRcdGJhY2tncm91bmRDb2xvcjogJycsXG5cdFx0XHRiYWNrZ3JvdW5kT3BhY2l0eTogMC41XG5cdFx0fVxuXHR9LFxuXHRIZWFkaW5nOiB7XG5cdFx0YmxvY2tOYW1lOiAnY29yZWhlYWRpbmcnLFxuXHRcdG5hbWU6ICdIZWFkaW5nJyxcblx0XHRpbm5lckhUTUw6ICcnLFxuXHRcdG1hcFFMOiBbXSxcblx0XHRhdHRyczoge1xuXHRcdFx0aW5uZXJIVE1MOiAnUHJvYmFibHkgYmVzdCBleGFtcGxlIHRpdGxlJ1xuXHRcdH0sXG5cdFx0ZGVmYXVsdFZhbHVlczoge1xuXHRcdFx0YWxpZ246ICdsZWZ0Jyxcblx0XHRcdHRleHRDb2xvcjogJ2JsYWNrJyxcblx0XHRcdHdlaWdodDogNDAwLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiAnJyxcblx0XHRcdGJhY2tncm91bmRPcGFjaXR5OiAwLjUsXG5cdFx0XHRwYWRkaW5nOiAwLFxuXHRcdFx0dGFnTmFtZTogJ2gyJyxcblx0XHRcdHZlcnRpY2FsQWxpZ246ICd0b3AnXG5cdFx0fVxuXHR9LFxuXHRDb21wb25lbnRXcmFwcGVyOiB7XG5cdFx0YmxvY2tOYW1lOiAnY29tcG9uZW50d3JhcHBlcicsXG5cdFx0bmFtZTogJ0VtcHR5IHNwYWNlJyxcblx0XHRpbm5lckhUTUw6ICcnLFxuXHRcdG1hcFFMOiBbXSxcblx0XHRhdHRyczoge30sXG5cdFx0ZGVmYXVsdFZhbHVlczoge1xuXHRcdFx0YmFja2dyb3VuZE9wYWNpdHk6IDEsXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6ICcnXG5cdFx0fVxuXHR9LFxuXHRBY3Rpb246IHtcblx0XHRibG9ja05hbWU6ICdjdXN0b21hY3Rpb24nLFxuXHRcdG5hbWU6ICdBY3Rpb24nLFxuXHRcdGlubmVySFRNTDogJycsXG5cdFx0bWFwUUw6IFtdLFxuXHRcdGF0dHJzOiB7fVxuXHR9XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2Jsb2NrL2NvbXBvbmVudHNTY2hlbWEuanNcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/*!*********************************************!*\
  !*** ./src/block/controlls/Block_GridOn.js ***!
  \*********************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony default export */ __webpack_exports__[\"a\"] = (function (props) {\n  return wp.element.createElement(\n    'div',\n    { className: 'components-toolbar ' + (props.gridMode ? '' : 'active'),\n      onClick: function onClick() {\n        props.setGridMode(function (prev) {\n          return !prev;\n        });\n        wp.data.dispatch(\"core/edit-post\").openGeneralSidebar(\"edit-post/block\");\n      } },\n    wp.element.createElement('span', { className: 'dashicons dashicons-screenoptions' }),\n    props.gridMode || wp.element.createElement(\n      'span',\n      { 'class': 'grid-mode-button' },\n      'Grid mode off'\n    )\n  );\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29udHJvbGxzL0Jsb2NrX0dyaWRPbi5qcz8wZTQzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAnZGl2JyxcbiAgICB7IGNsYXNzTmFtZTogJ2NvbXBvbmVudHMtdG9vbGJhciAnICsgKHByb3BzLmdyaWRNb2RlID8gJycgOiAnYWN0aXZlJyksXG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICBwcm9wcy5zZXRHcmlkTW9kZShmdW5jdGlvbiAocHJldikge1xuICAgICAgICAgIHJldHVybiAhcHJldjtcbiAgICAgICAgfSk7XG4gICAgICAgIHdwLmRhdGEuZGlzcGF0Y2goXCJjb3JlL2VkaXQtcG9zdFwiKS5vcGVuR2VuZXJhbFNpZGViYXIoXCJlZGl0LXBvc3QvYmxvY2tcIik7XG4gICAgICB9IH0sXG4gICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdkYXNoaWNvbnMgZGFzaGljb25zLXNjcmVlbm9wdGlvbnMnIH0pLFxuICAgIHByb3BzLmdyaWRNb2RlIHx8IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICdzcGFuJyxcbiAgICAgIHsgJ2NsYXNzJzogJ2dyaWQtbW9kZS1idXR0b24nIH0sXG4gICAgICAnR3JpZCBtb2RlIG9mZidcbiAgICApXG4gICk7XG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9ibG9jay9jb250cm9sbHMvQmxvY2tfR3JpZE9uLmpzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/*!****************************************************!*\
  !*** ./src/block/controlls/Block_PickComponent.js ***!
  \****************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("var _wp$components = wp.components,\n    Dropdown = _wp$components.Dropdown,\n    Button = _wp$components.Button;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (props) {\n  return wp.element.createElement(Dropdown, {\n    className: \"components-toolbar\",\n    contentClassName: \"my-popover-content-classname\",\n    position: \"bottom left\",\n    renderToggle: function renderToggle(_ref) {\n      var isOpen = _ref.isOpen,\n          onToggle = _ref.onToggle;\n      return wp.element.createElement(\n        Button,\n        { className: \"controll-button\", onClick: onToggle, \"aria-expanded\": isOpen },\n        wp.element.createElement(\"span\", { className: \"dashicons dashicons-plus\" })\n      );\n    },\n    renderContent: function renderContent() {\n      return wp.element.createElement(\n        \"div\",\n        { className: \"components-picker\" },\n        wp.element.createElement(\n          \"button\",\n          {\n            className: \"components-button full-width is-button is-default\",\n            onClick: function onClick() {\n              return props.newComponent('Heading');\n            } },\n          wp.element.createElement(\"span\", { className: \"dashicons dashicons-editor-textcolor\" }),\n          \" Heading\"\n        ),\n        wp.element.createElement(\n          \"button\",\n          {\n            className: \"components-button full-width is-button is-default\",\n            onClick: function onClick() {\n              return props.newComponent('Paragraph');\n            } },\n          wp.element.createElement(\"span\", { className: \"dashicons dashicons-editor-paragraph\" }),\n          \" Paragraph\"\n        ),\n        wp.element.createElement(\n          \"button\",\n          {\n            className: \"components-button full-width is-button is-default\",\n            onClick: function onClick() {\n              return props.newComponent('Image');\n            } },\n          wp.element.createElement(\"span\", { className: \"dashicons dashicons-format-image\" }),\n          \"  Image\"\n        ),\n        wp.element.createElement(\n          \"button\",\n          {\n            className: \"components-button full-width is-button is-default\",\n            onClick: function onClick() {\n              return props.newComponent('ComponentWrapper');\n            } },\n          wp.element.createElement(\"span\", { className: \"dashicons dashicons-admin-post\" }),\n          \" Wrapper\"\n        )\n      );\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29udHJvbGxzL0Jsb2NrX1BpY2tDb21wb25lbnQuanM/YWE3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX3dwJGNvbXBvbmVudHMgPSB3cC5jb21wb25lbnRzLFxuICAgIERyb3Bkb3duID0gX3dwJGNvbXBvbmVudHMuRHJvcGRvd24sXG4gICAgQnV0dG9uID0gX3dwJGNvbXBvbmVudHMuQnV0dG9uO1xuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd24sIHtcbiAgICBjbGFzc05hbWU6IFwiY29tcG9uZW50cy10b29sYmFyXCIsXG4gICAgY29udGVudENsYXNzTmFtZTogXCJteS1wb3BvdmVyLWNvbnRlbnQtY2xhc3NuYW1lXCIsXG4gICAgcG9zaXRpb246IFwiYm90dG9tIGxlZnRcIixcbiAgICByZW5kZXJUb2dnbGU6IGZ1bmN0aW9uIHJlbmRlclRvZ2dsZShfcmVmKSB7XG4gICAgICB2YXIgaXNPcGVuID0gX3JlZi5pc09wZW4sXG4gICAgICAgICAgb25Ub2dnbGUgPSBfcmVmLm9uVG9nZ2xlO1xuICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgQnV0dG9uLFxuICAgICAgICB7IGNsYXNzTmFtZTogXCJjb250cm9sbC1idXR0b25cIiwgb25DbGljazogb25Ub2dnbGUsIFwiYXJpYS1leHBhbmRlZFwiOiBpc09wZW4gfSxcbiAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJkYXNoaWNvbnMgZGFzaGljb25zLXBsdXNcIiB9KVxuICAgICAgKTtcbiAgICB9LFxuICAgIHJlbmRlckNvbnRlbnQ6IGZ1bmN0aW9uIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7IGNsYXNzTmFtZTogXCJjb21wb25lbnRzLXBpY2tlclwiIH0sXG4gICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjb21wb25lbnRzLWJ1dHRvbiBmdWxsLXdpZHRoIGlzLWJ1dHRvbiBpcy1kZWZhdWx0XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcHJvcHMubmV3Q29tcG9uZW50KCdIZWFkaW5nJyk7XG4gICAgICAgICAgICB9IH0sXG4gICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJkYXNoaWNvbnMgZGFzaGljb25zLWVkaXRvci10ZXh0Y29sb3JcIiB9KSxcbiAgICAgICAgICBcIiBIZWFkaW5nXCJcbiAgICAgICAgKSxcbiAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImNvbXBvbmVudHMtYnV0dG9uIGZ1bGwtd2lkdGggaXMtYnV0dG9uIGlzLWRlZmF1bHRcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwcm9wcy5uZXdDb21wb25lbnQoJ1BhcmFncmFwaCcpO1xuICAgICAgICAgICAgfSB9LFxuICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiZGFzaGljb25zIGRhc2hpY29ucy1lZGl0b3ItcGFyYWdyYXBoXCIgfSksXG4gICAgICAgICAgXCIgUGFyYWdyYXBoXCJcbiAgICAgICAgKSxcbiAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImNvbXBvbmVudHMtYnV0dG9uIGZ1bGwtd2lkdGggaXMtYnV0dG9uIGlzLWRlZmF1bHRcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwcm9wcy5uZXdDb21wb25lbnQoJ0ltYWdlJyk7XG4gICAgICAgICAgICB9IH0sXG4gICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJkYXNoaWNvbnMgZGFzaGljb25zLWZvcm1hdC1pbWFnZVwiIH0pLFxuICAgICAgICAgIFwiICBJbWFnZVwiXG4gICAgICAgICksXG4gICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjb21wb25lbnRzLWJ1dHRvbiBmdWxsLXdpZHRoIGlzLWJ1dHRvbiBpcy1kZWZhdWx0XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcHJvcHMubmV3Q29tcG9uZW50KCdDb21wb25lbnRXcmFwcGVyJyk7XG4gICAgICAgICAgICB9IH0sXG4gICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJkYXNoaWNvbnMgZGFzaGljb25zLWFkbWluLXBvc3RcIiB9KSxcbiAgICAgICAgICBcIiBXcmFwcGVyXCJcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svY29udHJvbGxzL0Jsb2NrX1BpY2tDb21wb25lbnQuanNcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */
/*!**********************************************!*\
  !*** ./src/block/controlls/columnsPicker.js ***!
  \**********************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("var _wp$components = wp.components,\n    Dropdown = _wp$components.Dropdown,\n    Button = _wp$components.Button;\nvar __ = wp.i18n.__;\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (props) {\n  // const el = props.gridTemplateColumns ? props.gridTemplateColumns : 1;\n  // forced sed default as 1\n  // props.gridTemplateColumns ? null : props.gridTemplateColumnsChange(1)\n  return wp.element.createElement(\n    \"div\",\n    { className: \"components-base-control\" },\n    wp.element.createElement(Dropdown, {\n      className: \"components-toolbar\",\n      contentClassName: \"my-popover-content-classname\",\n      position: \"bottom left\",\n      renderToggle: function renderToggle(_ref) {\n        var isOpen = _ref.isOpen,\n            onToggle = _ref.onToggle;\n        return wp.element.createElement(\n          Button,\n          { isDefault: true, onClick: onToggle, \"aria-expanded\": isOpen },\n          \"Columns \",\n          props.gridTemplateColumns\n        );\n      },\n      renderContent: function renderContent() {\n        return wp.element.createElement(\n          \"div\",\n          { className: \"dropdown-list\" },\n          [{ label: 'One column', value: 'repeat(1, 1fr)' }, { label: 'Two columns', value: 'repeat(2, 1fr)' }, { label: 'Three columns', value: 'repeat(3, 1fr)' }, { label: 'Four columns', value: 'repeat(4, 1fr)' }, { label: 'Five columns', value: 'repeat(5, 1fr)' }, { label: 'Six columns', value: 'repeat(6, 1fr)' }].map(function (item, i) {\n            return wp.element.createElement(\n              Button,\n              { onClick: function onClick() {\n                  return props.gridTemplateColumnsChange(item.value);\n                },\n                isDefault: props.gridTemplateColumns !== item.value,\n                isPrimary: props.gridTemplateColumns === item.value },\n              item.label\n            );\n          })\n        );\n      }\n    })\n  );\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29udHJvbGxzL2NvbHVtbnNQaWNrZXIuanM/MDQxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX3dwJGNvbXBvbmVudHMgPSB3cC5jb21wb25lbnRzLFxuICAgIERyb3Bkb3duID0gX3dwJGNvbXBvbmVudHMuRHJvcGRvd24sXG4gICAgQnV0dG9uID0gX3dwJGNvbXBvbmVudHMuQnV0dG9uO1xudmFyIF9fID0gd3AuaTE4bi5fXztcblxuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKHByb3BzKSB7XG4gIC8vIGNvbnN0IGVsID0gcHJvcHMuZ3JpZFRlbXBsYXRlQ29sdW1ucyA/IHByb3BzLmdyaWRUZW1wbGF0ZUNvbHVtbnMgOiAxO1xuICAvLyBmb3JjZWQgc2VkIGRlZmF1bHQgYXMgMVxuICAvLyBwcm9wcy5ncmlkVGVtcGxhdGVDb2x1bW5zID8gbnVsbCA6IHByb3BzLmdyaWRUZW1wbGF0ZUNvbHVtbnNDaGFuZ2UoMSlcbiAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICBcImRpdlwiLFxuICAgIHsgY2xhc3NOYW1lOiBcImNvbXBvbmVudHMtYmFzZS1jb250cm9sXCIgfSxcbiAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd24sIHtcbiAgICAgIGNsYXNzTmFtZTogXCJjb21wb25lbnRzLXRvb2xiYXJcIixcbiAgICAgIGNvbnRlbnRDbGFzc05hbWU6IFwibXktcG9wb3Zlci1jb250ZW50LWNsYXNzbmFtZVwiLFxuICAgICAgcG9zaXRpb246IFwiYm90dG9tIGxlZnRcIixcbiAgICAgIHJlbmRlclRvZ2dsZTogZnVuY3Rpb24gcmVuZGVyVG9nZ2xlKF9yZWYpIHtcbiAgICAgICAgdmFyIGlzT3BlbiA9IF9yZWYuaXNPcGVuLFxuICAgICAgICAgICAgb25Ub2dnbGUgPSBfcmVmLm9uVG9nZ2xlO1xuICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIEJ1dHRvbixcbiAgICAgICAgICB7IGlzRGVmYXVsdDogdHJ1ZSwgb25DbGljazogb25Ub2dnbGUsIFwiYXJpYS1leHBhbmRlZFwiOiBpc09wZW4gfSxcbiAgICAgICAgICBcIkNvbHVtbnMgXCIsXG4gICAgICAgICAgcHJvcHMuZ3JpZFRlbXBsYXRlQ29sdW1uc1xuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHJlbmRlckNvbnRlbnQ6IGZ1bmN0aW9uIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7IGNsYXNzTmFtZTogXCJkcm9wZG93bi1saXN0XCIgfSxcbiAgICAgICAgICBbeyBsYWJlbDogJ09uZSBjb2x1bW4nLCB2YWx1ZTogJ3JlcGVhdCgxLCAxZnIpJyB9LCB7IGxhYmVsOiAnVHdvIGNvbHVtbnMnLCB2YWx1ZTogJ3JlcGVhdCgyLCAxZnIpJyB9LCB7IGxhYmVsOiAnVGhyZWUgY29sdW1ucycsIHZhbHVlOiAncmVwZWF0KDMsIDFmciknIH0sIHsgbGFiZWw6ICdGb3VyIGNvbHVtbnMnLCB2YWx1ZTogJ3JlcGVhdCg0LCAxZnIpJyB9LCB7IGxhYmVsOiAnRml2ZSBjb2x1bW5zJywgdmFsdWU6ICdyZXBlYXQoNSwgMWZyKScgfSwgeyBsYWJlbDogJ1NpeCBjb2x1bW5zJywgdmFsdWU6ICdyZXBlYXQoNiwgMWZyKScgfV0ubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBCdXR0b24sXG4gICAgICAgICAgICAgIHsgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wcy5ncmlkVGVtcGxhdGVDb2x1bW5zQ2hhbmdlKGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaXNEZWZhdWx0OiBwcm9wcy5ncmlkVGVtcGxhdGVDb2x1bW5zICE9PSBpdGVtLnZhbHVlLFxuICAgICAgICAgICAgICAgIGlzUHJpbWFyeTogcHJvcHMuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9PT0gaXRlbS52YWx1ZSB9LFxuICAgICAgICAgICAgICBpdGVtLmxhYmVsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSlcbiAgKTtcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2Jsb2NrL2NvbnRyb2xscy9jb2x1bW5zUGlja2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///21\n");

/***/ }),
/* 22 */
/*!***************************************************!*\
  !*** ./src/block/controlls/component_fontSize.js ***!
  \***************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("var _wp$components = wp.components,\n    ButtonGroup = _wp$components.ButtonGroup,\n    Button = _wp$components.Button;\nvar __ = wp.i18n.__;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (props) {\n  var el = props.gridLayout[props.selectedElement.componentI];\n  return el && props.gridMode && props.selectedElement.component.blockName === \"coreparagraph\" || props.selectedElement.component.blockName === \"componentwrapper\" ? wp.element.createElement(\n    \"div\",\n    { className: \"components-base-control\" },\n    wp.element.createElement(\n      \"label\",\n      { className: \"components-base-control__label\" },\n      \"Font size\"\n    ),\n    wp.element.createElement(\n      ButtonGroup,\n      null,\n      [{\n        name: __('XS'),\n        slug: 'ultrasmall'\n      }, {\n        name: __('S'),\n        slug: 'small'\n      }, {\n        name: __('M'),\n        slug: 'normal'\n      }, {\n        name: __('L'),\n        slug: 'large'\n      }, {\n        name: __('XL'),\n        slug: 'huge'\n      }].map(function (item, i) {\n        return wp.element.createElement(\n          Button,\n          { onClick: function onClick() {\n              return props.onChangeFontClassSize(item.slug);\n            },\n            isDefault: el.fontSize !== item.slug,\n            isPrimary: el.fontSize === item.slug },\n          item.name\n        );\n      })\n    )\n  ) : null;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29udHJvbGxzL2NvbXBvbmVudF9mb250U2l6ZS5qcz8yYWFjIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfd3AkY29tcG9uZW50cyA9IHdwLmNvbXBvbmVudHMsXG4gICAgQnV0dG9uR3JvdXAgPSBfd3AkY29tcG9uZW50cy5CdXR0b25Hcm91cCxcbiAgICBCdXR0b24gPSBfd3AkY29tcG9uZW50cy5CdXR0b247XG52YXIgX18gPSB3cC5pMThuLl9fO1xuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBlbCA9IHByb3BzLmdyaWRMYXlvdXRbcHJvcHMuc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudEldO1xuICByZXR1cm4gZWwgJiYgcHJvcHMuZ3JpZE1vZGUgJiYgcHJvcHMuc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudC5ibG9ja05hbWUgPT09IFwiY29yZXBhcmFncmFwaFwiIHx8IHByb3BzLnNlbGVjdGVkRWxlbWVudC5jb21wb25lbnQuYmxvY2tOYW1lID09PSBcImNvbXBvbmVudHdyYXBwZXJcIiA/IHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICBcImRpdlwiLFxuICAgIHsgY2xhc3NOYW1lOiBcImNvbXBvbmVudHMtYmFzZS1jb250cm9sXCIgfSxcbiAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImxhYmVsXCIsXG4gICAgICB7IGNsYXNzTmFtZTogXCJjb21wb25lbnRzLWJhc2UtY29udHJvbF9fbGFiZWxcIiB9LFxuICAgICAgXCJGb250IHNpemVcIlxuICAgICksXG4gICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgQnV0dG9uR3JvdXAsXG4gICAgICBudWxsLFxuICAgICAgW3tcbiAgICAgICAgbmFtZTogX18oJ1hTJyksXG4gICAgICAgIHNsdWc6ICd1bHRyYXNtYWxsJ1xuICAgICAgfSwge1xuICAgICAgICBuYW1lOiBfXygnUycpLFxuICAgICAgICBzbHVnOiAnc21hbGwnXG4gICAgICB9LCB7XG4gICAgICAgIG5hbWU6IF9fKCdNJyksXG4gICAgICAgIHNsdWc6ICdub3JtYWwnXG4gICAgICB9LCB7XG4gICAgICAgIG5hbWU6IF9fKCdMJyksXG4gICAgICAgIHNsdWc6ICdsYXJnZSdcbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogX18oJ1hMJyksXG4gICAgICAgIHNsdWc6ICdodWdlJ1xuICAgICAgfV0ubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgIHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgQnV0dG9uLFxuICAgICAgICAgIHsgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHByb3BzLm9uQ2hhbmdlRm9udENsYXNzU2l6ZShpdGVtLnNsdWcpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzRGVmYXVsdDogZWwuZm9udFNpemUgIT09IGl0ZW0uc2x1ZyxcbiAgICAgICAgICAgIGlzUHJpbWFyeTogZWwuZm9udFNpemUgPT09IGl0ZW0uc2x1ZyB9LFxuICAgICAgICAgIGl0ZW0ubmFtZVxuICAgICAgICApO1xuICAgICAgfSlcbiAgICApXG4gICkgOiBudWxsO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svY29udHJvbGxzL2NvbXBvbmVudF9mb250U2l6ZS5qc1xuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/*!**************************************************!*\
  !*** ./src/block/controlls/component_tagName.js ***!
  \**************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("var _wp$components = wp.components,\n    ButtonGroup = _wp$components.ButtonGroup,\n    Button = _wp$components.Button;\nvar __ = wp.i18n.__;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (props) {\n  var el = props.gridLayout[props.selectedElement.componentI];\n  return el && props.gridMode && props.selectedElement.component.blockName === \"coreheading\" ? wp.element.createElement(\n    \"div\",\n    { className: \"components-base-control\" },\n    wp.element.createElement(\n      \"label\",\n      { className: \"components-base-control__label\" },\n      \"Heading\"\n    ),\n    wp.element.createElement(\n      ButtonGroup,\n      null,\n      ['h1', 'h2', 'h3', 'h4', 'h5'].map(function (item, i) {\n        return wp.element.createElement(\n          Button,\n          { onClick: function onClick() {\n              return props.onChangeTagname(item);\n            },\n            isDefault: el.tagName !== item,\n            isPrimary: el.tagName === item },\n          item\n        );\n      })\n    )\n  ) : null;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29udHJvbGxzL2NvbXBvbmVudF90YWdOYW1lLmpzPzhjMGUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF93cCRjb21wb25lbnRzID0gd3AuY29tcG9uZW50cyxcbiAgICBCdXR0b25Hcm91cCA9IF93cCRjb21wb25lbnRzLkJ1dHRvbkdyb3VwLFxuICAgIEJ1dHRvbiA9IF93cCRjb21wb25lbnRzLkJ1dHRvbjtcbnZhciBfXyA9IHdwLmkxOG4uX187XG5cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIGVsID0gcHJvcHMuZ3JpZExheW91dFtwcm9wcy5zZWxlY3RlZEVsZW1lbnQuY29tcG9uZW50SV07XG4gIHJldHVybiBlbCAmJiBwcm9wcy5ncmlkTW9kZSAmJiBwcm9wcy5zZWxlY3RlZEVsZW1lbnQuY29tcG9uZW50LmJsb2NrTmFtZSA9PT0gXCJjb3JlaGVhZGluZ1wiID8gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgIFwiZGl2XCIsXG4gICAgeyBjbGFzc05hbWU6IFwiY29tcG9uZW50cy1iYXNlLWNvbnRyb2xcIiB9LFxuICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgIFwibGFiZWxcIixcbiAgICAgIHsgY2xhc3NOYW1lOiBcImNvbXBvbmVudHMtYmFzZS1jb250cm9sX19sYWJlbFwiIH0sXG4gICAgICBcIkhlYWRpbmdcIlxuICAgICksXG4gICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgQnV0dG9uR3JvdXAsXG4gICAgICBudWxsLFxuICAgICAgWydoMScsICdoMicsICdoMycsICdoNCcsICdoNSddLm1hcChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIEJ1dHRvbixcbiAgICAgICAgICB7IG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwcm9wcy5vbkNoYW5nZVRhZ25hbWUoaXRlbSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNEZWZhdWx0OiBlbC50YWdOYW1lICE9PSBpdGVtLFxuICAgICAgICAgICAgaXNQcmltYXJ5OiBlbC50YWdOYW1lID09PSBpdGVtIH0sXG4gICAgICAgICAgaXRlbVxuICAgICAgICApO1xuICAgICAgfSlcbiAgICApXG4gICkgOiBudWxsO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svY29udHJvbGxzL2NvbXBvbmVudF90YWdOYW1lLmpzXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n");

/***/ }),
/* 24 */
/*!****************************************************!*\
  !*** ./src/block/controlls/component_textColor.js ***!
  \****************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("var _wp$components = wp.components,\n    ButtonGroup = _wp$components.ButtonGroup,\n    Button = _wp$components.Button;\nvar __ = wp.i18n.__;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (props) {\n  var el = props.gridLayout[props.selectedElement.componentI];\n  return (el && props.selectedElement.component.blockName === \"coreparagraph\" || props.selectedElement.component.blockName === \"coreheading\" || props.selectedElement.component.blockName === \"componentwrapper\" || props.selectedElement.component.blockName === \"customimage\") && wp.element.createElement(\n    \"div\",\n    { className: \"components-base-control\" },\n    wp.element.createElement(\n      \"label\",\n      { className: \"components-base-control__label\" },\n      \"Text color\"\n    ),\n    wp.element.createElement(\n      ButtonGroup,\n      null,\n      [{ name: 'primary', color: '#0073a8' }, { name: 'secondary', color: '#005075' }, { name: 'dark-gray', color: '#111111' }, { name: 'light-gray', color: '#767676' }, { name: 'white', color: '#ffffff' }].map(function (item, i) {\n        return wp.element.createElement(Button, { onClick: function onClick() {\n            return props.onChangeTextColor(item.name);\n          },\n          style: {\n            backgroundColor: item.color\n          },\n          isDefault: el.textColor !== item.name,\n          isPrimary: el.textColor === item.name });\n      })\n    )\n  );\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29udHJvbGxzL2NvbXBvbmVudF90ZXh0Q29sb3IuanM/ZjdmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX3dwJGNvbXBvbmVudHMgPSB3cC5jb21wb25lbnRzLFxuICAgIEJ1dHRvbkdyb3VwID0gX3dwJGNvbXBvbmVudHMuQnV0dG9uR3JvdXAsXG4gICAgQnV0dG9uID0gX3dwJGNvbXBvbmVudHMuQnV0dG9uO1xudmFyIF9fID0gd3AuaTE4bi5fXztcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgZWwgPSBwcm9wcy5ncmlkTGF5b3V0W3Byb3BzLnNlbGVjdGVkRWxlbWVudC5jb21wb25lbnRJXTtcbiAgcmV0dXJuIChlbCAmJiBwcm9wcy5zZWxlY3RlZEVsZW1lbnQuY29tcG9uZW50LmJsb2NrTmFtZSA9PT0gXCJjb3JlcGFyYWdyYXBoXCIgfHwgcHJvcHMuc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudC5ibG9ja05hbWUgPT09IFwiY29yZWhlYWRpbmdcIiB8fCBwcm9wcy5zZWxlY3RlZEVsZW1lbnQuY29tcG9uZW50LmJsb2NrTmFtZSA9PT0gXCJjb21wb25lbnR3cmFwcGVyXCIgfHwgcHJvcHMuc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudC5ibG9ja05hbWUgPT09IFwiY3VzdG9taW1hZ2VcIikgJiYgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgIFwiZGl2XCIsXG4gICAgeyBjbGFzc05hbWU6IFwiY29tcG9uZW50cy1iYXNlLWNvbnRyb2xcIiB9LFxuICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgIFwibGFiZWxcIixcbiAgICAgIHsgY2xhc3NOYW1lOiBcImNvbXBvbmVudHMtYmFzZS1jb250cm9sX19sYWJlbFwiIH0sXG4gICAgICBcIlRleHQgY29sb3JcIlxuICAgICksXG4gICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgQnV0dG9uR3JvdXAsXG4gICAgICBudWxsLFxuICAgICAgW3sgbmFtZTogJ3ByaW1hcnknLCBjb2xvcjogJyMwMDczYTgnIH0sIHsgbmFtZTogJ3NlY29uZGFyeScsIGNvbG9yOiAnIzAwNTA3NScgfSwgeyBuYW1lOiAnZGFyay1ncmF5JywgY29sb3I6ICcjMTExMTExJyB9LCB7IG5hbWU6ICdsaWdodC1ncmF5JywgY29sb3I6ICcjNzY3Njc2JyB9LCB7IG5hbWU6ICd3aGl0ZScsIGNvbG9yOiAnI2ZmZmZmZicgfV0ubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgIHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7IG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcHMub25DaGFuZ2VUZXh0Q29sb3IoaXRlbS5uYW1lKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGl0ZW0uY29sb3JcbiAgICAgICAgICB9LFxuICAgICAgICAgIGlzRGVmYXVsdDogZWwudGV4dENvbG9yICE9PSBpdGVtLm5hbWUsXG4gICAgICAgICAgaXNQcmltYXJ5OiBlbC50ZXh0Q29sb3IgPT09IGl0ZW0ubmFtZSB9KTtcbiAgICAgIH0pXG4gICAgKVxuICApO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svY29udHJvbGxzL2NvbXBvbmVudF90ZXh0Q29sb3IuanNcbi8vIG1vZHVsZSBpZCA9IDI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///24\n");

/***/ }),
/* 25 */
/*!*****************************************************!*\
  !*** ./src/block/controlls/component_textWeight.js ***!
  \*****************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("var SelectControl = wp.components.SelectControl;\nvar __ = wp.i18n.__;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (props) {\n  return (props.gridMode && props.selectedElement.component.blockName === \"coreparagraph\" || props.selectedElement.component.blockName === \"coreheading\" || props.selectedElement.component.blockName === \"componentwrapper\") && wp.element.createElement(SelectControl, {\n    label: \"Font weight\",\n    required: \"yes\",\n    value: (props.gridLayout[props.selectedElement.componentI] || {}).weight || null,\n    options: [{ label: 'Light', value: '300' }, { label: 'Regular', value: '400' }, { label: 'Semi bold', value: '600' }, { label: 'Bold', value: '700' }, { label: 'Extra bold', value: '800' }],\n    onChange: props.onChangeFontWeight\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29udHJvbGxzL2NvbXBvbmVudF90ZXh0V2VpZ2h0LmpzPzVlZDkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFNlbGVjdENvbnRyb2wgPSB3cC5jb21wb25lbnRzLlNlbGVjdENvbnRyb2w7XG52YXIgX18gPSB3cC5pMThuLl9fO1xuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKHByb3BzKSB7XG4gIHJldHVybiAocHJvcHMuZ3JpZE1vZGUgJiYgcHJvcHMuc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudC5ibG9ja05hbWUgPT09IFwiY29yZXBhcmFncmFwaFwiIHx8IHByb3BzLnNlbGVjdGVkRWxlbWVudC5jb21wb25lbnQuYmxvY2tOYW1lID09PSBcImNvcmVoZWFkaW5nXCIgfHwgcHJvcHMuc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudC5ibG9ja05hbWUgPT09IFwiY29tcG9uZW50d3JhcHBlclwiKSAmJiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoU2VsZWN0Q29udHJvbCwge1xuICAgIGxhYmVsOiBcIkZvbnQgd2VpZ2h0XCIsXG4gICAgcmVxdWlyZWQ6IFwieWVzXCIsXG4gICAgdmFsdWU6IChwcm9wcy5ncmlkTGF5b3V0W3Byb3BzLnNlbGVjdGVkRWxlbWVudC5jb21wb25lbnRJXSB8fCB7fSkud2VpZ2h0IHx8IG51bGwsXG4gICAgb3B0aW9uczogW3sgbGFiZWw6ICdMaWdodCcsIHZhbHVlOiAnMzAwJyB9LCB7IGxhYmVsOiAnUmVndWxhcicsIHZhbHVlOiAnNDAwJyB9LCB7IGxhYmVsOiAnU2VtaSBib2xkJywgdmFsdWU6ICc2MDAnIH0sIHsgbGFiZWw6ICdCb2xkJywgdmFsdWU6ICc3MDAnIH0sIHsgbGFiZWw6ICdFeHRyYSBib2xkJywgdmFsdWU6ICc4MDAnIH1dLFxuICAgIG9uQ2hhbmdlOiBwcm9wcy5vbkNoYW5nZUZvbnRXZWlnaHRcbiAgfSk7XG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9ibG9jay9jb250cm9sbHMvY29tcG9uZW50X3RleHRXZWlnaHQuanNcbi8vIG1vZHVsZSBpZCA9IDI1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///25\n");

/***/ }),
/* 26 */
/*!**************************************************!*\
  !*** ./src/block/controlls/component_BgColor.js ***!
  \**************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("var _wp$components = wp.components,\n    ButtonGroup = _wp$components.ButtonGroup,\n    Button = _wp$components.Button;\nvar __ = wp.i18n.__;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (props) {\n  var el = props.gridLayout[props.selectedElement.componentI];\n  return (el && props.selectedElement.component.blockName === \"coreparagraph\" || props.selectedElement.component.blockName === \"coreheading\" || props.selectedElement.component.blockName === \"componentwrapper\" || props.selectedElement.component.blockName === \"customimage\") && wp.element.createElement(\n    \"div\",\n    { className: \"components-base-control\" },\n    wp.element.createElement(\n      \"label\",\n      { className: \"components-base-control__label\" },\n      \"Background color\"\n    ),\n    wp.element.createElement(\n      ButtonGroup,\n      null,\n      [{ name: 'primary', color: '#0073a8' }, { name: 'secondary', color: '#005075' }, { name: 'dark-gray', color: '#111111' }, { name: 'light-gray', color: '#767676' }, { name: 'white', color: '#ffffff' }].map(function (item) {\n        return wp.element.createElement(Button, { onClick: function onClick() {\n            return props.onChangeBgColor(item.name);\n          },\n          style: {\n            backgroundColor: item.color\n          },\n          isDefault: el.backgroundColor !== item.name,\n          isPrimary: el.backgroundColor === item.name });\n      })\n    )\n  );\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29udHJvbGxzL2NvbXBvbmVudF9CZ0NvbG9yLmpzPzAyNjIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF93cCRjb21wb25lbnRzID0gd3AuY29tcG9uZW50cyxcbiAgICBCdXR0b25Hcm91cCA9IF93cCRjb21wb25lbnRzLkJ1dHRvbkdyb3VwLFxuICAgIEJ1dHRvbiA9IF93cCRjb21wb25lbnRzLkJ1dHRvbjtcbnZhciBfXyA9IHdwLmkxOG4uX187XG5cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAocHJvcHMpIHtcbiAgdmFyIGVsID0gcHJvcHMuZ3JpZExheW91dFtwcm9wcy5zZWxlY3RlZEVsZW1lbnQuY29tcG9uZW50SV07XG4gIHJldHVybiAoZWwgJiYgcHJvcHMuc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudC5ibG9ja05hbWUgPT09IFwiY29yZXBhcmFncmFwaFwiIHx8IHByb3BzLnNlbGVjdGVkRWxlbWVudC5jb21wb25lbnQuYmxvY2tOYW1lID09PSBcImNvcmVoZWFkaW5nXCIgfHwgcHJvcHMuc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudC5ibG9ja05hbWUgPT09IFwiY29tcG9uZW50d3JhcHBlclwiIHx8IHByb3BzLnNlbGVjdGVkRWxlbWVudC5jb21wb25lbnQuYmxvY2tOYW1lID09PSBcImN1c3RvbWltYWdlXCIpICYmIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICBcImRpdlwiLFxuICAgIHsgY2xhc3NOYW1lOiBcImNvbXBvbmVudHMtYmFzZS1jb250cm9sXCIgfSxcbiAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImxhYmVsXCIsXG4gICAgICB7IGNsYXNzTmFtZTogXCJjb21wb25lbnRzLWJhc2UtY29udHJvbF9fbGFiZWxcIiB9LFxuICAgICAgXCJCYWNrZ3JvdW5kIGNvbG9yXCJcbiAgICApLFxuICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgIEJ1dHRvbkdyb3VwLFxuICAgICAgbnVsbCxcbiAgICAgIFt7IG5hbWU6ICdwcmltYXJ5JywgY29sb3I6ICcjMDA3M2E4JyB9LCB7IG5hbWU6ICdzZWNvbmRhcnknLCBjb2xvcjogJyMwMDUwNzUnIH0sIHsgbmFtZTogJ2RhcmstZ3JheScsIGNvbG9yOiAnIzExMTExMScgfSwgeyBuYW1lOiAnbGlnaHQtZ3JheScsIGNvbG9yOiAnIzc2NzY3NicgfSwgeyBuYW1lOiAnd2hpdGUnLCBjb2xvcjogJyNmZmZmZmYnIH1dLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgeyBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3BzLm9uQ2hhbmdlQmdDb2xvcihpdGVtLm5hbWUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogaXRlbS5jb2xvclxuICAgICAgICAgIH0sXG4gICAgICAgICAgaXNEZWZhdWx0OiBlbC5iYWNrZ3JvdW5kQ29sb3IgIT09IGl0ZW0ubmFtZSxcbiAgICAgICAgICBpc1ByaW1hcnk6IGVsLmJhY2tncm91bmRDb2xvciA9PT0gaXRlbS5uYW1lIH0pO1xuICAgICAgfSlcbiAgICApXG4gICk7XG59KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9ibG9jay9jb250cm9sbHMvY29tcG9uZW50X0JnQ29sb3IuanNcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///26\n");

/***/ }),
/* 27 */
/*!*************************************************!*\
  !*** ./src/block/controlls/component_zIndex.js ***!
  \*************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _wp$components = wp.components,\n    ButtonGroup = _wp$components.ButtonGroup,\n    Button = _wp$components.Button;\nvar __ = wp.i18n.__;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (_ref) {\n  var selectedElement = _ref.selectedElement,\n      onZIndexChange = _ref.onZIndexChange,\n      _ref$gridLayoutObject = _ref.gridLayoutObject;\n  _ref$gridLayoutObject = _ref$gridLayoutObject === undefined ? {} : _ref$gridLayoutObject;\n  var zIndex = _ref$gridLayoutObject.zIndex;\n\n  return (selectedElement.component.blockName === \"coreparagraph\" || selectedElement.component.blockName === \"coreheading\" || selectedElement.component.blockName === \"componentwrapper\" || selectedElement.component.blockName === \"customimage\") && wp.element.createElement(\n    \"div\",\n    { className: \"components-base-control\" },\n    wp.element.createElement(\n      \"label\",\n      { className: \"components-base-control__label\" },\n      \"Component layer position (z-index)\"\n    ),\n    wp.element.createElement(\n      ButtonGroup,\n      null,\n      [].concat(_toConsumableArray(Array(6))).map(function (_, i) {\n        return wp.element.createElement(\n          Button,\n          { onClick: function onClick() {\n              return onZIndexChange(i);\n            },\n            isDefault: zIndex !== i,\n            isPrimary: zIndex === i },\n          i\n        );\n      })\n    )\n  );\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29udHJvbGxzL2NvbXBvbmVudF96SW5kZXguanM/Y2MxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxudmFyIF93cCRjb21wb25lbnRzID0gd3AuY29tcG9uZW50cyxcbiAgICBCdXR0b25Hcm91cCA9IF93cCRjb21wb25lbnRzLkJ1dHRvbkdyb3VwLFxuICAgIEJ1dHRvbiA9IF93cCRjb21wb25lbnRzLkJ1dHRvbjtcbnZhciBfXyA9IHdwLmkxOG4uX187XG5cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgc2VsZWN0ZWRFbGVtZW50ID0gX3JlZi5zZWxlY3RlZEVsZW1lbnQsXG4gICAgICBvblpJbmRleENoYW5nZSA9IF9yZWYub25aSW5kZXhDaGFuZ2UsXG4gICAgICBfcmVmJGdyaWRMYXlvdXRPYmplY3QgPSBfcmVmLmdyaWRMYXlvdXRPYmplY3Q7XG4gIF9yZWYkZ3JpZExheW91dE9iamVjdCA9IF9yZWYkZ3JpZExheW91dE9iamVjdCA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmJGdyaWRMYXlvdXRPYmplY3Q7XG4gIHZhciB6SW5kZXggPSBfcmVmJGdyaWRMYXlvdXRPYmplY3QuekluZGV4O1xuXG4gIHJldHVybiAoc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudC5ibG9ja05hbWUgPT09IFwiY29yZXBhcmFncmFwaFwiIHx8IHNlbGVjdGVkRWxlbWVudC5jb21wb25lbnQuYmxvY2tOYW1lID09PSBcImNvcmVoZWFkaW5nXCIgfHwgc2VsZWN0ZWRFbGVtZW50LmNvbXBvbmVudC5ibG9ja05hbWUgPT09IFwiY29tcG9uZW50d3JhcHBlclwiIHx8IHNlbGVjdGVkRWxlbWVudC5jb21wb25lbnQuYmxvY2tOYW1lID09PSBcImN1c3RvbWltYWdlXCIpICYmIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICBcImRpdlwiLFxuICAgIHsgY2xhc3NOYW1lOiBcImNvbXBvbmVudHMtYmFzZS1jb250cm9sXCIgfSxcbiAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImxhYmVsXCIsXG4gICAgICB7IGNsYXNzTmFtZTogXCJjb21wb25lbnRzLWJhc2UtY29udHJvbF9fbGFiZWxcIiB9LFxuICAgICAgXCJDb21wb25lbnQgbGF5ZXIgcG9zaXRpb24gKHotaW5kZXgpXCJcbiAgICApLFxuICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgIEJ1dHRvbkdyb3VwLFxuICAgICAgbnVsbCxcbiAgICAgIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoQXJyYXkoNikpKS5tYXAoZnVuY3Rpb24gKF8sIGkpIHtcbiAgICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBCdXR0b24sXG4gICAgICAgICAgeyBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICByZXR1cm4gb25aSW5kZXhDaGFuZ2UoaSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNEZWZhdWx0OiB6SW5kZXggIT09IGksXG4gICAgICAgICAgICBpc1ByaW1hcnk6IHpJbmRleCA9PT0gaSB9LFxuICAgICAgICAgIGlcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgKVxuICApO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svY29udHJvbGxzL2NvbXBvbmVudF96SW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDI3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///27\n");

/***/ }),
/* 28 */
/*!****************************************************!*\
  !*** ./src/block/controlls/verticalalignPicker.js ***!
  \****************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("var _wp$components = wp.components,\n    ButtonGroup = _wp$components.ButtonGroup,\n    Button = _wp$components.Button;\nvar __ = wp.i18n.__;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (props) {\n  var el = props.gridLayout[props.selectedElement.componentI];\n  return el && props.gridMode && props.selectedElement.component.blockName === \"coreparagraph\" || props.selectedElement.component.blockName === \"componentwrapper\" ? wp.element.createElement(\n    \"div\",\n    { className: \"components-base-control\" },\n    wp.element.createElement(\n      \"label\",\n      { className: \"components-base-control__label\" },\n      \"Vertical align\"\n    ),\n    wp.element.createElement(\n      ButtonGroup,\n      null,\n      [{ label: __('Top'), value: 'flex-start' }, { label: __('Middle'), value: 'center' }, { label: __('Bottom'), value: 'flex-end' }].map(function (item) {\n        return wp.element.createElement(\n          Button,\n          { onClick: function onClick() {\n              return props.onChangeVerticalAlign(item.value);\n            },\n            isDefault: el.verticalAlign !== item.value,\n            isPrimary: el.verticalAlign === item.value },\n          item.label\n        );\n      })\n    )\n  ) : null;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29udHJvbGxzL3ZlcnRpY2FsYWxpZ25QaWNrZXIuanM/NTA3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX3dwJGNvbXBvbmVudHMgPSB3cC5jb21wb25lbnRzLFxuICAgIEJ1dHRvbkdyb3VwID0gX3dwJGNvbXBvbmVudHMuQnV0dG9uR3JvdXAsXG4gICAgQnV0dG9uID0gX3dwJGNvbXBvbmVudHMuQnV0dG9uO1xudmFyIF9fID0gd3AuaTE4bi5fXztcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChwcm9wcykge1xuICB2YXIgZWwgPSBwcm9wcy5ncmlkTGF5b3V0W3Byb3BzLnNlbGVjdGVkRWxlbWVudC5jb21wb25lbnRJXTtcbiAgcmV0dXJuIGVsICYmIHByb3BzLmdyaWRNb2RlICYmIHByb3BzLnNlbGVjdGVkRWxlbWVudC5jb21wb25lbnQuYmxvY2tOYW1lID09PSBcImNvcmVwYXJhZ3JhcGhcIiB8fCBwcm9wcy5zZWxlY3RlZEVsZW1lbnQuY29tcG9uZW50LmJsb2NrTmFtZSA9PT0gXCJjb21wb25lbnR3cmFwcGVyXCIgPyB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJkaXZcIixcbiAgICB7IGNsYXNzTmFtZTogXCJjb21wb25lbnRzLWJhc2UtY29udHJvbFwiIH0sXG4gICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJsYWJlbFwiLFxuICAgICAgeyBjbGFzc05hbWU6IFwiY29tcG9uZW50cy1iYXNlLWNvbnRyb2xfX2xhYmVsXCIgfSxcbiAgICAgIFwiVmVydGljYWwgYWxpZ25cIlxuICAgICksXG4gICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgQnV0dG9uR3JvdXAsXG4gICAgICBudWxsLFxuICAgICAgW3sgbGFiZWw6IF9fKCdUb3AnKSwgdmFsdWU6ICdmbGV4LXN0YXJ0JyB9LCB7IGxhYmVsOiBfXygnTWlkZGxlJyksIHZhbHVlOiAnY2VudGVyJyB9LCB7IGxhYmVsOiBfXygnQm90dG9tJyksIHZhbHVlOiAnZmxleC1lbmQnIH1dLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIEJ1dHRvbixcbiAgICAgICAgICB7IG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwcm9wcy5vbkNoYW5nZVZlcnRpY2FsQWxpZ24oaXRlbS52YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNEZWZhdWx0OiBlbC52ZXJ0aWNhbEFsaWduICE9PSBpdGVtLnZhbHVlLFxuICAgICAgICAgICAgaXNQcmltYXJ5OiBlbC52ZXJ0aWNhbEFsaWduID09PSBpdGVtLnZhbHVlIH0sXG4gICAgICAgICAgaXRlbS5sYWJlbFxuICAgICAgICApO1xuICAgICAgfSlcbiAgICApXG4gICkgOiBudWxsO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svY29udHJvbGxzL3ZlcnRpY2FsYWxpZ25QaWNrZXIuanNcbi8vIG1vZHVsZSBpZCA9IDI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///28\n");

/***/ }),
/* 29 */
/*!***********************************************************!*\
  !*** ./src/block/controlls/section_horizontalPaddings.js ***!
  \***********************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _wp$components = wp.components,\n    ButtonGroup = _wp$components.ButtonGroup,\n    Button = _wp$components.Button;\nvar __ = wp.i18n.__;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (_ref) {\n  var marginValue = _ref.marginValue,\n      onHorizontalMargins = _ref.onHorizontalMargins;\n\n  return wp.element.createElement(\n    \"div\",\n    { className: \"components-base-control\" },\n    wp.element.createElement(\n      \"label\",\n      { className: \"components-base-control__label\" },\n      \"Horizontal margin (%)\"\n    ),\n    wp.element.createElement(\n      ButtonGroup,\n      null,\n      [].concat(_toConsumableArray(Array(6))).map(function (_, i) {\n        return wp.element.createElement(\n          Button,\n          { onClick: function onClick() {\n              return onHorizontalMargins(\"0 \" + i * 4 + \"vw 0 \" + i * 4 + \"vw\");\n            },\n            isDefault: marginValue !== \"0 \" + i * 4 + \"vw 0 \" + i * 4 + \"vw\",\n            isPrimary: marginValue === \"0 \" + i * 4 + \"vw 0 \" + i * 4 + \"vw\" },\n          i * 4\n        );\n      })\n    )\n  );\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29udHJvbGxzL3NlY3Rpb25faG9yaXpvbnRhbFBhZGRpbmdzLmpzPzY5YzEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbnZhciBfd3AkY29tcG9uZW50cyA9IHdwLmNvbXBvbmVudHMsXG4gICAgQnV0dG9uR3JvdXAgPSBfd3AkY29tcG9uZW50cy5CdXR0b25Hcm91cCxcbiAgICBCdXR0b24gPSBfd3AkY29tcG9uZW50cy5CdXR0b247XG52YXIgX18gPSB3cC5pMThuLl9fO1xuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIG1hcmdpblZhbHVlID0gX3JlZi5tYXJnaW5WYWx1ZSxcbiAgICAgIG9uSG9yaXpvbnRhbE1hcmdpbnMgPSBfcmVmLm9uSG9yaXpvbnRhbE1hcmdpbnM7XG5cbiAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICBcImRpdlwiLFxuICAgIHsgY2xhc3NOYW1lOiBcImNvbXBvbmVudHMtYmFzZS1jb250cm9sXCIgfSxcbiAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImxhYmVsXCIsXG4gICAgICB7IGNsYXNzTmFtZTogXCJjb21wb25lbnRzLWJhc2UtY29udHJvbF9fbGFiZWxcIiB9LFxuICAgICAgXCJIb3Jpem9udGFsIG1hcmdpbiAoJSlcIlxuICAgICksXG4gICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgQnV0dG9uR3JvdXAsXG4gICAgICBudWxsLFxuICAgICAgW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShBcnJheSg2KSkpLm1hcChmdW5jdGlvbiAoXywgaSkge1xuICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIEJ1dHRvbixcbiAgICAgICAgICB7IG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvbkhvcml6b250YWxNYXJnaW5zKFwiMCBcIiArIGkgKiA0ICsgXCJ2dyAwIFwiICsgaSAqIDQgKyBcInZ3XCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzRGVmYXVsdDogbWFyZ2luVmFsdWUgIT09IFwiMCBcIiArIGkgKiA0ICsgXCJ2dyAwIFwiICsgaSAqIDQgKyBcInZ3XCIsXG4gICAgICAgICAgICBpc1ByaW1hcnk6IG1hcmdpblZhbHVlID09PSBcIjAgXCIgKyBpICogNCArIFwidncgMCBcIiArIGkgKiA0ICsgXCJ2d1wiIH0sXG4gICAgICAgICAgaSAqIDRcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgKVxuICApO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svY29udHJvbGxzL3NlY3Rpb25faG9yaXpvbnRhbFBhZGRpbmdzLmpzXG4vLyBtb2R1bGUgaWQgPSAyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///29\n");

/***/ }),
/* 30 */
/*!************************************************!*\
  !*** ./src/block/controlls/section_gridGap.js ***!
  \************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _wp$components = wp.components,\n    ButtonGroup = _wp$components.ButtonGroup,\n    Button = _wp$components.Button;\nvar __ = wp.i18n.__;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (_ref) {\n  var gapValue = _ref.gapValue,\n      onGridGap = _ref.onGridGap;\n\n  return wp.element.createElement(\n    \"div\",\n    { className: \"components-base-control\" },\n    wp.element.createElement(\n      \"label\",\n      { \"class\": \"components-base-control__label\" },\n      \"Grid gap (%)\"\n    ),\n    wp.element.createElement(\n      ButtonGroup,\n      null,\n      [].concat(_toConsumableArray(Array(6))).map(function (_, i) {\n        return wp.element.createElement(\n          Button,\n          { onClick: function onClick() {\n              return onGridGap(i);\n            },\n            isDefault: gapValue !== i,\n            isPrimary: gapValue === i },\n          i\n        );\n      })\n    )\n  );\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29udHJvbGxzL3NlY3Rpb25fZ3JpZEdhcC5qcz83YjY5Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG52YXIgX3dwJGNvbXBvbmVudHMgPSB3cC5jb21wb25lbnRzLFxuICAgIEJ1dHRvbkdyb3VwID0gX3dwJGNvbXBvbmVudHMuQnV0dG9uR3JvdXAsXG4gICAgQnV0dG9uID0gX3dwJGNvbXBvbmVudHMuQnV0dG9uO1xudmFyIF9fID0gd3AuaTE4bi5fXztcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBnYXBWYWx1ZSA9IF9yZWYuZ2FwVmFsdWUsXG4gICAgICBvbkdyaWRHYXAgPSBfcmVmLm9uR3JpZEdhcDtcblxuICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgIFwiZGl2XCIsXG4gICAgeyBjbGFzc05hbWU6IFwiY29tcG9uZW50cy1iYXNlLWNvbnRyb2xcIiB9LFxuICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgIFwibGFiZWxcIixcbiAgICAgIHsgXCJjbGFzc1wiOiBcImNvbXBvbmVudHMtYmFzZS1jb250cm9sX19sYWJlbFwiIH0sXG4gICAgICBcIkdyaWQgZ2FwICglKVwiXG4gICAgKSxcbiAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBCdXR0b25Hcm91cCxcbiAgICAgIG51bGwsXG4gICAgICBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KEFycmF5KDYpKSkubWFwKGZ1bmN0aW9uIChfLCBpKSB7XG4gICAgICAgIHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgQnV0dG9uLFxuICAgICAgICAgIHsgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9uR3JpZEdhcChpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0RlZmF1bHQ6IGdhcFZhbHVlICE9PSBpLFxuICAgICAgICAgICAgaXNQcmltYXJ5OiBnYXBWYWx1ZSA9PT0gaSB9LFxuICAgICAgICAgIGlcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgKVxuICApO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svY29udHJvbGxzL3NlY3Rpb25fZ3JpZEdhcC5qc1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///30\n");

/***/ }),
/* 31 */
/*!***********************************************!*\
  !*** ./src/block/controlls/isSlideChecker.js ***!
  \***********************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("var ToggleControl = wp.components.ToggleControl;\nvar __ = wp.i18n.__;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (props) {\n  var el = props.isSlider ? props.isSlider : false;\n  // el ? null : props.onIsSlider(false)\n  return wp.element.createElement(ToggleControl, { label: \"Display as slider\",\n    checked: el,\n    onChange: function onChange() {\n      return props.onIsSlider(!el);\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svY29udHJvbGxzL2lzU2xpZGVDaGVja2VyLmpzP2JjNDEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFRvZ2dsZUNvbnRyb2wgPSB3cC5jb21wb25lbnRzLlRvZ2dsZUNvbnRyb2w7XG52YXIgX18gPSB3cC5pMThuLl9fO1xuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKHByb3BzKSB7XG4gIHZhciBlbCA9IHByb3BzLmlzU2xpZGVyID8gcHJvcHMuaXNTbGlkZXIgOiBmYWxzZTtcbiAgLy8gZWwgPyBudWxsIDogcHJvcHMub25Jc1NsaWRlcihmYWxzZSlcbiAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChUb2dnbGVDb250cm9sLCB7IGxhYmVsOiBcIkRpc3BsYXkgYXMgc2xpZGVyXCIsXG4gICAgY2hlY2tlZDogZWwsXG4gICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge1xuICAgICAgcmV0dXJuIHByb3BzLm9uSXNTbGlkZXIoIWVsKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svY29udHJvbGxzL2lzU2xpZGVDaGVja2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31\n");

/***/ })
/******/ ]);